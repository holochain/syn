{"version":3,"file":"bundle.js","sources":["../../../../../node_modules/svelte/internal/index.mjs","../../../../../node_modules/svelte/store/index.mjs","../../src/stores.js","../../../../../node_modules/@webcomponents/scoped-custom-element-registry/scoped-custom-element-registry.min.js","../../../../../node_modules/@open-wc/dedupe-mixin/src/dedupeMixin.js","../../../../../node_modules/@lit/reactive-element/css-tag.js","../../../../../node_modules/@open-wc/scoped-elements/src/ScopedElementsMixin.js","../../../../../node_modules/@lit/reactive-element/reactive-element.js","../../../../../node_modules/lit-html/lit-html.js","../../../../../node_modules/lit-element/lit-element.js","../../../../../node_modules/@lit/reactive-element/decorators/property.js","../../../../../node_modules/@lit/reactive-element/decorators/state.js","../../../../../node_modules/@lit-labs/context/lib/context-event.js","../../../../../node_modules/@lit-labs/context/lib/create-context.js","../../../../../node_modules/lit-html/directive.js","../../../../../node_modules/@lit-labs/context/lib/controllers/context-container.js","../../../../../node_modules/@lit-labs/context/lib/directives/provide.js","../../../../../node_modules/@lit-labs/context/lib/controllers/context-consumer.js","../../../../../node_modules/@lit-labs/context/lib/decorators/context-provided.js","../../../../../node_modules/@lit/reactive-element/decorators/base.js","../../../../../node_modules/lit-svelte-stores/dist/store-controller.js","../../../../../node_modules/lit-svelte-stores/dist/dynamic-store.js","../../../../libs/elements/dist/context/contexts.js","../../../../libs/elements/dist/context/syn-session.js","../../../../libs/elements/dist/context/syn-context.js","../../../../../node_modules/lit-html/directives/style-map.js","../../../../../node_modules/lit-html/directives/class-map.js","../../../../libs/elements/dist/utils/colors.js","../../../../libs/elements/dist/folks/syn-folk.js","../../../../libs/elements/dist/shared-styles.js","../../../../libs/elements/dist/folks/syn-folks.js","../../../../../node_modules/@holochain-open-dev/core-types/dist/header.js","../../../../../node_modules/@holochain-open-dev/core-types/dist/dht-op.js","../../../../../node_modules/@holochain-open-dev/core-types/dist/entry-details.js","../../../../../node_modules/@holochain-open-dev/core-types/dist/metadata.js","../../../../../node_modules/js-base64/base64.mjs","../../../../../node_modules/@holochain-open-dev/core-types/dist/validation.js","../../../../libs/zome-client/node_modules/@msgpack/msgpack/dist.es5+esm/utils/int.mjs","../../../../libs/zome-client/node_modules/@msgpack/msgpack/dist.es5+esm/utils/utf8.mjs","../../../../libs/zome-client/node_modules/@msgpack/msgpack/dist.es5+esm/ExtData.mjs","../../../../libs/zome-client/node_modules/@msgpack/msgpack/dist.es5+esm/DecodeError.mjs","../../../../libs/zome-client/node_modules/@msgpack/msgpack/dist.es5+esm/timestamp.mjs","../../../../libs/zome-client/node_modules/@msgpack/msgpack/dist.es5+esm/ExtensionCodec.mjs","../../../../libs/zome-client/node_modules/@msgpack/msgpack/dist.es5+esm/utils/typedArrays.mjs","../../../../libs/zome-client/node_modules/@msgpack/msgpack/dist.es5+esm/Encoder.mjs","../../../../libs/zome-client/node_modules/@msgpack/msgpack/dist.es5+esm/encode.mjs","../../../../libs/zome-client/node_modules/@msgpack/msgpack/dist.es5+esm/utils/prettyByte.mjs","../../../../libs/zome-client/node_modules/@msgpack/msgpack/dist.es5+esm/CachedKeyDecoder.mjs","../../../../libs/zome-client/node_modules/@msgpack/msgpack/dist.es5+esm/Decoder.mjs","../../../../libs/zome-client/node_modules/@msgpack/msgpack/dist.es5+esm/decode.mjs","../../../../../node_modules/lodash-es/_freeGlobal.js","../../../../../node_modules/lodash-es/_root.js","../../../../../node_modules/lodash-es/_Symbol.js","../../../../../node_modules/lodash-es/_getRawTag.js","../../../../../node_modules/lodash-es/_objectToString.js","../../../../../node_modules/lodash-es/_baseGetTag.js","../../../../../node_modules/lodash-es/isObjectLike.js","../../../../../node_modules/lodash-es/isArray.js","../../../../../node_modules/lodash-es/isObject.js","../../../../../node_modules/lodash-es/identity.js","../../../../../node_modules/lodash-es/isFunction.js","../../../../../node_modules/lodash-es/_coreJsData.js","../../../../../node_modules/lodash-es/_isMasked.js","../../../../../node_modules/lodash-es/_toSource.js","../../../../../node_modules/lodash-es/_baseIsNative.js","../../../../../node_modules/lodash-es/_getNative.js","../../../../../node_modules/lodash-es/_getValue.js","../../../../../node_modules/lodash-es/_WeakMap.js","../../../../../node_modules/lodash-es/_baseCreate.js","../../../../../node_modules/lodash-es/_apply.js","../../../../../node_modules/lodash-es/_copyArray.js","../../../../../node_modules/lodash-es/_shortOut.js","../../../../../node_modules/lodash-es/_defineProperty.js","../../../../../node_modules/lodash-es/_baseSetToString.js","../../../../../node_modules/lodash-es/constant.js","../../../../../node_modules/lodash-es/_isIndex.js","../../../../../node_modules/lodash-es/_baseAssignValue.js","../../../../../node_modules/lodash-es/eq.js","../../../../../node_modules/lodash-es/_assignValue.js","../../../../../node_modules/lodash-es/_copyObject.js","../../../../../node_modules/lodash-es/_overRest.js","../../../../../node_modules/lodash-es/_baseRest.js","../../../../../node_modules/lodash-es/isLength.js","../../../../../node_modules/lodash-es/isArrayLike.js","../../../../../node_modules/lodash-es/_isPrototype.js","../../../../../node_modules/lodash-es/_baseIsArguments.js","../../../../../node_modules/lodash-es/isArguments.js","../../../../../node_modules/lodash-es/isBuffer.js","../../../../../node_modules/lodash-es/stubFalse.js","../../../../../node_modules/lodash-es/_baseIsTypedArray.js","../../../../../node_modules/lodash-es/_baseUnary.js","../../../../../node_modules/lodash-es/_nodeUtil.js","../../../../../node_modules/lodash-es/isTypedArray.js","../../../../../node_modules/lodash-es/_arrayLikeKeys.js","../../../../../node_modules/lodash-es/_baseTimes.js","../../../../../node_modules/lodash-es/_overArg.js","../../../../../node_modules/lodash-es/_nativeKeys.js","../../../../../node_modules/lodash-es/_baseKeys.js","../../../../../node_modules/lodash-es/keys.js","../../../../../node_modules/lodash-es/_baseKeysIn.js","../../../../../node_modules/lodash-es/_nativeKeysIn.js","../../../../../node_modules/lodash-es/keysIn.js","../../../../../node_modules/lodash-es/_nativeCreate.js","../../../../../node_modules/lodash-es/_hashGet.js","../../../../../node_modules/lodash-es/_hashHas.js","../../../../../node_modules/lodash-es/_Hash.js","../../../../../node_modules/lodash-es/_assocIndexOf.js","../../../../../node_modules/lodash-es/_hashClear.js","../../../../../node_modules/lodash-es/_hashDelete.js","../../../../../node_modules/lodash-es/_hashSet.js","../../../../../node_modules/lodash-es/_listCacheDelete.js","../../../../../node_modules/lodash-es/_ListCache.js","../../../../../node_modules/lodash-es/_listCacheClear.js","../../../../../node_modules/lodash-es/_listCacheGet.js","../../../../../node_modules/lodash-es/_listCacheHas.js","../../../../../node_modules/lodash-es/_listCacheSet.js","../../../../../node_modules/lodash-es/_Map.js","../../../../../node_modules/lodash-es/_getMapData.js","../../../../../node_modules/lodash-es/_isKeyable.js","../../../../../node_modules/lodash-es/_MapCache.js","../../../../../node_modules/lodash-es/_arrayPush.js","../../../../../node_modules/lodash-es/_mapCacheClear.js","../../../../../node_modules/lodash-es/_mapCacheDelete.js","../../../../../node_modules/lodash-es/_mapCacheGet.js","../../../../../node_modules/lodash-es/_mapCacheHas.js","../../../../../node_modules/lodash-es/_mapCacheSet.js","../../../../../node_modules/lodash-es/_getPrototype.js","../../../../../node_modules/lodash-es/isPlainObject.js","../../../../../node_modules/lodash-es/_Stack.js","../../../../../node_modules/lodash-es/_stackClear.js","../../../../../node_modules/lodash-es/_stackDelete.js","../../../../../node_modules/lodash-es/_stackGet.js","../../../../../node_modules/lodash-es/_stackHas.js","../../../../../node_modules/lodash-es/_stackSet.js","../../../../../node_modules/lodash-es/_cloneBuffer.js","../../../../../node_modules/lodash-es/stubArray.js","../../../../../node_modules/lodash-es/_getSymbols.js","../../../../../node_modules/lodash-es/_arrayFilter.js","../../../../../node_modules/lodash-es/_getSymbolsIn.js","../../../../../node_modules/lodash-es/_baseGetAllKeys.js","../../../../../node_modules/lodash-es/_getAllKeys.js","../../../../../node_modules/lodash-es/_getAllKeysIn.js","../../../../../node_modules/lodash-es/_DataView.js","../../../../../node_modules/lodash-es/_Promise.js","../../../../../node_modules/lodash-es/_Set.js","../../../../../node_modules/lodash-es/_getTag.js","../../../../../node_modules/lodash-es/_initCloneArray.js","../../../../../node_modules/lodash-es/_Uint8Array.js","../../../../../node_modules/lodash-es/_cloneArrayBuffer.js","../../../../../node_modules/lodash-es/_cloneRegExp.js","../../../../../node_modules/lodash-es/_cloneSymbol.js","../../../../../node_modules/lodash-es/_cloneTypedArray.js","../../../../../node_modules/lodash-es/_initCloneByTag.js","../../../../../node_modules/lodash-es/_cloneDataView.js","../../../../../node_modules/lodash-es/_initCloneObject.js","../../../../../node_modules/lodash-es/isMap.js","../../../../../node_modules/lodash-es/_baseIsMap.js","../../../../../node_modules/lodash-es/isSet.js","../../../../../node_modules/lodash-es/_baseIsSet.js","../../../../../node_modules/lodash-es/_baseClone.js","../../../../../node_modules/lodash-es/_copySymbolsIn.js","../../../../../node_modules/lodash-es/_baseAssignIn.js","../../../../../node_modules/lodash-es/_copySymbols.js","../../../../../node_modules/lodash-es/_baseAssign.js","../../../../../node_modules/lodash-es/_arrayEach.js","../../../../../node_modules/lodash-es/_SetCache.js","../../../../../node_modules/lodash-es/_arraySome.js","../../../../../node_modules/lodash-es/_setCacheAdd.js","../../../../../node_modules/lodash-es/_setCacheHas.js","../../../../../node_modules/lodash-es/_equalArrays.js","../../../../../node_modules/lodash-es/_cacheHas.js","../../../../../node_modules/lodash-es/_mapToArray.js","../../../../../node_modules/lodash-es/_setToArray.js","../../../../../node_modules/lodash-es/_equalByTag.js","../../../../../node_modules/lodash-es/_equalObjects.js","../../../../../node_modules/lodash-es/_baseIsEqualDeep.js","../../../../../node_modules/lodash-es/_baseIsEqual.js","../../../../../node_modules/lodash-es/_baseFor.js","../../../../../node_modules/lodash-es/_createBaseFor.js","../../../../../node_modules/lodash-es/_assignMergeValue.js","../../../../../node_modules/lodash-es/_safeGet.js","../../../../../node_modules/lodash-es/_baseMergeDeep.js","../../../../../node_modules/lodash-es/isArrayLikeObject.js","../../../../../node_modules/lodash-es/toPlainObject.js","../../../../../node_modules/lodash-es/_baseMerge.js","../../../../../node_modules/lodash-es/merge.js","../../../../../node_modules/lodash-es/_createAssigner.js","../../../../libs/zome-client/dist/types/signal.js","../../../../../node_modules/lodash-es/_isIterateeCall.js","../../../../libs/zome-client/dist/utils.js","../../../../libs/zome-client/dist/syn-client.js","../../../../../node_modules/lodash-es/isEqual.js","../../../../libs/store/dist/state/selectors.js","../../../../libs/store/dist/utils/colors.js","../../../../libs/store/dist/internal/workflows/folklore/utils.js","../../../../libs/store/dist/internal/utils.js","../../../../libs/store/dist/internal/workflows/commit/utils.js","../../../../libs/store/dist/internal/workflows/commit/scribe.js","../../../../libs/store/dist/internal/workflows/change/scribe.js","../../../../libs/store/dist/internal/workflows/folklore/folk.js","../../../../libs/store/dist/internal/workflows/folklore/scribe.js","../../../../libs/store/dist/internal/workflows/sessions/folk.js","../../../../libs/store/dist/internal/workflows/change/folk.js","../../../../../node_modules/lodash-es/cloneDeep.js","../../../../libs/store/dist/internal/signals.js","../../../../libs/store/dist/internal/workflows/sync/scribe.js","../../../../libs/store/dist/internal/workflows/sync/folk.js","../../../../libs/store/dist/internal/workflows/commit/folk.js","../../../../libs/store/dist/config.js","../../node_modules/@holochain/conductor-api/lib.es/api/admin.js","../../../../libs/store/dist/internal/workflows/folklore/index.js","../../../../libs/store/dist/internal/workflows/change/index.js","../../../../libs/store/dist/session-store.js","../../../../libs/store/dist/syn-store.js","../../../../../node_modules/@holochain-open-dev/core-types/dist/utils.js","../../../../libs/store/dist/state/syn-state.js","../../../../libs/store/dist/internal/tasks.js","../../../../libs/store/dist/internal/workflows/sessions/scribe.js","../../../../libs/store/dist/utils/unnest.js","../../src/Editor.svelte","../../src/Title.svelte","../../src/Debug.svelte","../../src/HistoryEntry.svelte","../../src/History.svelte","../../../../../node_modules/isomorphic-ws/browser.js","../../../../../node_modules/@msgpack/msgpack/dist.es5+esm/utils/utf8.mjs","../../../../../node_modules/@msgpack/msgpack/dist.es5+esm/ExtData.mjs","../../../../../node_modules/@msgpack/msgpack/dist.es5+esm/utils/int.mjs","../../../../../node_modules/@msgpack/msgpack/dist.es5+esm/timestamp.mjs","../../../../../node_modules/@msgpack/msgpack/dist.es5+esm/ExtensionCodec.mjs","../../../../../node_modules/@msgpack/msgpack/dist.es5+esm/utils/typedArrays.mjs","../../../../../node_modules/@msgpack/msgpack/dist.es5+esm/Encoder.mjs","../../../../../node_modules/@msgpack/msgpack/dist.es5+esm/encode.mjs","../../../../../node_modules/@msgpack/msgpack/dist.es5+esm/utils/prettyByte.mjs","../../../../../node_modules/@msgpack/msgpack/dist.es5+esm/CachedKeyDecoder.mjs","../../../../../node_modules/@msgpack/msgpack/dist.es5+esm/Decoder.mjs","../../../../../node_modules/@msgpack/msgpack/dist.es5+esm/decode.mjs","../../node_modules/@holochain/conductor-api/lib.es/websocket/client.js","../../node_modules/@holochain/conductor-api/lib.es/websocket/common.js","../../node_modules/@holochain/conductor-api/lib.es/api/common.js","../../node_modules/@holochain/conductor-api/lib.es/websocket/app.js","../../../../../node_modules/postmate/build/postmate.es.js","../../../../../node_modules/@holo-host/comb/build/async_with_timeout.js","../../../../../node_modules/@holo-host/comb/build/index.js","../../../../../node_modules/rollup-plugin-node-builtins/src/es6/events.js","../../../../../node_modules/@holo-host/web-sdk/src/index.js","../../../../../node_modules/@holochain/conductor-api/lib.es/api/admin.js","../../../../../node_modules/@holochain/conductor-api/lib.es/websocket/client.js","../../../../../node_modules/@holochain/conductor-api/lib.es/websocket/common.js","../../../../../node_modules/@holochain/conductor-api/lib.es/api/common.js","../../../../../node_modules/@holochain/conductor-api/lib.es/websocket/app.js","../../../../../node_modules/@holochain-open-dev/cell-client/dist/index.js","../../src/syn.js","../../src/App.svelte","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\nfunction start_hydrating() {\n    is_hydrating = true;\n}\nfunction end_hydrating() {\n    is_hydrating = false;\n}\nfunction upper_bound(low, high, key, value) {\n    // Return first index of value larger than input value in the range [low, high)\n    while (low < high) {\n        const mid = low + ((high - low) >> 1);\n        if (key(mid) <= value) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nfunction init_hydrate(target) {\n    if (target.hydrate_init)\n        return;\n    target.hydrate_init = true;\n    // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n    let children = target.childNodes;\n    // If target is <head>, there may be children without claim_order\n    if (target.nodeName === 'HEAD') {\n        const myChildren = [];\n        for (let i = 0; i < children.length; i++) {\n            const node = children[i];\n            if (node.claim_order !== undefined) {\n                myChildren.push(node);\n            }\n        }\n        children = myChildren;\n    }\n    /*\n    * Reorder claimed children optimally.\n    * We can reorder claimed children optimally by finding the longest subsequence of\n    * nodes that are already claimed in order and only moving the rest. The longest\n    * subsequence subsequence of nodes that are claimed in order can be found by\n    * computing the longest increasing subsequence of .claim_order values.\n    *\n    * This algorithm is optimal in generating the least amount of reorder operations\n    * possible.\n    *\n    * Proof:\n    * We know that, given a set of reordering operations, the nodes that do not move\n    * always form an increasing subsequence, since they do not move among each other\n    * meaning that they must be already ordered among each other. Thus, the maximal\n    * set of nodes that do not move form a longest increasing subsequence.\n    */\n    // Compute longest increasing subsequence\n    // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n    const m = new Int32Array(children.length + 1);\n    // Predecessor indices + 1\n    const p = new Int32Array(children.length);\n    m[0] = -1;\n    let longest = 0;\n    for (let i = 0; i < children.length; i++) {\n        const current = children[i].claim_order;\n        // Find the largest subsequence length such that it ends in a value less than our current value\n        // upper_bound returns first greater value, so we subtract one\n        // with fast path for when we are on the current longest subsequence\n        const seqLen = ((longest > 0 && children[m[longest]].claim_order <= current) ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;\n        p[i] = m[seqLen] + 1;\n        const newLen = seqLen + 1;\n        // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n        m[newLen] = i;\n        longest = Math.max(newLen, longest);\n    }\n    // The longest increasing subsequence of nodes (initially reversed)\n    const lis = [];\n    // The rest of the nodes, nodes that will be moved\n    const toMove = [];\n    let last = children.length - 1;\n    for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n        lis.push(children[cur - 1]);\n        for (; last >= cur; last--) {\n            toMove.push(children[last]);\n        }\n        last--;\n    }\n    for (; last >= 0; last--) {\n        toMove.push(children[last]);\n    }\n    lis.reverse();\n    // We sort the nodes being moved to guarantee that their insertion order matches the claim order\n    toMove.sort((a, b) => a.claim_order - b.claim_order);\n    // Finally, we move the nodes\n    for (let i = 0, j = 0; i < toMove.length; i++) {\n        while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n            j++;\n        }\n        const anchor = j < lis.length ? lis[j] : null;\n        target.insertBefore(toMove[i], anchor);\n    }\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root && root.host) {\n        return root;\n    }\n    return node.ownerDocument;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n}\nfunction append_hydration(target, node) {\n    if (is_hydrating) {\n        init_hydrate(target);\n        if ((target.actual_end_child === undefined) || ((target.actual_end_child !== null) && (target.actual_end_child.parentElement !== target))) {\n            target.actual_end_child = target.firstChild;\n        }\n        // Skip nodes of undefined ordering\n        while ((target.actual_end_child !== null) && (target.actual_end_child.claim_order === undefined)) {\n            target.actual_end_child = target.actual_end_child.nextSibling;\n        }\n        if (node !== target.actual_end_child) {\n            // We only insert if the ordering of this node should be modified or the parent node is not target\n            if (node.claim_order !== undefined || node.parentNode !== target) {\n                target.insertBefore(node, target.actual_end_child);\n            }\n        }\n        else {\n            target.actual_end_child = node.nextSibling;\n        }\n    }\n    else if (node.parentNode !== target || node.nextSibling !== null) {\n        target.appendChild(node);\n    }\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction insert_hydration(target, node, anchor) {\n    if (is_hydrating && !anchor) {\n        append_hydration(target, node);\n    }\n    else if (node.parentNode !== target || node.nextSibling != anchor) {\n        target.insertBefore(node, anchor || null);\n    }\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction trusted(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.isTrusted)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction init_claim_info(nodes) {\n    if (nodes.claim_info === undefined) {\n        nodes.claim_info = { last_index: 0, total_claimed: 0 };\n    }\n}\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n    // Try to find nodes in an order such that we lengthen the longest increasing subsequence\n    init_claim_info(nodes);\n    const resultNode = (() => {\n        // We first try to find an element after the previous one\n        for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                return node;\n            }\n        }\n        // Otherwise, we try to find one before\n        // We iterate in reverse so that we don't go too far back\n        for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                else if (replacement === undefined) {\n                    // Since we spliced before the last_index, we decrease it\n                    nodes.claim_info.last_index--;\n                }\n                return node;\n            }\n        }\n        // If we can't find any matching node, we create a new one\n        return createNode();\n    })();\n    resultNode.claim_order = nodes.claim_info.total_claimed;\n    nodes.claim_info.total_claimed += 1;\n    return resultNode;\n}\nfunction claim_element_base(nodes, name, attributes, create_element) {\n    return claim_node(nodes, (node) => node.nodeName === name, (node) => {\n        const remove = [];\n        for (let j = 0; j < node.attributes.length; j++) {\n            const attribute = node.attributes[j];\n            if (!attributes[attribute.name]) {\n                remove.push(attribute.name);\n            }\n        }\n        remove.forEach(v => node.removeAttribute(v));\n        return undefined;\n    }, () => create_element(name));\n}\nfunction claim_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, element);\n}\nfunction claim_svg_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, svg_element);\n}\nfunction claim_text(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 3, (node) => {\n        const dataStr = '' + data;\n        if (node.data.startsWith(dataStr)) {\n            if (node.data.length !== dataStr.length) {\n                return node.splitText(dataStr.length);\n            }\n        }\n        else {\n            node.data = dataStr;\n        }\n    }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n    );\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction find_comment(nodes, text, start) {\n    for (let i = start; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n            return i;\n        }\n    }\n    return nodes.length;\n}\nfunction claim_html_tag(nodes) {\n    // find html opening tag\n    const start_index = find_comment(nodes, 'HTML_TAG_START', 0);\n    const end_index = find_comment(nodes, 'HTML_TAG_END', start_index);\n    if (start_index === end_index) {\n        return new HtmlTagHydration();\n    }\n    init_claim_info(nodes);\n    const html_tag_nodes = nodes.splice(start_index, end_index + 1);\n    detach(html_tag_nodes[0]);\n    detach(html_tag_nodes[html_tag_nodes.length - 1]);\n    const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n    for (const n of claimed_nodes) {\n        n.claim_order = nodes.claim_info.total_claimed;\n        nodes.claim_info.total_claimed += 1;\n    }\n    return new HtmlTagHydration(claimed_nodes);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n    select.selectedIndex = -1; // no option should be selected\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, bubbles = false) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor() {\n        this.e = this.n = null;\n    }\n    c(html) {\n        this.h(html);\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.c(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nclass HtmlTagHydration extends HtmlTag {\n    constructor(claimed_nodes) {\n        super();\n        this.e = this.n = null;\n        this.l = claimed_nodes;\n    }\n    c(html) {\n        if (this.l) {\n            this.n = this.l;\n        }\n        else {\n            super.c(html);\n        }\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert_hydration(this.t, this.n[i], anchor);\n        }\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = append_empty_stylesheet(node).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction getAllContexts() {\n    return get_current_component().$$.context;\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${value}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction escape_attribute_value(value) {\n    return typeof value === 'string' ? escape(value) : value;\n}\nfunction escape_object(obj) {\n    const result = {};\n    for (const key in obj) {\n        result[key] = escape_attribute_value(obj[key]);\n    }\n    return result;\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : context || []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : options.context || []),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            start_hydrating();\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        end_hydrating();\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.42.4' }, detail), true));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction append_hydration_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append_hydration(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction insert_hydration_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert_hydration(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to separate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, HtmlTagHydration, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, append_empty_stylesheet, append_hydration, append_hydration_dev, append_styles, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_html_tag, claim_space, claim_svg_element, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, end_hydrating, escape, escape_attribute_value, escape_object, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getAllContexts, getContext, get_all_dirty_from_scope, get_binding_group_value, get_current_component, get_custom_elements_slots, get_root_for_style, get_slot_changes, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, insert_hydration, insert_hydration_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, src_url_equal, start_hydrating, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, trusted, update_await_block_branch, update_keyed_each, update_slot, update_slot_base, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal/index.mjs';\nexport { get_store_value as get } from '../internal/index.mjs';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = new Set();\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (const subscriber of subscribers) {\n                    subscriber[1]();\n                    subscriber_queue.push(subscriber, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.add(subscriber);\n        if (subscribers.size === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            subscribers.delete(subscriber);\n            if (subscribers.size === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","import { writable, readable, derived } from 'svelte/store'\n\nexport const session = writable()\n\nexport const content = writable({ title: '', body: '' })\n\nexport const folks = writable({})\n\nexport const connection = writable()\n\nexport const scribeStr = writable('')\n\nexport const requestedChanges = writable([])\n\nexport const recordedChanges = writable([])\n\nexport const committedChanges = writable([])\n\nexport const nextIndex = derived(\n  recordedChanges,\n  c => c.length\n)\n","(function(){\n/*\n\n Copyright (c) 2020 The Polymer Project Authors. All rights reserved.\n This code may only be used under the BSD style license found at\n http://polymer.github.io/LICENSE.txt\n The complete set of authors may be found at\n http://polymer.github.io/AUTHORS.txt\n The complete set of contributors may be found at\n http://polymer.github.io/CONTRIBUTORS.txt\n Code distributed by Google as part of the polymer project is also\n subject to an additional IP rights grant found at\n http://polymer.github.io/PATENTS.txt\n*/\n'use strict';function g(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}\nif(!ShadowRoot.prototype.createElement){var h=window.HTMLElement,l=window.customElements.define,m=window.customElements.get,n=window.customElements,p=new WeakMap,q=new WeakMap,r=new WeakMap,t=new WeakMap;window.CustomElementRegistry=function(){this.l=new Map;this.o=new Map;this.i=new Map;this.h=new Map};window.CustomElementRegistry.prototype.define=function(a,b){a=a.toLowerCase();if(void 0!==this.j(a))throw new DOMException(\"Failed to execute 'define' on 'CustomElementRegistry': the name \\\"\"+a+'\" has already been used with this registry');\nif(void 0!==this.o.get(b))throw new DOMException(\"Failed to execute 'define' on 'CustomElementRegistry': this constructor has already been used with this registry\");var c=b.prototype.attributeChangedCallback,d=new Set(b.observedAttributes||[]);u(b,d,c);c={g:b,connectedCallback:b.prototype.connectedCallback,disconnectedCallback:b.prototype.disconnectedCallback,adoptedCallback:b.prototype.adoptedCallback,attributeChangedCallback:c,observedAttributes:d};this.l.set(a,c);this.o.set(b,c);d=m.call(n,a);\nd||(d=v(a),l.call(n,a,d));this===window.customElements&&(r.set(b,c),c.s=d);if(d=this.h.get(a)){this.h.delete(a);var e=\"undefined\"!=typeof Symbol&&Symbol.iterator&&d[Symbol.iterator];d=e?e.call(d):{next:g(d)};for(e=d.next();!e.done;e=d.next())e=e.value,q.delete(e),w(e,c,!0)}c=this.i.get(a);void 0!==c&&(c.resolve(b),this.i.delete(a));return b};window.CustomElementRegistry.prototype.upgrade=function(){x.push(this);n.upgrade.apply(n,arguments);x.pop()};window.CustomElementRegistry.prototype.get=function(a){var b;\nreturn null==(b=this.l.get(a))?void 0:b.g};window.CustomElementRegistry.prototype.j=function(a){return this.l.get(a)};window.CustomElementRegistry.prototype.whenDefined=function(a){var b=this.j(a);if(void 0!==b)return Promise.resolve(b.g);var c=this.i.get(a);void 0===c&&(c={},c.promise=new Promise(function(d){return c.resolve=d}),this.i.set(a,c));return c.promise};window.CustomElementRegistry.prototype.m=function(a,b,c){var d=this.h.get(b);d||this.h.set(b,d=new Set);c?d.add(a):d.delete(a)};var y;\nwindow.HTMLElement=function(){var a=y;if(a)return y=void 0,a;var b=r.get(this.constructor);if(!b)throw new TypeError(\"Illegal constructor (custom element class must be registered with global customElements registry to be newable)\");a=Reflect.construct(h,[],b.s);Object.setPrototypeOf(a,this.constructor.prototype);p.set(a,b);return a};window.HTMLElement.prototype=h.prototype;var v=function(a){function b(){var c=Reflect.construct(h,[],this.constructor);Object.setPrototypeOf(c,HTMLElement.prototype);\na:{var d=c.getRootNode();if(!(d===document||d instanceof ShadowRoot)){d=x[x.length-1];if(d instanceof CustomElementRegistry){var e=d;break a}d=d.getRootNode();d===document||d instanceof ShadowRoot||(d=(null==(e=t.get(d))?void 0:e.getRootNode())||document)}e=d.customElements}e=e||window.customElements;(d=e.j(a))?w(c,d):q.set(c,e);return c}b.prototype.connectedCallback=function(){var c=p.get(this);c?c.connectedCallback&&c.connectedCallback.apply(this,arguments):q.get(this).m(this,a,!0)};b.prototype.disconnectedCallback=\nfunction(){var c=p.get(this);c?c.disconnectedCallback&&c.disconnectedCallback.apply(this,arguments):q.get(this).m(this,a,!1)};b.prototype.adoptedCallback=function(){var c,d;null==(c=p.get(this))||null==(d=c.adoptedCallback)||d.apply(this,arguments)};return b},u=function(a,b,c){if(0!==b.size&&void 0!==c){var d=a.prototype.setAttribute;d&&(a.prototype.setAttribute=function(f,k){if(b.has(f)){var C=this.getAttribute(f);d.call(this,f,k);c.call(this,f,C,k)}else d.call(this,f,k)});var e=a.prototype.removeAttribute;\ne&&(a.prototype.removeAttribute=function(f){if(b.has(f)){var k=this.getAttribute(f);e.call(this,f);c.call(this,f,k,null)}else e.call(this,f)})}},z=function(a){var b=Object.getPrototypeOf(a);if(b!==window.HTMLElement)return b===h?Object.setPrototypeOf(a,window.HTMLElement):z(b)},w=function(a,b,c){c=void 0===c?!1:c;Object.setPrototypeOf(a,b.g.prototype);p.set(a,b);y=a;try{new b.g}catch(d){z(b.g),new b.g}b.observedAttributes.forEach(function(d){a.hasAttribute(d)&&b.attributeChangedCallback.call(a,d,\nnull,a.getAttribute(d))});c&&b.connectedCallback&&a.isConnected&&b.connectedCallback.call(a)},A=Element.prototype.attachShadow;Element.prototype.attachShadow=function(a){var b=A.apply(this,arguments);a.customElements&&(b.customElements=a.customElements);return b};var x=[document],B=function(a,b,c){var d=(c?Object.getPrototypeOf(c):a.prototype)[b];a.prototype[b]=function(){x.push(this);var e=d.apply(c||this,arguments);void 0!==e&&t.set(e,this);x.pop();return e}};B(ShadowRoot,\"createElement\",document);\nB(ShadowRoot,\"importNode\",document);B(Element,\"insertAdjacentHTML\");var D=function(a){var b=Object.getOwnPropertyDescriptor(a.prototype,\"innerHTML\");Object.defineProperty(a.prototype,\"innerHTML\",Object.assign({},b,{set:function(c){x.push(this);b.set.call(this,c);x.pop()}}))};D(Element);D(ShadowRoot);Object.defineProperty(window,\"customElements\",{value:new CustomElementRegistry,configurable:!0,writable:!0})};\n}).call(self);\n\n//# sourceMappingURL=scoped-custom-element-registry.min.js.map\n","const appliedClassMixins = new WeakMap();\n\n/** Vefify if the Mixin was previously applyed\n * @private\n * @param {function} mixin      Mixin being applyed\n * @param {object} superClass   Class receiving the new mixin\n * @returns {boolean}\n */\nfunction wasMixinPreviouslyApplied(mixin, superClass) {\n  let klass = superClass;\n  while (klass) {\n    if (appliedClassMixins.get(klass) === mixin) {\n      return true;\n    }\n    klass = Object.getPrototypeOf(klass);\n  }\n  return false;\n}\n\n/** Apply each mixin in the chain to make sure they are not applied more than once to the final class.\n * @export\n * @param {function} mixin      Mixin to be applyed\n * @returns {object}            Mixed class with mixin applied\n */\nexport function dedupeMixin(mixin) {\n  return superClass => {\n    if (wasMixinPreviouslyApplied(mixin, superClass)) {\n      return superClass;\n    }\n    const mixedClass = mixin(superClass);\n    appliedClassMixins.set(mixedClass, mixin);\n    return mixedClass;\n  };\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,e=Symbol(),s=new Map;class n{constructor(t,s){if(this._$cssResult$=!0,s!==e)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t}get styleSheet(){let e=s.get(this.cssText);return t&&void 0===e&&(s.set(this.cssText,e=new CSSStyleSheet),e.replaceSync(this.cssText)),e}toString(){return this.cssText}}const o=t=>new n(\"string\"==typeof t?t:t+\"\",e),r=(t,...s)=>{const o=1===t.length?t[0]:s.reduce(((e,s,n)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(s)+t[n+1]),t[0]);return new n(o,e)},S=(e,s)=>{t?e.adoptedStyleSheets=s.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):s.forEach((t=>{const s=document.createElement(\"style\");s.textContent=t.cssText,e.appendChild(s)}))},i=t?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const s of t.cssRules)e+=s.cssText;return o(e)})(t):t;export{n as CSSResult,S as adoptStyles,r as css,i as getCompatibleStyle,t as supportsAdoptingStyleSheets,o as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n","import '@webcomponents/scoped-custom-element-registry';\nimport { dedupeMixin } from '@open-wc/dedupe-mixin';\nimport { adoptStyles } from '@lit/reactive-element/css-tag.js';\n\n/**\n * @typedef {import('./types').RenderOptions} RenderOptions\n * @typedef {import('./types').ScopedElementsMixin} ScopedElementsMixin\n * @typedef {import('./types').ScopedElementsHost} ScopedElementsHost\n * @typedef {import('./types').ScopedElementsMap} ScopedElementsMap\n * @typedef {import('@lit/reactive-element').CSSResultFlatArray} CSSResultFlatArray\n */\n\n/**\n * @template {import('./types').Constructor<HTMLElement>} T\n * @param {T} superclass\n * @return {T & import('./types').Constructor<ScopedElementsHost>}\n */\nconst ScopedElementsMixinImplementation = superclass =>\n  /** @type {ScopedElementsHost} */\n  class ScopedElementsHost extends superclass {\n    /**\n     * Obtains the scoped elements definitions map if specified.\n     *\n     * @returns {ScopedElementsMap}\n     */\n    static get scopedElements() {\n      return {};\n    }\n\n    /**\n     * Obtains the ShadowRoot options.\n     *\n     * @type {ShadowRootInit}\n     */\n    static get shadowRootOptions() {\n      return this.__shadowRootOptions;\n    }\n\n    /**\n     * Set the shadowRoot options.\n     *\n     * @param {ShadowRootInit} value\n     */\n    static set shadowRootOptions(value) {\n      this.__shadowRootOptions = value;\n    }\n\n    /**\n     * Obtains the element styles.\n     *\n     * @returns {CSSResultFlatArray}\n     */\n    static get elementStyles() {\n      return this.__elementStyles;\n    }\n\n    static set elementStyles(styles) {\n      this.__elementStyles = styles;\n    }\n\n    // either TS or ESLint will complain here\n    // eslint-disable-next-line no-unused-vars\n    constructor(..._args) {\n      super();\n      /** @type {RenderOptions} */\n      this.renderOptions = this.renderOptions || undefined;\n    }\n\n    /**\n     * Obtains the CustomElementRegistry associated to the ShadowRoot.\n     *\n     * @returns {CustomElementRegistry}\n     */\n    get registry() {\n      // @ts-ignore\n      return this.constructor.__registry;\n    }\n\n    /**\n     * Set the CustomElementRegistry associated to the ShadowRoot\n     *\n     * @param {CustomElementRegistry} registry\n     */\n    set registry(registry) {\n      // @ts-ignore\n      this.constructor.__registry = registry;\n    }\n\n    /** @override */\n    createRenderRoot() {\n      const {\n        scopedElements,\n        shadowRootOptions,\n        elementStyles,\n      } = /** @type {typeof ScopedElementsHost} */ (this.constructor);\n\n      if (!this.registry) {\n        this.registry = new CustomElementRegistry();\n\n        Object.entries(scopedElements).forEach(([tagName, klass]) =>\n          this.registry.define(tagName, klass),\n        );\n      }\n\n      /** @type {ShadowRootInit} */\n      const options = {\n        mode: 'open',\n        ...shadowRootOptions,\n        customElements: this.registry,\n      };\n\n      this.renderOptions.creationScope = this.attachShadow(options);\n\n      if (this.renderOptions.creationScope instanceof ShadowRoot)\n        adoptStyles(this.renderOptions.creationScope, elementStyles);\n\n      return this.renderOptions.creationScope;\n    }\n\n    /**\n     * Defines a scoped element.\n     *\n     * @param {string} tagName\n     * @param {typeof HTMLElement} klass\n     */\n    defineScopedElement(tagName, klass) {\n      return this.registry.get(tagName) || this.registry.define(tagName, klass);\n    }\n\n    /**\n     * @deprecated use the native el.tagName instead\n     *\n     * @param {string} tagName\n     * @returns {string} the tag name\n     */\n    // eslint-disable-next-line class-methods-use-this\n    getScopedTagName(tagName) {\n      return tagName;\n    }\n\n    /**\n     * @deprecated use the native el.tagName instead\n     *\n     * @param {string} tagName\n     * @returns {string} the tag name\n     */\n    // eslint-disable-next-line class-methods-use-this\n    static getScopedTagName(tagName) {\n      return tagName;\n    }\n  };\n\nexport const ScopedElementsMixin = dedupeMixin(ScopedElementsMixinImplementation);\n","import{getCompatibleStyle as t,adoptStyles as i}from\"./css-tag.js\";export{CSSResult,adoptStyles,css,getCompatibleStyle,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */var s,e,r,h;const o={toAttribute(t,i){switch(i){case Boolean:t=t?\"\":null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,i){let s=t;switch(i){case Boolean:s=null!==t;break;case Number:s=null===t?null:Number(t);break;case Object:case Array:try{s=JSON.parse(t)}catch(t){s=null}}return s}},n=(t,i)=>i!==t&&(i==i||t==t),l={attribute:!0,type:String,converter:o,reflect:!1,hasChanged:n};class a extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(t){var i;null!==(i=this.l)&&void 0!==i||(this.l=[]),this.l.push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((i,s)=>{const e=this._$Eh(s,i);void 0!==e&&(this._$Eu.set(e,s),t.push(e))})),t}static createProperty(t,i=l){if(i.state&&(i.attribute=!1),this.finalize(),this.elementProperties.set(t,i),!i.noAccessor&&!this.prototype.hasOwnProperty(t)){const s=\"symbol\"==typeof t?Symbol():\"__\"+t,e=this.getPropertyDescriptor(t,s,i);void 0!==e&&Object.defineProperty(this.prototype,t,e)}}static getPropertyDescriptor(t,i,s){return{get(){return this[i]},set(e){const r=this[t];this[i]=e,this.requestUpdate(t,r,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||l}static finalize(){if(this.hasOwnProperty(\"finalized\"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Eu=new Map,this.hasOwnProperty(\"properties\")){const t=this.properties,i=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const s of i)this.createProperty(s,t[s])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(i){const s=[];if(Array.isArray(i)){const e=new Set(i.flat(1/0).reverse());for(const i of e)s.unshift(t(i))}else void 0!==i&&s.push(t(i));return s}static _$Eh(t,i){const s=i.attribute;return!1===s?void 0:\"string\"==typeof s?s:\"string\"==typeof t?t.toLowerCase():void 0}o(){var t;this._$Ev=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Ep(),this.requestUpdate(),null===(t=this.constructor.l)||void 0===t||t.forEach((t=>t(this)))}addController(t){var i,s;(null!==(i=this._$Em)&&void 0!==i?i:this._$Em=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(s=t.hostConnected)||void 0===s||s.call(t))}removeController(t){var i;null===(i=this._$Em)||void 0===i||i.splice(this._$Em.indexOf(t)>>>0,1)}_$Ep(){this.constructor.elementProperties.forEach(((t,i)=>{this.hasOwnProperty(i)&&(this._$Et.set(i,this[i]),delete this[i])}))}createRenderRoot(){var t;const s=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return i(s,this.constructor.elementStyles),s}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$Em)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostConnected)||void 0===i?void 0:i.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$Em)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostDisconnected)||void 0===i?void 0:i.call(t)}))}attributeChangedCallback(t,i,s){this._$AK(t,s)}_$Eg(t,i,s=l){var e,r;const h=this.constructor._$Eh(t,s);if(void 0!==h&&!0===s.reflect){const n=(null!==(r=null===(e=s.converter)||void 0===e?void 0:e.toAttribute)&&void 0!==r?r:o.toAttribute)(i,s.type);this._$Ei=t,null==n?this.removeAttribute(h):this.setAttribute(h,n),this._$Ei=null}}_$AK(t,i){var s,e,r;const h=this.constructor,n=h._$Eu.get(t);if(void 0!==n&&this._$Ei!==n){const t=h.getPropertyOptions(n),l=t.converter,a=null!==(r=null!==(e=null===(s=l)||void 0===s?void 0:s.fromAttribute)&&void 0!==e?e:\"function\"==typeof l?l:null)&&void 0!==r?r:o.fromAttribute;this._$Ei=n,this[n]=a(i,t.type),this._$Ei=null}}requestUpdate(t,i,s){let e=!0;void 0!==t&&(((s=s||this.constructor.getPropertyOptions(t)).hasChanged||n)(this[t],i)?(this._$AL.has(t)||this._$AL.set(t,i),!0===s.reflect&&this._$Ei!==t&&(void 0===this._$ES&&(this._$ES=new Map),this._$ES.set(t,s))):e=!1),!this.isUpdatePending&&e&&(this._$Ev=this._$EC())}async _$EC(){this.isUpdatePending=!0;try{await this._$Ev}catch(t){Promise.reject(t)}const t=this.performUpdate();return null!=t&&await t,!this.isUpdatePending}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach(((t,i)=>this[i]=t)),this._$Et=void 0);let i=!1;const s=this._$AL;try{i=this.shouldUpdate(s),i?(this.willUpdate(s),null===(t=this._$Em)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostUpdate)||void 0===i?void 0:i.call(t)})),this.update(s)):this._$E_()}catch(t){throw i=!1,this._$E_(),t}i&&this._$AE(s)}willUpdate(t){}_$AE(t){var i;null===(i=this._$Em)||void 0===i||i.forEach((t=>{var i;return null===(i=t.hostUpdated)||void 0===i?void 0:i.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$E_(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ev}shouldUpdate(t){return!0}update(t){void 0!==this._$ES&&(this._$ES.forEach(((t,i)=>this._$Eg(i,this[i],t))),this._$ES=void 0),this._$E_()}updated(t){}firstUpdated(t){}}a.finalized=!0,a.elementProperties=new Map,a.elementStyles=[],a.shadowRootOptions={mode:\"open\"},null===(e=(s=globalThis).reactiveElementPlatformSupport)||void 0===e||e.call(s,{ReactiveElement:a}),(null!==(r=(h=globalThis).reactiveElementVersions)&&void 0!==r?r:h.reactiveElementVersions=[]).push(\"1.0.0-rc.3\");export{a as ReactiveElement,o as defaultConverter,n as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nvar t,i,s,e;const o=globalThis.trustedTypes,n=o?o.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,l=`lit$${(Math.random()+\"\").slice(9)}$`,h=\"?\"+l,r=`<${h}>`,u=document,c=(t=\"\")=>u.createComment(t),d=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,v=Array.isArray,a=t=>{var i;return v(t)||\"function\"==typeof(null===(i=t)||void 0===i?void 0:i[Symbol.iterator])},f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,_=/-->/g,m=/>/g,$=/>|[ \t\\n\f\\r](?:([^\\s\"'>=/]+)([ \t\\n\f\\r]*=[ \t\\n\f\\r]*(?:[^ \t\\n\f\\r\"'`<>=]|(\"|')|))|$)/g,g=/'/g,p=/\"/g,y=/^(?:script|style|textarea)$/i,b=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),T=b(1),x=b(2),w=Symbol.for(\"lit-noChange\"),A=Symbol.for(\"lit-nothing\"),C=new WeakMap,P=(t,i,s)=>{var e,o;const n=null!==(e=null==s?void 0:s.renderBefore)&&void 0!==e?e:i;let l=n._$litPart$;if(void 0===l){const t=null!==(o=null==s?void 0:s.renderBefore)&&void 0!==o?o:null;n._$litPart$=l=new k(i.insertBefore(c(),t),t,void 0,null!=s?s:{})}return l._$AI(t),l},V=u.createTreeWalker(u,129,null,!1),E=(t,i)=>{const s=t.length-1,e=[];let o,h=2===i?\"<svg>\":\"\",u=f;for(let i=0;i<s;i++){const s=t[i];let n,c,d=-1,v=0;for(;v<s.length&&(u.lastIndex=v,c=u.exec(s),null!==c);)v=u.lastIndex,u===f?\"!--\"===c[1]?u=_:void 0!==c[1]?u=m:void 0!==c[2]?(y.test(c[2])&&(o=RegExp(\"</\"+c[2],\"g\")),u=$):void 0!==c[3]&&(u=$):u===$?\">\"===c[0]?(u=null!=o?o:f,d=-1):void 0===c[1]?d=-2:(d=u.lastIndex-c[2].length,n=c[1],u=void 0===c[3]?$:'\"'===c[3]?p:g):u===p||u===g?u=$:u===_||u===m?u=f:(u=$,o=void 0);const a=u===$&&t[i+1].startsWith(\"/>\")?\" \":\"\";h+=u===f?s+r:d>=0?(e.push(n),s.slice(0,d)+\"$lit$\"+s.slice(d)+l+a):s+l+(-2===d?(e.push(void 0),i):a)}const c=h+(t[s]||\"<?>\")+(2===i?\"</svg>\":\"\");return[void 0!==n?n.createHTML(c):c,e]};class M{constructor({strings:t,_$litType$:i},s){let e;this.parts=[];let n=0,r=0;const u=t.length-1,d=this.parts,[v,a]=E(t,i);if(this.el=M.createElement(v,s),V.currentNode=this.el.content,2===i){const t=this.el.content,i=t.firstChild;i.remove(),t.append(...i.childNodes)}for(;null!==(e=V.nextNode())&&d.length<u;){if(1===e.nodeType){if(e.hasAttributes()){const t=[];for(const i of e.getAttributeNames())if(i.endsWith(\"$lit$\")||i.startsWith(l)){const s=a[r++];if(t.push(i),void 0!==s){const t=e.getAttribute(s.toLowerCase()+\"$lit$\").split(l),i=/([.?@])?(.*)/.exec(s);d.push({type:1,index:n,name:i[2],strings:t,ctor:\".\"===i[1]?I:\"?\"===i[1]?L:\"@\"===i[1]?R:H})}else d.push({type:6,index:n})}for(const i of t)e.removeAttribute(i)}if(y.test(e.tagName)){const t=e.textContent.split(l),i=t.length-1;if(i>0){e.textContent=o?o.emptyScript:\"\";for(let s=0;s<i;s++)e.append(t[s],c()),V.nextNode(),d.push({type:2,index:++n});e.append(t[i],c())}}}else if(8===e.nodeType)if(e.data===h)d.push({type:2,index:n});else{let t=-1;for(;-1!==(t=e.data.indexOf(l,t+1));)d.push({type:7,index:n}),t+=l.length-1}n++}}static createElement(t,i){const s=u.createElement(\"template\");return s.innerHTML=t,s}}function N(t,i,s=t,e){var o,n,l,h;if(i===w)return i;let r=void 0!==e?null===(o=s._$Cl)||void 0===o?void 0:o[e]:s._$Cu;const u=d(i)?void 0:i._$litDirective$;return(null==r?void 0:r.constructor)!==u&&(null===(n=null==r?void 0:r._$AO)||void 0===n||n.call(r,!1),void 0===u?r=void 0:(r=new u(t),r._$AT(t,s,e)),void 0!==e?(null!==(l=(h=s)._$Cl)&&void 0!==l?l:h._$Cl=[])[e]=r:s._$Cu=r),void 0!==r&&(i=N(t,r._$AS(t,i.values),r,e)),i}class S{constructor(t,i){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get _$AU(){return this._$AM._$AU}p(t){var i;const{el:{content:s},parts:e}=this._$AD,o=(null!==(i=null==t?void 0:t.creationScope)&&void 0!==i?i:u).importNode(s,!0);V.currentNode=o;let n=V.nextNode(),l=0,h=0,r=e[0];for(;void 0!==r;){if(l===r.index){let i;2===r.type?i=new k(n,n.nextSibling,this,t):1===r.type?i=new r.ctor(n,r.name,r.strings,this,t):6===r.type&&(i=new z(n,this,t)),this.v.push(i),r=e[++h]}l!==(null==r?void 0:r.index)&&(n=V.nextNode(),l++)}return o}m(t){let i=0;for(const s of this.v)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class k{constructor(t,i,s,e){this.type=2,this._$C_=!0,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e}get _$AU(){var t,i;return null!==(i=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==i?i:this._$C_}get parentNode(){return this._$AA.parentNode}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=N(this,t,i),d(t)?t===A||null==t||\"\"===t?(this._$AH!==A&&this._$AR(),this._$AH=A):t!==this._$AH&&t!==w&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.A(t):a(t)?this.M(t):this.$(t)}C(t,i=this._$AB){return this._$AA.parentNode.insertBefore(t,i)}A(t){this._$AH!==t&&(this._$AR(),this._$AH=this.C(t))}$(t){const i=this._$AA.nextSibling;null!==i&&3===i.nodeType&&(null===this._$AB?null===i.nextSibling:i===this._$AB.previousSibling)?i.data=t:this.A(u.createTextNode(t)),this._$AH=t}T(t){var i;const{values:s,_$litType$:e}=t,o=\"number\"==typeof e?this._$AC(t):(void 0===e.el&&(e.el=M.createElement(e.h,this.options)),e);if((null===(i=this._$AH)||void 0===i?void 0:i._$AD)===o)this._$AH.m(s);else{const t=new S(o,this),i=t.p(this.options);t.m(s),this.A(i),this._$AH=t}}_$AC(t){let i=C.get(t.strings);return void 0===i&&C.set(t.strings,i=new M(t)),i}M(t){v(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const o of t)e===i.length?i.push(s=new k(this.C(c()),this.C(c()),this,this.options)):s=i[e],s._$AI(o),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var i;void 0===this._$AM&&(this._$C_=t,null===(i=this._$AP)||void 0===i||i.call(this,t))}}class H{constructor(t,i,s,e,o){this.type=1,this._$AH=A,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=o,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(A),this.strings=s):this._$AH=A}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,i=this,s,e){const o=this.strings;let n=!1;if(void 0===o)t=N(this,t,i,0),n=!d(t)||t!==this._$AH&&t!==w,n&&(this._$AH=t);else{const e=t;let l,h;for(t=o[0],l=0;l<o.length-1;l++)h=N(this,e[s+l],i,l),h===w&&(h=this._$AH[l]),n||(n=!d(h)||h!==this._$AH[l]),h===A?t=A:t!==A&&(t+=(null!=h?h:\"\")+o[l+1]),this._$AH[l]=h}n&&!e&&this.P(t)}P(t){t===A?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:\"\")}}class I extends H{constructor(){super(...arguments),this.type=3}P(t){this.element[this.name]=t===A?void 0:t}}class L extends H{constructor(){super(...arguments),this.type=4}P(t){t&&t!==A?this.element.setAttribute(this.name,\"\"):this.element.removeAttribute(this.name)}}class R extends H{constructor(){super(...arguments),this.type=5}_$AI(t,i=this){var s;if((t=null!==(s=N(this,t,i,0))&&void 0!==s?s:A)===w)return;const e=this._$AH,o=t===A&&e!==A||t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive,n=t!==A&&(e===A||o);o&&this.element.removeEventListener(this.name,this,e),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var i,s;\"function\"==typeof this._$AH?this._$AH.call(null!==(s=null===(i=this.options)||void 0===i?void 0:i.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}class z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){N(this,t)}}const Z={V:\"$lit$\",k:l,R:h,I:1,N:E,D:S,L:a,j:N,H:k,O:H,W:L,Z:R,B:I,F:z};null===(i=(t=globalThis).litHtmlPlatformSupport)||void 0===i||i.call(t,M,k),(null!==(s=(e=globalThis).litHtmlVersions)&&void 0!==s?s:e.litHtmlVersions=[]).push(\"2.0.0-rc.4\");export{Z as _$LH,T as html,w as noChange,A as nothing,P as render,x as svg};\n//# sourceMappingURL=lit-html.js.map\n","import{ReactiveElement as t}from\"@lit/reactive-element\";export*from\"@lit/reactive-element\";import{render as e,noChange as r}from\"lit-html\";export*from\"lit-html\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */var i,l,o,s,n,a;const c=t;class h extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var t,e;const r=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=r.firstChild),r}update(t){const r=this.render();super.update(t),this._$Dt=e(r,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!1)}render(){return r}}h.finalized=!0,h._$litElement$=!0,null===(l=(i=globalThis).litElementHydrateSupport)||void 0===l||l.call(i,{LitElement:h}),null===(s=(o=globalThis).litElementPlatformSupport)||void 0===s||s.call(o,{LitElement:h});const u={_$AK:(t,e,r)=>{t._$AK(e,r)},_$AL:t=>t._$AL};(null!==(n=(a=globalThis).litElementVersions)&&void 0!==n?n:a.litElementVersions=[]).push(\"3.0.0-rc.3\");export{h as LitElement,c as UpdatingElement,u as _$LE};\n//# sourceMappingURL=lit-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst i=(i,e)=>\"method\"===e.kind&&e.descriptor&&!(\"value\"in e.descriptor)?{...e,finisher(n){n.createProperty(e.key,i)}}:{kind:\"field\",key:Symbol(),placement:\"own\",descriptor:{},originalKey:e.key,initializer(){\"function\"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,i)}};function e(e){return(n,t)=>void 0!==t?((i,e,n)=>{e.constructor.createProperty(n,i)})(e,n,t):i(e,n)}export{e as property};\n//# sourceMappingURL=property.js.map\n","import{property as r}from\"./property.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function t(t){return r({...t,state:!0})}export{t as state};\n//# sourceMappingURL=state.js.map\n","/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nclass s extends Event{constructor(s,t,e){super(\"context-request\",{bubbles:!0,composed:!0}),this.context=s,this.callback=t,this.multiple=e}}export{s as ContextEvent};\n//# sourceMappingURL=context-event.js.map\n","/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nfunction n(n,e){return{name:n,initialValue:e}}export{n as createContext};\n//# sourceMappingURL=create-context.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e=t=>(...e)=>({_$litDirective$:t,values:e});class i{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}export{i as Directive,t as PartType,e as directive};\n//# sourceMappingURL=directive.js.map\n","/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nclass t{constructor(t){this.callbacks=new Set,this.updateContext=()=>{this.callbacks.forEach((([t,s])=>t(this.o,s)))},void 0!==t&&(this.value=t)}get value(){return this.o}set value(t){this.setValue(t)}setValue(t,s=!1){let i=!1;t!==this.o&&(i=!0),this.o=t,(i||s)&&this.updateContext()}addCallback(t,s){if(s){const s=[t,()=>{this.callbacks.delete(s)}];this.callbacks.add(s)}t(this.value)}clearCallbacks(){this.callbacks.clear()}}export{t as ContextContainer};\n//# sourceMappingURL=context-container.js.map\n","import{directive as t,Directive as i,PartType as e}from\"lit/directive.js\";import{noChange as r}from\"lit\";import{ContextContainer as s}from\"../controllers/context-container.js\";class o extends i{constructor(t){if(super(t),this.onContextRequest=t=>{var i;t.context===this.i&&(t.stopPropagation(),null===(i=this.t)||void 0===i||i.addCallback(t.callback,t.multiple))},t.type!==e.ELEMENT)throw Error(\"The `provide` directive is only allowed on element bindings\")}render(t,i){return r}update(t,[i,e]){const r=this.render(i,e),o=t.element;return void 0===this.t&&(this.t=new s(e)),this.l!==o&&(this.l&&this.l.removeEventListener(\"context-request\",this.onContextRequest),this.l=o),this.i=i,this.t.value=e,null==o||o.addEventListener(\"context-request\",this.onContextRequest),r}}const n=t(o);export{o as ProvideDirective,n as provide};\n//# sourceMappingURL=provide.js.map\n","import{ContextEvent as t}from\"../context-event.js\";\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */class s{constructor(t,s,i,h=!1){this.host=t,this.context=s,this.callback=i,this.multiple=h,this.provided=!1,this.host.addController(this)}hostConnected(){setTimeout((()=>{this.host.dispatchEvent(new t(this.context,((t,s)=>{this.dispose&&(this.dispose!==s&&this.dispose(),this.multiple||this.dispose()),this.provided&&!this.multiple||(this.provided=!0,this.callback(t,s)),this.dispose=s}),this.multiple))}))}hostDisconnected(){this.dispose&&(this.dispose(),this.dispose=void 0)}}export{s as ContextConsumer};\n//# sourceMappingURL=context-consumer.js.map\n","import{decorateProperty as e}from\"@lit/reactive-element/decorators/base.js\";import{ContextConsumer as t}from\"../controllers/context-consumer.js\";\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function r({context:r,multiple:o}){return e({finisher:(e,n)=>{e.addInitializer((e=>{e.addController(new t(e,r,(t=>{e[n]=t}),o))}))}})}export{r as contextProvided};\n//# sourceMappingURL=context-provided.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst e=(e,t,o)=>{Object.defineProperty(t,o,e)},t=(e,t)=>({kind:\"method\",placement:\"prototype\",key:t.key,descriptor:e}),o=({finisher:e,descriptor:t})=>(o,n)=>{var r;if(void 0===n){const n=null!==(r=o.originalKey)&&void 0!==r?r:o.key,i=null!=t?{kind:\"method\",placement:\"prototype\",key:n,descriptor:t(o.key)}:{...o,key:n};return null!=e&&(i.finisher=function(t){e(t,n)}),i}{const r=o.constructor;void 0!==t&&Object.defineProperty(o,n,t(n)),null==e||e(r,n)}};export{o as decorateProperty,e as legacyPrototypeMethod,t as standardPrototypeMethod};\n//# sourceMappingURL=base.js.map\n","export class StoreController {\n    constructor(host, store, callback) {\n        this.host = host;\n        this.store = store;\n        this.callback = callback;\n        host.addController(this);\n    }\n    hostConnected() {\n        this._unsubscribe = this.store.subscribe((value) => {\n            this.value = value;\n            if (this.callback)\n                this.callback(value);\n            this.host.requestUpdate();\n        });\n    }\n    hostDisconnected() {\n        this._unsubscribe();\n    }\n}\n//# sourceMappingURL=store-controller.js.map","/**\n * Tracks a changing store, derived at each update\n */\nexport class DynamicStore {\n    constructor(host, getStore) {\n        this.host = host;\n        this.getStore = getStore;\n        host.addController(this);\n    }\n    hostConnected() {\n        this.resubscribe();\n    }\n    hostUpdate() {\n        this.resubscribe();\n    }\n    hostDisconnected() {\n        this._unsubscribe();\n    }\n    resubscribe() {\n        const store = this.getStore();\n        if (store !== this._previousStore) {\n            if (this._unsubscribe)\n                this._unsubscribe();\n            if (store) {\n                this._unsubscribe = store.subscribe((value) => {\n                    this.value = value;\n                    this.host.requestUpdate();\n                });\n            }\n        }\n        this._previousStore = store;\n    }\n}\n//# sourceMappingURL=dynamic-store.js.map","import { createContext } from '@lit-labs/context';\nexport const synContext = createContext('syn-context', undefined);\nexport const synSessionContext = createContext('syn-session-context', undefined);\n//# sourceMappingURL=contexts.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ScopedElementsMixin } from '@open-wc/scoped-elements';\nimport { css, html, LitElement } from 'lit';\nimport { property, state } from 'lit/decorators.js';\nimport { contextProvided, provide } from '@lit-labs/context';\nimport { synSessionContext, synContext } from './contexts';\nexport class SynSession extends ScopedElementsMixin(LitElement) {\n    render() {\n        var _a;\n        return html `\n    <slot\n      ${provide(synSessionContext, (_a = this.synStore) === null || _a === void 0 ? void 0 : _a.sessionStore(this.sessionHash))}\n    ></slot>`;\n    }\n    static get styles() {\n        return css `\n      :host {\n        display: contents;\n      }\n    `;\n    }\n}\n__decorate([\n    property({ attribute: 'session-hash' })\n], SynSession.prototype, \"sessionHash\", void 0);\n__decorate([\n    contextProvided({ context: synContext, multiple: true }),\n    state()\n], SynSession.prototype, \"synStore\", void 0);\n//# sourceMappingURL=syn-session.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ScopedElementsMixin } from '@open-wc/scoped-elements';\nimport { css, html, LitElement } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { provide } from '@lit-labs/context';\nimport { StoreController } from 'lit-svelte-stores';\nimport { synContext } from './contexts';\nimport { SynSession } from './syn-session';\n/**\n * Context provider element to serve as a container for all the\n * other syn elements\n */\nexport class SynContext extends ScopedElementsMixin(LitElement) {\n    updated(cv) {\n        super.updated(cv);\n        if (cv.has('store')) {\n            this._activeSession = new StoreController(this, this.store.activeSession);\n        }\n    }\n    render() {\n        var _a, _b;\n        return html `\n      <syn-session\n        .sessionHash=${(_b = (_a = this._activeSession) === null || _a === void 0 ? void 0 : _a.value) === null || _b === void 0 ? void 0 : _b.hash}\n        ${provide(synContext, this.store)}\n      >\n        <slot></slot>\n      </syn-session>\n    `;\n    }\n    static get styles() {\n        return css `\n      :host {\n        display: contents;\n      }\n    `;\n    }\n    static get scopedElements() {\n        return {\n            'syn-session': SynSession,\n        };\n    }\n}\n__decorate([\n    property()\n], SynContext.prototype, \"store\", void 0);\n//# sourceMappingURL=syn-context.js.map","import{noChange as t}from\"../lit-html.js\";import{directive as e,Directive as r,PartType as s}from\"../directive.js\";\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const i=e(class extends r{constructor(t){var e;if(super(t),t.type!==s.ATTRIBUTE||\"style\"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error(\"The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.\")}render(t){return Object.keys(t).reduce(((e,r)=>{const s=t[r];return null==s?e:e+`${r=r.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,\"-$&\").toLowerCase()}:${s};`}),\"\")}update(e,[r]){const{style:s}=e.element;if(void 0===this.ct){this.ct=new Set;for(const t in r)this.ct.add(t);return this.render(r)}this.ct.forEach((t=>{null==r[t]&&(this.ct.delete(t),t.includes(\"-\")?s.removeProperty(t):s[t]=\"\")}));for(const t in r){const e=r[t];null!=e&&(this.ct.add(t),t.includes(\"-\")?s.setProperty(t,e):s[t]=e)}return t}});export{i as styleMap};\n//# sourceMappingURL=style-map.js.map\n","import{noChange as t}from\"../lit-html.js\";import{directive as s,Directive as r,PartType as i}from\"../directive.js\";\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const e=s(class extends r{constructor(t){var s;if(super(t),t.type!==i.ATTRIBUTE||\"class\"!==t.name||(null===(s=t.strings)||void 0===s?void 0:s.length)>2)throw Error(\"`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.\")}render(t){return Object.keys(t).filter((s=>t[s])).join(\" \")}update(s,[r]){if(void 0===this.st){this.st=new Set;for(const t in r)r[t]&&this.st.add(t);return this.render(r)}const i=s.element.classList;this.st.forEach((t=>{t in r||(i.remove(t),this.st.delete(t))}));for(const t in r){const s=!!r[t];s!==this.st.has(t)&&(s?(i.add(t),this.st.add(t)):(i.remove(t),this.st.delete(t)))}return t}});export{e as classMap};\n//# sourceMappingURL=class-map.js.map\n","export function CSSifyHSL(hslArray) {\n    const [h, s, l] = hslArray;\n    return `hsl(${h} ${s}% ${l}%)`;\n}\n//# sourceMappingURL=colors.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ScopedElementsMixin } from '@open-wc/scoped-elements';\nimport { css, html, LitElement } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { styleMap } from 'lit/directives/style-map.js';\nimport { classMap } from 'lit/directives/class-map.js';\nimport { CSSifyHSL } from '../utils/colors';\nexport class SynFolk extends ScopedElementsMixin(LitElement) {\n    constructor() {\n        super(...arguments);\n        this.isScribe = false;\n    }\n    render() {\n        return html `\n      <div class=${classMap({ 'scribe-wrapper': this.isScribe })}>\n        <div\n          class=${classMap({\n            folk: true,\n            scribe: this.isScribe,\n            'out-of-session': this.folk.inSession,\n        })}\n          class=\"folk scribe\"\n          class:me\n          class:out-of-session=\"{outOfSession}\"\n          style=${styleMap({\n            'background-color': CSSifyHSL(this.folk.colors.primary),\n        })}\n        >\n          <div\n            class=\"folk-color\"\n            style=${styleMap({\n            'background-color': CSSifyHSL(this.folk.colors.hexagon),\n        })}\n          ></div>\n          ${this.pubKey.slice(-4)}\n        </div>\n        ${this.isScribe ? html ` <div class=\"scribe-halo\"></div> ` : html ``}\n      </div>\n    `;\n    }\n    static get styles() {\n        return css `\n      :host {\n        --folk-hex-width: 60px;\n        --folk-hex-height: calc(var(--folk-hex-width) * 0.8666);\n        --hex-border: 4px;\n        --scribe-hex-width: calc(var(--folk-hex-width) - 2 * var(--hex-border));\n        --scribe-hex-height: calc(\n          var(--folk-hex-height) - 2 * var(--hex-border)\n        );\n        --scribe-scale: 0.8666;\n      }\n      .folk {\n        display: grid;\n        width: var(--folk-hex-width);\n        height: var(--folk-hex-height);\n        clip-path: polygon(\n          25% 0%,\n          75% 0%,\n          100% 50%,\n          75% 100%,\n          25% 100%,\n          0% 50%\n        );\n        place-items: center;\n        color: white;\n        text-shadow: 0 0 5px black;\n        cursor: pointer;\n      }\n      .folk-color {\n        z-index: -10;\n        content: '';\n        width: calc(var(--folk-hex-width) - (var(--hex-border)) * 2);\n        height: calc(var(--folk-hex-height) - (var(--hex-border)) * 2);\n        clip-path: polygon(\n          25% 0%,\n          75% 0%,\n          100% 50%,\n          75% 100%,\n          25% 100%,\n          0% 50%\n        );\n        position: absolute;\n      }\n\n      .scribe-wrapper {\n        display: grid;\n        position: relative;\n        place-items: center;\n      }\n      .scribe-halo {\n        width: var(--folk-hex-width);\n        height: var(--folk-hex-height);\n        /* https://www.desmos.com/calculator/bgt97otugr */\n        clip-path: polygon(\n          25%0%,\n          75%0%,\n          100%50%,\n          75%100%,\n          25%100%,\n          12.5% 75%,\n          calc(12.5% + 1.732px) calc(75% - 1px),\n          calc(25% + 1.15px) calc(100% - 2px),\n          50% calc(100% - 2px),\n          50% 100%,\n          75% 100%,\n          87.5% 75%,\n          calc(87.5% - 1.732px) calc(75% - 1px),\n          calc(100% - 2.31px) 50%,\n          calc(87.5% - 1.732px) calc(25% + 1px),\n          87.5% 25%,\n          75%0%,\n          50%0%,\n          50% calc(0% + 2px),\n          calc(25% + 1.15px) calc(0% + 2px),\n          calc(12.5% + 1.732px) calc(25% + 1px),\n          12.5% 25%\n        );\n        background-color: hsl(0, 0%, 10%);\n        position: absolute;\n      }\n      .scribe {\n        margin: var(--hex-border) 0;\n        scale: var(--scribe-scale);\n      }\n\n      .out-of-session {\n        /* folk hex outline */\n        background-color: goldenrod !important;\n      }\n      .out-of-session div {\n        /* folk-color */\n        background-color: goldenrodyellow !important;\n        /* FIXME: this should grey out the hex instead of make it yellow :)*/\n      }\n    `;\n    }\n}\n__decorate([\n    property()\n], SynFolk.prototype, \"pubKey\", void 0);\n__decorate([\n    property()\n], SynFolk.prototype, \"folk\", void 0);\n__decorate([\n    property({ attribute: 'is-scribe' })\n], SynFolk.prototype, \"isScribe\", void 0);\n//# sourceMappingURL=syn-folk.js.map","import { css } from 'lit';\nexport const sharedStyles = css `\n  .row {\n    display: flex;\n    flex-direction: row;\n  }\n  .column {\n    display: flex;\n    flex-direction: column;\n  }\n`;\n//# sourceMappingURL=shared-styles.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ScopedElementsMixin } from '@open-wc/scoped-elements';\nimport { html, LitElement } from 'lit';\nimport { DynamicStore } from 'lit-svelte-stores';\nimport { state } from 'lit/decorators.js';\nimport { contextProvided } from '@lit-labs/context';\nimport { synContext, synSessionContext } from '../context/contexts';\nimport { SynFolk } from './syn-folk';\nimport { sharedStyles } from '../shared-styles';\nexport class SynFolks extends ScopedElementsMixin(LitElement) {\n    constructor() {\n        super(...arguments);\n        this._folks = new DynamicStore(this, () => { var _a; return (_a = this.session) === null || _a === void 0 ? void 0 : _a.folks; });\n    }\n    render() {\n        if (!this.session || !this._folks.value)\n            return html `<span>There is no active session</span>`;\n        return html `\n      <div class=\"column\">\n        <syn-folk\n          .pubKey=${this.syn.myPubKey}\n          .folk=${{\n            colors: this.syn.myColors,\n            inSession: true,\n            lastSeen: Date.now(),\n        }}\n        ></syn-folk>\n        ${Object.entries(this._folks.value).map(([pubKey, folk]) => html `<syn-folk\n              .pubKey=${pubKey}\n              .folk=${folk}\n              .isScribe=${this.session.info.scribe === pubKey}\n            ></syn-folk>`)}\n      </div>\n    `;\n    }\n    static get scopedElements() {\n        return {\n            'syn-folk': SynFolk,\n        };\n    }\n    static get styles() {\n        return sharedStyles;\n    }\n}\n__decorate([\n    contextProvided({ context: synContext, multiple: true }),\n    state()\n], SynFolks.prototype, \"syn\", void 0);\n__decorate([\n    contextProvided({ context: synSessionContext, multiple: true }),\n    state()\n], SynFolks.prototype, \"session\", void 0);\n//# sourceMappingURL=syn-folks.js.map","export var HeaderType;\n(function (HeaderType) {\n    HeaderType[\"Dna\"] = \"Dna\";\n    HeaderType[\"AgentValidationPkg\"] = \"AgentValidationPkg\";\n    HeaderType[\"InitZomesComplete\"] = \"InitZomesComplete\";\n    HeaderType[\"CreateLink\"] = \"CreateLink\";\n    HeaderType[\"DeleteLink\"] = \"DeleteLink\";\n    HeaderType[\"OpenChain\"] = \"OpenChain\";\n    HeaderType[\"CloseChain\"] = \"CloseChain\";\n    HeaderType[\"Create\"] = \"Create\";\n    HeaderType[\"Update\"] = \"Update\";\n    HeaderType[\"Delete\"] = \"Delete\";\n})(HeaderType || (HeaderType = {}));\n//# sourceMappingURL=header.js.map","import { HeaderType, } from \"./header\";\n// https://github.com/holochain/holochain/blob/develop/crates/types/src/dht_op.rs\nexport var DHTOpType;\n(function (DHTOpType) {\n    DHTOpType[\"StoreElement\"] = \"StoreElement\";\n    DHTOpType[\"StoreEntry\"] = \"StoreEntry\";\n    DHTOpType[\"RegisterAgentActivity\"] = \"RegisterAgentActivity\";\n    DHTOpType[\"RegisterUpdatedContent\"] = \"RegisterUpdatedContent\";\n    DHTOpType[\"RegisterUpdatedElement\"] = \"RegisterUpdatedElement\";\n    DHTOpType[\"RegisterDeletedBy\"] = \"RegisterDeletedBy\";\n    DHTOpType[\"RegisterDeletedEntryHeader\"] = \"RegisterDeletedEntryHeader\";\n    DHTOpType[\"RegisterAddLink\"] = \"RegisterAddLink\";\n    DHTOpType[\"RegisterRemoveLink\"] = \"RegisterRemoveLink\";\n})(DHTOpType || (DHTOpType = {}));\nexport const DHT_SORT_PRIORITY = [\n    DHTOpType.RegisterAgentActivity,\n    DHTOpType.StoreEntry,\n    DHTOpType.StoreElement,\n    DHTOpType.RegisterUpdatedContent,\n    DHTOpType.RegisterUpdatedElement,\n    DHTOpType.RegisterDeletedEntryHeader,\n    DHTOpType.RegisterDeletedBy,\n    DHTOpType.RegisterAddLink,\n    DHTOpType.RegisterRemoveLink,\n];\nexport function elementToDHTOps(element) {\n    const allDhtOps = [];\n    // All hdk commands have these two DHT Ops\n    allDhtOps.push({\n        type: DHTOpType.RegisterAgentActivity,\n        header: element.signed_header,\n    });\n    allDhtOps.push({\n        type: DHTOpType.StoreElement,\n        header: element.signed_header,\n        maybe_entry: element.entry,\n    });\n    // Each header derives into different DHTOps\n    if (element.signed_header.header.content.type == HeaderType.Update) {\n        allDhtOps.push({\n            type: DHTOpType.RegisterUpdatedContent,\n            header: element.signed_header,\n        });\n        allDhtOps.push({\n            type: DHTOpType.RegisterUpdatedElement,\n            header: element.signed_header,\n        });\n        allDhtOps.push({\n            type: DHTOpType.StoreEntry,\n            header: element.signed_header,\n            entry: element.entry,\n        });\n    }\n    else if (element.signed_header.header.content.type == HeaderType.Create) {\n        allDhtOps.push({\n            type: DHTOpType.StoreEntry,\n            header: element.signed_header,\n            entry: element.entry,\n        });\n    }\n    else if (element.signed_header.header.content.type == HeaderType.Delete) {\n        allDhtOps.push({\n            type: DHTOpType.RegisterDeletedBy,\n            header: element.signed_header,\n        });\n        allDhtOps.push({\n            type: DHTOpType.RegisterDeletedEntryHeader,\n            header: element.signed_header,\n        });\n    }\n    else if (element.signed_header.header.content.type == HeaderType.DeleteLink) {\n        allDhtOps.push({\n            type: DHTOpType.RegisterRemoveLink,\n            header: element.signed_header,\n        });\n    }\n    else if (element.signed_header.header.content.type == HeaderType.CreateLink) {\n        allDhtOps.push({\n            type: DHTOpType.RegisterAddLink,\n            header: element.signed_header,\n        });\n    }\n    return allDhtOps;\n}\nexport function sortDHTOps(dhtOps) {\n    const prio = (dhtOp) => DHT_SORT_PRIORITY.findIndex((type) => type === dhtOp.type);\n    return dhtOps.sort((dhtA, dhtB) => prio(dhtA) - prio(dhtB));\n}\nexport function getEntry(dhtOp) {\n    if (dhtOp.type === DHTOpType.StoreEntry)\n        return dhtOp.entry;\n    else if (dhtOp.type === DHTOpType.StoreElement)\n        return dhtOp.maybe_entry;\n    return undefined;\n}\n//# sourceMappingURL=dht-op.js.map","export var DetailsType;\n(function (DetailsType) {\n    DetailsType[DetailsType[\"Entry\"] = 0] = \"Entry\";\n    DetailsType[DetailsType[\"Element\"] = 1] = \"Element\";\n})(DetailsType || (DetailsType = {}));\n//# sourceMappingURL=entry-details.js.map","export function getSysMetaValHeaderHash(sys_meta_val) {\n    if (sys_meta_val.NewEntry)\n        return sys_meta_val.NewEntry;\n    if (sys_meta_val.Update)\n        return sys_meta_val.Update;\n    if (sys_meta_val.Delete)\n        return sys_meta_val.Delete;\n    if (sys_meta_val.Activity)\n        return sys_meta_val.Activity;\n    return undefined;\n}\nexport var ChainStatus;\n(function (ChainStatus) {\n    ChainStatus[ChainStatus[\"Empty\"] = 0] = \"Empty\";\n    ChainStatus[ChainStatus[\"Valid\"] = 1] = \"Valid\";\n    ChainStatus[ChainStatus[\"Forked\"] = 2] = \"Forked\";\n    ChainStatus[ChainStatus[\"Invalid\"] = 3] = \"Invalid\";\n})(ChainStatus || (ChainStatus = {}));\nexport var EntryDhtStatus;\n(function (EntryDhtStatus) {\n    EntryDhtStatus[EntryDhtStatus[\"Live\"] = 0] = \"Live\";\n    /// This [Entry] has no headers that have not been deleted\n    EntryDhtStatus[EntryDhtStatus[\"Dead\"] = 1] = \"Dead\";\n    /// This [Entry] is awaiting validation\n    EntryDhtStatus[EntryDhtStatus[\"Pending\"] = 2] = \"Pending\";\n    /// This [Entry] has failed validation and will not be served by the DHT\n    EntryDhtStatus[EntryDhtStatus[\"Rejected\"] = 3] = \"Rejected\";\n    /// This [Entry] has taken too long / too many resources to validate, so we gave up\n    EntryDhtStatus[EntryDhtStatus[\"Abandoned\"] = 4] = \"Abandoned\";\n    /// **not implemented** There has been a conflict when validating this [Entry]\n    EntryDhtStatus[EntryDhtStatus[\"Conflict\"] = 5] = \"Conflict\";\n    /// **not implemented** The author has withdrawn their publication of this element.\n    EntryDhtStatus[EntryDhtStatus[\"Withdrawn\"] = 6] = \"Withdrawn\";\n    /// **not implemented** We have agreed to drop this [Entry] content from the system. Header can stay with no entry\n    EntryDhtStatus[EntryDhtStatus[\"Purged\"] = 7] = \"Purged\";\n})(EntryDhtStatus || (EntryDhtStatus = {}));\n//# sourceMappingURL=metadata.js.map","/**\n *  base64.ts\n *\n *  Licensed under the BSD 3-Clause License.\n *    http://opensource.org/licenses/BSD-3-Clause\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n *\n * @author Dan Kogai (https://github.com/dankogai)\n */\nconst version = '3.6.1';\n/**\n * @deprecated use lowercase `version`.\n */\nconst VERSION = version;\nconst _hasatob = typeof atob === 'function';\nconst _hasbtoa = typeof btoa === 'function';\nconst _hasBuffer = typeof Buffer === 'function';\nconst _TD = typeof TextDecoder === 'function' ? new TextDecoder() : undefined;\nconst _TE = typeof TextEncoder === 'function' ? new TextEncoder() : undefined;\nconst b64ch = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\nconst b64chs = [...b64ch];\nconst b64tab = ((a) => {\n    let tab = {};\n    a.forEach((c, i) => tab[c] = i);\n    return tab;\n})(b64chs);\nconst b64re = /^(?:[A-Za-z\\d+\\/]{4})*?(?:[A-Za-z\\d+\\/]{2}(?:==)?|[A-Za-z\\d+\\/]{3}=?)?$/;\nconst _fromCC = String.fromCharCode.bind(String);\nconst _U8Afrom = typeof Uint8Array.from === 'function'\n    ? Uint8Array.from.bind(Uint8Array)\n    : (it, fn = (x) => x) => new Uint8Array(Array.prototype.slice.call(it, 0).map(fn));\nconst _mkUriSafe = (src) => src\n    .replace(/[+\\/]/g, (m0) => m0 == '+' ? '-' : '_')\n    .replace(/=+$/m, '');\nconst _tidyB64 = (s) => s.replace(/[^A-Za-z0-9\\+\\/]/g, '');\n/**\n * polyfill version of `btoa`\n */\nconst btoaPolyfill = (bin) => {\n    // console.log('polyfilled');\n    let u32, c0, c1, c2, asc = '';\n    const pad = bin.length % 3;\n    for (let i = 0; i < bin.length;) {\n        if ((c0 = bin.charCodeAt(i++)) > 255 ||\n            (c1 = bin.charCodeAt(i++)) > 255 ||\n            (c2 = bin.charCodeAt(i++)) > 255)\n            throw new TypeError('invalid character found');\n        u32 = (c0 << 16) | (c1 << 8) | c2;\n        asc += b64chs[u32 >> 18 & 63]\n            + b64chs[u32 >> 12 & 63]\n            + b64chs[u32 >> 6 & 63]\n            + b64chs[u32 & 63];\n    }\n    return pad ? asc.slice(0, pad - 3) + \"===\".substring(pad) : asc;\n};\n/**\n * does what `window.btoa` of web browsers do.\n * @param {String} bin binary string\n * @returns {string} Base64-encoded string\n */\nconst _btoa = _hasbtoa ? (bin) => btoa(bin)\n    : _hasBuffer ? (bin) => Buffer.from(bin, 'binary').toString('base64')\n        : btoaPolyfill;\nconst _fromUint8Array = _hasBuffer\n    ? (u8a) => Buffer.from(u8a).toString('base64')\n    : (u8a) => {\n        // cf. https://stackoverflow.com/questions/12710001/how-to-convert-uint8-array-to-base64-encoded-string/12713326#12713326\n        const maxargs = 0x1000;\n        let strs = [];\n        for (let i = 0, l = u8a.length; i < l; i += maxargs) {\n            strs.push(_fromCC.apply(null, u8a.subarray(i, i + maxargs)));\n        }\n        return _btoa(strs.join(''));\n    };\n/**\n * converts a Uint8Array to a Base64 string.\n * @param {boolean} [urlsafe] URL-and-filename-safe a la RFC4648 §5\n * @returns {string} Base64 string\n */\nconst fromUint8Array = (u8a, urlsafe = false) => urlsafe ? _mkUriSafe(_fromUint8Array(u8a)) : _fromUint8Array(u8a);\n// This trick is found broken https://github.com/dankogai/js-base64/issues/130\n// const utob = (src: string) => unescape(encodeURIComponent(src));\n// reverting good old fationed regexp\nconst cb_utob = (c) => {\n    if (c.length < 2) {\n        var cc = c.charCodeAt(0);\n        return cc < 0x80 ? c\n            : cc < 0x800 ? (_fromCC(0xc0 | (cc >>> 6))\n                + _fromCC(0x80 | (cc & 0x3f)))\n                : (_fromCC(0xe0 | ((cc >>> 12) & 0x0f))\n                    + _fromCC(0x80 | ((cc >>> 6) & 0x3f))\n                    + _fromCC(0x80 | (cc & 0x3f)));\n    }\n    else {\n        var cc = 0x10000\n            + (c.charCodeAt(0) - 0xD800) * 0x400\n            + (c.charCodeAt(1) - 0xDC00);\n        return (_fromCC(0xf0 | ((cc >>> 18) & 0x07))\n            + _fromCC(0x80 | ((cc >>> 12) & 0x3f))\n            + _fromCC(0x80 | ((cc >>> 6) & 0x3f))\n            + _fromCC(0x80 | (cc & 0x3f)));\n    }\n};\nconst re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n/**\n * @deprecated should have been internal use only.\n * @param {string} src UTF-8 string\n * @returns {string} UTF-16 string\n */\nconst utob = (u) => u.replace(re_utob, cb_utob);\n//\nconst _encode = _hasBuffer\n    ? (s) => Buffer.from(s, 'utf8').toString('base64')\n    : _TE\n        ? (s) => _fromUint8Array(_TE.encode(s))\n        : (s) => _btoa(utob(s));\n/**\n * converts a UTF-8-encoded string to a Base64 string.\n * @param {boolean} [urlsafe] if `true` make the result URL-safe\n * @returns {string} Base64 string\n */\nconst encode = (src, urlsafe = false) => urlsafe\n    ? _mkUriSafe(_encode(src))\n    : _encode(src);\n/**\n * converts a UTF-8-encoded string to URL-safe Base64 RFC4648 §5.\n * @returns {string} Base64 string\n */\nconst encodeURI = (src) => encode(src, true);\n// This trick is found broken https://github.com/dankogai/js-base64/issues/130\n// const btou = (src: string) => decodeURIComponent(escape(src));\n// reverting good old fationed regexp\nconst re_btou = /[\\xC0-\\xDF][\\x80-\\xBF]|[\\xE0-\\xEF][\\x80-\\xBF]{2}|[\\xF0-\\xF7][\\x80-\\xBF]{3}/g;\nconst cb_btou = (cccc) => {\n    switch (cccc.length) {\n        case 4:\n            var cp = ((0x07 & cccc.charCodeAt(0)) << 18)\n                | ((0x3f & cccc.charCodeAt(1)) << 12)\n                | ((0x3f & cccc.charCodeAt(2)) << 6)\n                | (0x3f & cccc.charCodeAt(3)), offset = cp - 0x10000;\n            return (_fromCC((offset >>> 10) + 0xD800)\n                + _fromCC((offset & 0x3FF) + 0xDC00));\n        case 3:\n            return _fromCC(((0x0f & cccc.charCodeAt(0)) << 12)\n                | ((0x3f & cccc.charCodeAt(1)) << 6)\n                | (0x3f & cccc.charCodeAt(2)));\n        default:\n            return _fromCC(((0x1f & cccc.charCodeAt(0)) << 6)\n                | (0x3f & cccc.charCodeAt(1)));\n    }\n};\n/**\n * @deprecated should have been internal use only.\n * @param {string} src UTF-16 string\n * @returns {string} UTF-8 string\n */\nconst btou = (b) => b.replace(re_btou, cb_btou);\n/**\n * polyfill version of `atob`\n */\nconst atobPolyfill = (asc) => {\n    // console.log('polyfilled');\n    asc = asc.replace(/\\s+/g, '');\n    if (!b64re.test(asc))\n        throw new TypeError('malformed base64.');\n    asc += '=='.slice(2 - (asc.length & 3));\n    let u24, bin = '', r1, r2;\n    for (let i = 0; i < asc.length;) {\n        u24 = b64tab[asc.charAt(i++)] << 18\n            | b64tab[asc.charAt(i++)] << 12\n            | (r1 = b64tab[asc.charAt(i++)]) << 6\n            | (r2 = b64tab[asc.charAt(i++)]);\n        bin += r1 === 64 ? _fromCC(u24 >> 16 & 255)\n            : r2 === 64 ? _fromCC(u24 >> 16 & 255, u24 >> 8 & 255)\n                : _fromCC(u24 >> 16 & 255, u24 >> 8 & 255, u24 & 255);\n    }\n    return bin;\n};\n/**\n * does what `window.atob` of web browsers do.\n * @param {String} asc Base64-encoded string\n * @returns {string} binary string\n */\nconst _atob = _hasatob ? (asc) => atob(_tidyB64(asc))\n    : _hasBuffer ? (asc) => Buffer.from(asc, 'base64').toString('binary')\n        : atobPolyfill;\n//\nconst _toUint8Array = _hasBuffer\n    ? (a) => _U8Afrom(Buffer.from(a, 'base64'))\n    : (a) => _U8Afrom(_atob(a), c => c.charCodeAt(0));\n/**\n * converts a Base64 string to a Uint8Array.\n */\nconst toUint8Array = (a) => _toUint8Array(_unURI(a));\n//\nconst _decode = _hasBuffer\n    ? (a) => Buffer.from(a, 'base64').toString('utf8')\n    : _TD\n        ? (a) => _TD.decode(_toUint8Array(a))\n        : (a) => btou(_atob(a));\nconst _unURI = (a) => _tidyB64(a.replace(/[-_]/g, (m0) => m0 == '-' ? '+' : '/'));\n/**\n * converts a Base64 string to a UTF-8 string.\n * @param {String} src Base64 string.  Both normal and URL-safe are supported\n * @returns {string} UTF-8 string\n */\nconst decode = (src) => _decode(_unURI(src));\n/**\n * check if a value is a valid Base64 string\n * @param {String} src a value to check\n  */\nconst isValid = (src) => {\n    if (typeof src !== 'string')\n        return false;\n    const s = src.replace(/\\s+/g, '').replace(/=+$/, '');\n    return !/[^\\s0-9a-zA-Z\\+/]/.test(s) || !/[^\\s0-9a-zA-Z\\-_]/.test(s);\n};\n//\nconst _noEnum = (v) => {\n    return {\n        value: v, enumerable: false, writable: true, configurable: true\n    };\n};\n/**\n * extend String.prototype with relevant methods\n */\nconst extendString = function () {\n    const _add = (name, body) => Object.defineProperty(String.prototype, name, _noEnum(body));\n    _add('fromBase64', function () { return decode(this); });\n    _add('toBase64', function (urlsafe) { return encode(this, urlsafe); });\n    _add('toBase64URI', function () { return encode(this, true); });\n    _add('toBase64URL', function () { return encode(this, true); });\n    _add('toUint8Array', function () { return toUint8Array(this); });\n};\n/**\n * extend Uint8Array.prototype with relevant methods\n */\nconst extendUint8Array = function () {\n    const _add = (name, body) => Object.defineProperty(Uint8Array.prototype, name, _noEnum(body));\n    _add('toBase64', function (urlsafe) { return fromUint8Array(this, urlsafe); });\n    _add('toBase64URI', function () { return fromUint8Array(this, true); });\n    _add('toBase64URL', function () { return fromUint8Array(this, true); });\n};\n/**\n * extend Builtin prototypes with relevant methods\n */\nconst extendBuiltins = () => {\n    extendString();\n    extendUint8Array();\n};\nconst gBase64 = {\n    version: version,\n    VERSION: VERSION,\n    atob: _atob,\n    atobPolyfill: atobPolyfill,\n    btoa: _btoa,\n    btoaPolyfill: btoaPolyfill,\n    fromBase64: decode,\n    toBase64: encode,\n    encode: encode,\n    encodeURI: encodeURI,\n    encodeURL: encodeURI,\n    utob: utob,\n    btou: btou,\n    decode: decode,\n    isValid: isValid,\n    fromUint8Array: fromUint8Array,\n    toUint8Array: toUint8Array,\n    extendString: extendString,\n    extendUint8Array: extendUint8Array,\n    extendBuiltins: extendBuiltins,\n};\n// makecjs:CUT //\nexport { version };\nexport { VERSION };\nexport { _atob as atob };\nexport { atobPolyfill };\nexport { _btoa as btoa };\nexport { btoaPolyfill };\nexport { decode as fromBase64 };\nexport { encode as toBase64 };\nexport { utob };\nexport { encode };\nexport { encodeURI };\nexport { encodeURI as encodeURL };\nexport { btou };\nexport { decode };\nexport { isValid };\nexport { fromUint8Array };\nexport { toUint8Array };\nexport { extendString };\nexport { extendUint8Array };\nexport { extendBuiltins };\n// and finally,\nexport { gBase64 as Base64 };\n","export var ValidationStatus;\n(function (ValidationStatus) {\n    ValidationStatus[ValidationStatus[\"Valid\"] = 0] = \"Valid\";\n    ValidationStatus[ValidationStatus[\"Rejected\"] = 1] = \"Rejected\";\n    ValidationStatus[ValidationStatus[\"Abandoned\"] = 2] = \"Abandoned\";\n})(ValidationStatus || (ValidationStatus = {}));\n//# sourceMappingURL=validation.js.map","// Integer Utility\nexport var UINT32_MAX = 4294967295;\n// DataView extension to handle int64 / uint64,\n// where the actual range is 53-bits integer (a.k.a. safe integer)\nexport function setUint64(view, offset, value) {\n    var high = value / 4294967296;\n    var low = value; // high bits are truncated by DataView\n    view.setUint32(offset, high);\n    view.setUint32(offset + 4, low);\n}\nexport function setInt64(view, offset, value) {\n    var high = Math.floor(value / 4294967296);\n    var low = value; // high bits are truncated by DataView\n    view.setUint32(offset, high);\n    view.setUint32(offset + 4, low);\n}\nexport function getInt64(view, offset) {\n    var high = view.getInt32(offset);\n    var low = view.getUint32(offset + 4);\n    return high * 4294967296 + low;\n}\nexport function getUint64(view, offset) {\n    var high = view.getUint32(offset);\n    var low = view.getUint32(offset + 4);\n    return high * 4294967296 + low;\n}\n//# sourceMappingURL=int.mjs.map","import { UINT32_MAX } from \"./int.mjs\";\nvar TEXT_ENCODING_AVAILABLE = (typeof process === \"undefined\" || process.env[\"TEXT_ENCODING\"] !== \"never\") &&\n    typeof TextEncoder !== \"undefined\" &&\n    typeof TextDecoder !== \"undefined\";\nexport function utf8Count(str) {\n    var strLength = str.length;\n    var byteLength = 0;\n    var pos = 0;\n    while (pos < strLength) {\n        var value = str.charCodeAt(pos++);\n        if ((value & 0xffffff80) === 0) {\n            // 1-byte\n            byteLength++;\n            continue;\n        }\n        else if ((value & 0xfffff800) === 0) {\n            // 2-bytes\n            byteLength += 2;\n        }\n        else {\n            // handle surrogate pair\n            if (value >= 0xd800 && value <= 0xdbff) {\n                // high surrogate\n                if (pos < strLength) {\n                    var extra = str.charCodeAt(pos);\n                    if ((extra & 0xfc00) === 0xdc00) {\n                        ++pos;\n                        value = ((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000;\n                    }\n                }\n            }\n            if ((value & 0xffff0000) === 0) {\n                // 3-byte\n                byteLength += 3;\n            }\n            else {\n                // 4-byte\n                byteLength += 4;\n            }\n        }\n    }\n    return byteLength;\n}\nexport function utf8EncodeJs(str, output, outputOffset) {\n    var strLength = str.length;\n    var offset = outputOffset;\n    var pos = 0;\n    while (pos < strLength) {\n        var value = str.charCodeAt(pos++);\n        if ((value & 0xffffff80) === 0) {\n            // 1-byte\n            output[offset++] = value;\n            continue;\n        }\n        else if ((value & 0xfffff800) === 0) {\n            // 2-bytes\n            output[offset++] = ((value >> 6) & 0x1f) | 0xc0;\n        }\n        else {\n            // handle surrogate pair\n            if (value >= 0xd800 && value <= 0xdbff) {\n                // high surrogate\n                if (pos < strLength) {\n                    var extra = str.charCodeAt(pos);\n                    if ((extra & 0xfc00) === 0xdc00) {\n                        ++pos;\n                        value = ((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000;\n                    }\n                }\n            }\n            if ((value & 0xffff0000) === 0) {\n                // 3-byte\n                output[offset++] = ((value >> 12) & 0x0f) | 0xe0;\n                output[offset++] = ((value >> 6) & 0x3f) | 0x80;\n            }\n            else {\n                // 4-byte\n                output[offset++] = ((value >> 18) & 0x07) | 0xf0;\n                output[offset++] = ((value >> 12) & 0x3f) | 0x80;\n                output[offset++] = ((value >> 6) & 0x3f) | 0x80;\n            }\n        }\n        output[offset++] = (value & 0x3f) | 0x80;\n    }\n}\nvar sharedTextEncoder = TEXT_ENCODING_AVAILABLE ? new TextEncoder() : undefined;\nexport var TEXT_ENCODER_THRESHOLD = !TEXT_ENCODING_AVAILABLE\n    ? UINT32_MAX\n    : typeof process !== \"undefined\" && process.env[\"TEXT_ENCODING\"] !== \"force\"\n        ? 200\n        : 0;\nfunction utf8EncodeTEencode(str, output, outputOffset) {\n    output.set(sharedTextEncoder.encode(str), outputOffset);\n}\nfunction utf8EncodeTEencodeInto(str, output, outputOffset) {\n    sharedTextEncoder.encodeInto(str, output.subarray(outputOffset));\n}\nexport var utf8EncodeTE = (sharedTextEncoder === null || sharedTextEncoder === void 0 ? void 0 : sharedTextEncoder.encodeInto) ? utf8EncodeTEencodeInto : utf8EncodeTEencode;\nvar CHUNK_SIZE = 4096;\nexport function utf8DecodeJs(bytes, inputOffset, byteLength) {\n    var offset = inputOffset;\n    var end = offset + byteLength;\n    var units = [];\n    var result = \"\";\n    while (offset < end) {\n        var byte1 = bytes[offset++];\n        if ((byte1 & 0x80) === 0) {\n            // 1 byte\n            units.push(byte1);\n        }\n        else if ((byte1 & 0xe0) === 0xc0) {\n            // 2 bytes\n            var byte2 = bytes[offset++] & 0x3f;\n            units.push(((byte1 & 0x1f) << 6) | byte2);\n        }\n        else if ((byte1 & 0xf0) === 0xe0) {\n            // 3 bytes\n            var byte2 = bytes[offset++] & 0x3f;\n            var byte3 = bytes[offset++] & 0x3f;\n            units.push(((byte1 & 0x1f) << 12) | (byte2 << 6) | byte3);\n        }\n        else if ((byte1 & 0xf8) === 0xf0) {\n            // 4 bytes\n            var byte2 = bytes[offset++] & 0x3f;\n            var byte3 = bytes[offset++] & 0x3f;\n            var byte4 = bytes[offset++] & 0x3f;\n            var unit = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0c) | (byte3 << 0x06) | byte4;\n            if (unit > 0xffff) {\n                unit -= 0x10000;\n                units.push(((unit >>> 10) & 0x3ff) | 0xd800);\n                unit = 0xdc00 | (unit & 0x3ff);\n            }\n            units.push(unit);\n        }\n        else {\n            units.push(byte1);\n        }\n        if (units.length >= CHUNK_SIZE) {\n            result += String.fromCharCode.apply(String, units);\n            units.length = 0;\n        }\n    }\n    if (units.length > 0) {\n        result += String.fromCharCode.apply(String, units);\n    }\n    return result;\n}\nvar sharedTextDecoder = TEXT_ENCODING_AVAILABLE ? new TextDecoder() : null;\nexport var TEXT_DECODER_THRESHOLD = !TEXT_ENCODING_AVAILABLE\n    ? UINT32_MAX\n    : typeof process !== \"undefined\" && process.env[\"TEXT_DECODER\"] !== \"force\"\n        ? 200\n        : 0;\nexport function utf8DecodeTD(bytes, inputOffset, byteLength) {\n    var stringBytes = bytes.subarray(inputOffset, inputOffset + byteLength);\n    return sharedTextDecoder.decode(stringBytes);\n}\n//# sourceMappingURL=utf8.mjs.map","/**\n * ExtData is used to handle Extension Types that are not registered to ExtensionCodec.\n */\nvar ExtData = /** @class */ (function () {\n    function ExtData(type, data) {\n        this.type = type;\n        this.data = data;\n    }\n    return ExtData;\n}());\nexport { ExtData };\n//# sourceMappingURL=ExtData.mjs.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar DecodeError = /** @class */ (function (_super) {\n    __extends(DecodeError, _super);\n    function DecodeError(message) {\n        var _this = _super.call(this, message) || this;\n        // fix the prototype chain in a cross-platform way\n        var proto = Object.create(DecodeError.prototype);\n        Object.setPrototypeOf(_this, proto);\n        Object.defineProperty(_this, \"name\", {\n            configurable: true,\n            enumerable: false,\n            value: DecodeError.name,\n        });\n        return _this;\n    }\n    return DecodeError;\n}(Error));\nexport { DecodeError };\n//# sourceMappingURL=DecodeError.mjs.map","// https://github.com/msgpack/msgpack/blob/master/spec.md#timestamp-extension-type\nimport { DecodeError } from \"./DecodeError.mjs\";\nimport { getInt64, setInt64 } from \"./utils/int.mjs\";\nexport var EXT_TIMESTAMP = -1;\nvar TIMESTAMP32_MAX_SEC = 0x100000000 - 1; // 32-bit unsigned int\nvar TIMESTAMP64_MAX_SEC = 0x400000000 - 1; // 34-bit unsigned int\nexport function encodeTimeSpecToTimestamp(_a) {\n    var sec = _a.sec, nsec = _a.nsec;\n    if (sec >= 0 && nsec >= 0 && sec <= TIMESTAMP64_MAX_SEC) {\n        // Here sec >= 0 && nsec >= 0\n        if (nsec === 0 && sec <= TIMESTAMP32_MAX_SEC) {\n            // timestamp 32 = { sec32 (unsigned) }\n            var rv = new Uint8Array(4);\n            var view = new DataView(rv.buffer);\n            view.setUint32(0, sec);\n            return rv;\n        }\n        else {\n            // timestamp 64 = { nsec30 (unsigned), sec34 (unsigned) }\n            var secHigh = sec / 0x100000000;\n            var secLow = sec & 0xffffffff;\n            var rv = new Uint8Array(8);\n            var view = new DataView(rv.buffer);\n            // nsec30 | secHigh2\n            view.setUint32(0, (nsec << 2) | (secHigh & 0x3));\n            // secLow32\n            view.setUint32(4, secLow);\n            return rv;\n        }\n    }\n    else {\n        // timestamp 96 = { nsec32 (unsigned), sec64 (signed) }\n        var rv = new Uint8Array(12);\n        var view = new DataView(rv.buffer);\n        view.setUint32(0, nsec);\n        setInt64(view, 4, sec);\n        return rv;\n    }\n}\nexport function encodeDateToTimeSpec(date) {\n    var msec = date.getTime();\n    var sec = Math.floor(msec / 1e3);\n    var nsec = (msec - sec * 1e3) * 1e6;\n    // Normalizes { sec, nsec } to ensure nsec is unsigned.\n    var nsecInSec = Math.floor(nsec / 1e9);\n    return {\n        sec: sec + nsecInSec,\n        nsec: nsec - nsecInSec * 1e9,\n    };\n}\nexport function encodeTimestampExtension(object) {\n    if (object instanceof Date) {\n        var timeSpec = encodeDateToTimeSpec(object);\n        return encodeTimeSpecToTimestamp(timeSpec);\n    }\n    else {\n        return null;\n    }\n}\nexport function decodeTimestampToTimeSpec(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n    // data may be 32, 64, or 96 bits\n    switch (data.byteLength) {\n        case 4: {\n            // timestamp 32 = { sec32 }\n            var sec = view.getUint32(0);\n            var nsec = 0;\n            return { sec: sec, nsec: nsec };\n        }\n        case 8: {\n            // timestamp 64 = { nsec30, sec34 }\n            var nsec30AndSecHigh2 = view.getUint32(0);\n            var secLow32 = view.getUint32(4);\n            var sec = (nsec30AndSecHigh2 & 0x3) * 0x100000000 + secLow32;\n            var nsec = nsec30AndSecHigh2 >>> 2;\n            return { sec: sec, nsec: nsec };\n        }\n        case 12: {\n            // timestamp 96 = { nsec32 (unsigned), sec64 (signed) }\n            var sec = getInt64(view, 4);\n            var nsec = view.getUint32(0);\n            return { sec: sec, nsec: nsec };\n        }\n        default:\n            throw new DecodeError(\"Unrecognized data size for timestamp (expected 4, 8, or 12): \" + data.length);\n    }\n}\nexport function decodeTimestampExtension(data) {\n    var timeSpec = decodeTimestampToTimeSpec(data);\n    return new Date(timeSpec.sec * 1e3 + timeSpec.nsec / 1e6);\n}\nexport var timestampExtension = {\n    type: EXT_TIMESTAMP,\n    encode: encodeTimestampExtension,\n    decode: decodeTimestampExtension,\n};\n//# sourceMappingURL=timestamp.mjs.map","// ExtensionCodec to handle MessagePack extensions\nimport { ExtData } from \"./ExtData.mjs\";\nimport { timestampExtension } from \"./timestamp.mjs\";\nvar ExtensionCodec = /** @class */ (function () {\n    function ExtensionCodec() {\n        // built-in extensions\n        this.builtInEncoders = [];\n        this.builtInDecoders = [];\n        // custom extensions\n        this.encoders = [];\n        this.decoders = [];\n        this.register(timestampExtension);\n    }\n    ExtensionCodec.prototype.register = function (_a) {\n        var type = _a.type, encode = _a.encode, decode = _a.decode;\n        if (type >= 0) {\n            // custom extensions\n            this.encoders[type] = encode;\n            this.decoders[type] = decode;\n        }\n        else {\n            // built-in extensions\n            var index = 1 + type;\n            this.builtInEncoders[index] = encode;\n            this.builtInDecoders[index] = decode;\n        }\n    };\n    ExtensionCodec.prototype.tryToEncode = function (object, context) {\n        // built-in extensions\n        for (var i = 0; i < this.builtInEncoders.length; i++) {\n            var encodeExt = this.builtInEncoders[i];\n            if (encodeExt != null) {\n                var data = encodeExt(object, context);\n                if (data != null) {\n                    var type = -1 - i;\n                    return new ExtData(type, data);\n                }\n            }\n        }\n        // custom extensions\n        for (var i = 0; i < this.encoders.length; i++) {\n            var encodeExt = this.encoders[i];\n            if (encodeExt != null) {\n                var data = encodeExt(object, context);\n                if (data != null) {\n                    var type = i;\n                    return new ExtData(type, data);\n                }\n            }\n        }\n        if (object instanceof ExtData) {\n            // to keep ExtData as is\n            return object;\n        }\n        return null;\n    };\n    ExtensionCodec.prototype.decode = function (data, type, context) {\n        var decodeExt = type < 0 ? this.builtInDecoders[-1 - type] : this.decoders[type];\n        if (decodeExt) {\n            return decodeExt(data, type, context);\n        }\n        else {\n            // decode() does not fail, returns ExtData instead.\n            return new ExtData(type, data);\n        }\n    };\n    ExtensionCodec.defaultCodec = new ExtensionCodec();\n    return ExtensionCodec;\n}());\nexport { ExtensionCodec };\n//# sourceMappingURL=ExtensionCodec.mjs.map","export function ensureUint8Array(buffer) {\n    if (buffer instanceof Uint8Array) {\n        return buffer;\n    }\n    else if (ArrayBuffer.isView(buffer)) {\n        return new Uint8Array(buffer.buffer, buffer.byteOffset, buffer.byteLength);\n    }\n    else if (buffer instanceof ArrayBuffer) {\n        return new Uint8Array(buffer);\n    }\n    else {\n        // ArrayLike<number>\n        return Uint8Array.from(buffer);\n    }\n}\nexport function createDataView(buffer) {\n    if (buffer instanceof ArrayBuffer) {\n        return new DataView(buffer);\n    }\n    var bufferView = ensureUint8Array(buffer);\n    return new DataView(bufferView.buffer, bufferView.byteOffset, bufferView.byteLength);\n}\n//# sourceMappingURL=typedArrays.mjs.map","import { utf8EncodeJs, utf8Count, TEXT_ENCODER_THRESHOLD, utf8EncodeTE } from \"./utils/utf8.mjs\";\nimport { ExtensionCodec } from \"./ExtensionCodec.mjs\";\nimport { setInt64, setUint64 } from \"./utils/int.mjs\";\nimport { ensureUint8Array } from \"./utils/typedArrays.mjs\";\nexport var DEFAULT_MAX_DEPTH = 100;\nexport var DEFAULT_INITIAL_BUFFER_SIZE = 2048;\nvar Encoder = /** @class */ (function () {\n    function Encoder(extensionCodec, context, maxDepth, initialBufferSize, sortKeys, forceFloat32, ignoreUndefined, forceIntegerToFloat) {\n        if (extensionCodec === void 0) { extensionCodec = ExtensionCodec.defaultCodec; }\n        if (context === void 0) { context = undefined; }\n        if (maxDepth === void 0) { maxDepth = DEFAULT_MAX_DEPTH; }\n        if (initialBufferSize === void 0) { initialBufferSize = DEFAULT_INITIAL_BUFFER_SIZE; }\n        if (sortKeys === void 0) { sortKeys = false; }\n        if (forceFloat32 === void 0) { forceFloat32 = false; }\n        if (ignoreUndefined === void 0) { ignoreUndefined = false; }\n        if (forceIntegerToFloat === void 0) { forceIntegerToFloat = false; }\n        this.extensionCodec = extensionCodec;\n        this.context = context;\n        this.maxDepth = maxDepth;\n        this.initialBufferSize = initialBufferSize;\n        this.sortKeys = sortKeys;\n        this.forceFloat32 = forceFloat32;\n        this.ignoreUndefined = ignoreUndefined;\n        this.forceIntegerToFloat = forceIntegerToFloat;\n        this.pos = 0;\n        this.view = new DataView(new ArrayBuffer(this.initialBufferSize));\n        this.bytes = new Uint8Array(this.view.buffer);\n    }\n    Encoder.prototype.getUint8Array = function () {\n        return this.bytes.subarray(0, this.pos);\n    };\n    Encoder.prototype.reinitializeState = function () {\n        this.pos = 0;\n    };\n    Encoder.prototype.encode = function (object) {\n        this.reinitializeState();\n        this.doEncode(object, 1);\n        return this.getUint8Array();\n    };\n    Encoder.prototype.doEncode = function (object, depth) {\n        if (depth > this.maxDepth) {\n            throw new Error(\"Too deep objects in depth \" + depth);\n        }\n        if (object == null) {\n            this.encodeNil();\n        }\n        else if (typeof object === \"boolean\") {\n            this.encodeBoolean(object);\n        }\n        else if (typeof object === \"number\") {\n            this.encodeNumber(object);\n        }\n        else if (typeof object === \"string\") {\n            this.encodeString(object);\n        }\n        else {\n            this.encodeObject(object, depth);\n        }\n    };\n    Encoder.prototype.ensureBufferSizeToWrite = function (sizeToWrite) {\n        var requiredSize = this.pos + sizeToWrite;\n        if (this.view.byteLength < requiredSize) {\n            this.resizeBuffer(requiredSize * 2);\n        }\n    };\n    Encoder.prototype.resizeBuffer = function (newSize) {\n        var newBuffer = new ArrayBuffer(newSize);\n        var newBytes = new Uint8Array(newBuffer);\n        var newView = new DataView(newBuffer);\n        newBytes.set(this.bytes);\n        this.view = newView;\n        this.bytes = newBytes;\n    };\n    Encoder.prototype.encodeNil = function () {\n        this.writeU8(0xc0);\n    };\n    Encoder.prototype.encodeBoolean = function (object) {\n        if (object === false) {\n            this.writeU8(0xc2);\n        }\n        else {\n            this.writeU8(0xc3);\n        }\n    };\n    Encoder.prototype.encodeNumber = function (object) {\n        if (Number.isSafeInteger(object) && !this.forceIntegerToFloat) {\n            if (object >= 0) {\n                if (object < 0x80) {\n                    // positive fixint\n                    this.writeU8(object);\n                }\n                else if (object < 0x100) {\n                    // uint 8\n                    this.writeU8(0xcc);\n                    this.writeU8(object);\n                }\n                else if (object < 0x10000) {\n                    // uint 16\n                    this.writeU8(0xcd);\n                    this.writeU16(object);\n                }\n                else if (object < 0x100000000) {\n                    // uint 32\n                    this.writeU8(0xce);\n                    this.writeU32(object);\n                }\n                else {\n                    // uint 64\n                    this.writeU8(0xcf);\n                    this.writeU64(object);\n                }\n            }\n            else {\n                if (object >= -0x20) {\n                    // negative fixint\n                    this.writeU8(0xe0 | (object + 0x20));\n                }\n                else if (object >= -0x80) {\n                    // int 8\n                    this.writeU8(0xd0);\n                    this.writeI8(object);\n                }\n                else if (object >= -0x8000) {\n                    // int 16\n                    this.writeU8(0xd1);\n                    this.writeI16(object);\n                }\n                else if (object >= -0x80000000) {\n                    // int 32\n                    this.writeU8(0xd2);\n                    this.writeI32(object);\n                }\n                else {\n                    // int 64\n                    this.writeU8(0xd3);\n                    this.writeI64(object);\n                }\n            }\n        }\n        else {\n            // non-integer numbers\n            if (this.forceFloat32) {\n                // float 32\n                this.writeU8(0xca);\n                this.writeF32(object);\n            }\n            else {\n                // float 64\n                this.writeU8(0xcb);\n                this.writeF64(object);\n            }\n        }\n    };\n    Encoder.prototype.writeStringHeader = function (byteLength) {\n        if (byteLength < 32) {\n            // fixstr\n            this.writeU8(0xa0 + byteLength);\n        }\n        else if (byteLength < 0x100) {\n            // str 8\n            this.writeU8(0xd9);\n            this.writeU8(byteLength);\n        }\n        else if (byteLength < 0x10000) {\n            // str 16\n            this.writeU8(0xda);\n            this.writeU16(byteLength);\n        }\n        else if (byteLength < 0x100000000) {\n            // str 32\n            this.writeU8(0xdb);\n            this.writeU32(byteLength);\n        }\n        else {\n            throw new Error(\"Too long string: \" + byteLength + \" bytes in UTF-8\");\n        }\n    };\n    Encoder.prototype.encodeString = function (object) {\n        var maxHeaderSize = 1 + 4;\n        var strLength = object.length;\n        if (strLength > TEXT_ENCODER_THRESHOLD) {\n            var byteLength = utf8Count(object);\n            this.ensureBufferSizeToWrite(maxHeaderSize + byteLength);\n            this.writeStringHeader(byteLength);\n            utf8EncodeTE(object, this.bytes, this.pos);\n            this.pos += byteLength;\n        }\n        else {\n            var byteLength = utf8Count(object);\n            this.ensureBufferSizeToWrite(maxHeaderSize + byteLength);\n            this.writeStringHeader(byteLength);\n            utf8EncodeJs(object, this.bytes, this.pos);\n            this.pos += byteLength;\n        }\n    };\n    Encoder.prototype.encodeObject = function (object, depth) {\n        // try to encode objects with custom codec first of non-primitives\n        var ext = this.extensionCodec.tryToEncode(object, this.context);\n        if (ext != null) {\n            this.encodeExtension(ext);\n        }\n        else if (Array.isArray(object)) {\n            this.encodeArray(object, depth);\n        }\n        else if (ArrayBuffer.isView(object)) {\n            this.encodeBinary(object);\n        }\n        else if (typeof object === \"object\") {\n            this.encodeMap(object, depth);\n        }\n        else {\n            // symbol, function and other special object come here unless extensionCodec handles them.\n            throw new Error(\"Unrecognized object: \" + Object.prototype.toString.apply(object));\n        }\n    };\n    Encoder.prototype.encodeBinary = function (object) {\n        var size = object.byteLength;\n        if (size < 0x100) {\n            // bin 8\n            this.writeU8(0xc4);\n            this.writeU8(size);\n        }\n        else if (size < 0x10000) {\n            // bin 16\n            this.writeU8(0xc5);\n            this.writeU16(size);\n        }\n        else if (size < 0x100000000) {\n            // bin 32\n            this.writeU8(0xc6);\n            this.writeU32(size);\n        }\n        else {\n            throw new Error(\"Too large binary: \" + size);\n        }\n        var bytes = ensureUint8Array(object);\n        this.writeU8a(bytes);\n    };\n    Encoder.prototype.encodeArray = function (object, depth) {\n        var size = object.length;\n        if (size < 16) {\n            // fixarray\n            this.writeU8(0x90 + size);\n        }\n        else if (size < 0x10000) {\n            // array 16\n            this.writeU8(0xdc);\n            this.writeU16(size);\n        }\n        else if (size < 0x100000000) {\n            // array 32\n            this.writeU8(0xdd);\n            this.writeU32(size);\n        }\n        else {\n            throw new Error(\"Too large array: \" + size);\n        }\n        for (var _i = 0, object_1 = object; _i < object_1.length; _i++) {\n            var item = object_1[_i];\n            this.doEncode(item, depth + 1);\n        }\n    };\n    Encoder.prototype.countWithoutUndefined = function (object, keys) {\n        var count = 0;\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            if (object[key] !== undefined) {\n                count++;\n            }\n        }\n        return count;\n    };\n    Encoder.prototype.encodeMap = function (object, depth) {\n        var keys = Object.keys(object);\n        if (this.sortKeys) {\n            keys.sort();\n        }\n        var size = this.ignoreUndefined ? this.countWithoutUndefined(object, keys) : keys.length;\n        if (size < 16) {\n            // fixmap\n            this.writeU8(0x80 + size);\n        }\n        else if (size < 0x10000) {\n            // map 16\n            this.writeU8(0xde);\n            this.writeU16(size);\n        }\n        else if (size < 0x100000000) {\n            // map 32\n            this.writeU8(0xdf);\n            this.writeU32(size);\n        }\n        else {\n            throw new Error(\"Too large map object: \" + size);\n        }\n        for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n            var key = keys_2[_i];\n            var value = object[key];\n            if (!(this.ignoreUndefined && value === undefined)) {\n                this.encodeString(key);\n                this.doEncode(value, depth + 1);\n            }\n        }\n    };\n    Encoder.prototype.encodeExtension = function (ext) {\n        var size = ext.data.length;\n        if (size === 1) {\n            // fixext 1\n            this.writeU8(0xd4);\n        }\n        else if (size === 2) {\n            // fixext 2\n            this.writeU8(0xd5);\n        }\n        else if (size === 4) {\n            // fixext 4\n            this.writeU8(0xd6);\n        }\n        else if (size === 8) {\n            // fixext 8\n            this.writeU8(0xd7);\n        }\n        else if (size === 16) {\n            // fixext 16\n            this.writeU8(0xd8);\n        }\n        else if (size < 0x100) {\n            // ext 8\n            this.writeU8(0xc7);\n            this.writeU8(size);\n        }\n        else if (size < 0x10000) {\n            // ext 16\n            this.writeU8(0xc8);\n            this.writeU16(size);\n        }\n        else if (size < 0x100000000) {\n            // ext 32\n            this.writeU8(0xc9);\n            this.writeU32(size);\n        }\n        else {\n            throw new Error(\"Too large extension object: \" + size);\n        }\n        this.writeI8(ext.type);\n        this.writeU8a(ext.data);\n    };\n    Encoder.prototype.writeU8 = function (value) {\n        this.ensureBufferSizeToWrite(1);\n        this.view.setUint8(this.pos, value);\n        this.pos++;\n    };\n    Encoder.prototype.writeU8a = function (values) {\n        var size = values.length;\n        this.ensureBufferSizeToWrite(size);\n        this.bytes.set(values, this.pos);\n        this.pos += size;\n    };\n    Encoder.prototype.writeI8 = function (value) {\n        this.ensureBufferSizeToWrite(1);\n        this.view.setInt8(this.pos, value);\n        this.pos++;\n    };\n    Encoder.prototype.writeU16 = function (value) {\n        this.ensureBufferSizeToWrite(2);\n        this.view.setUint16(this.pos, value);\n        this.pos += 2;\n    };\n    Encoder.prototype.writeI16 = function (value) {\n        this.ensureBufferSizeToWrite(2);\n        this.view.setInt16(this.pos, value);\n        this.pos += 2;\n    };\n    Encoder.prototype.writeU32 = function (value) {\n        this.ensureBufferSizeToWrite(4);\n        this.view.setUint32(this.pos, value);\n        this.pos += 4;\n    };\n    Encoder.prototype.writeI32 = function (value) {\n        this.ensureBufferSizeToWrite(4);\n        this.view.setInt32(this.pos, value);\n        this.pos += 4;\n    };\n    Encoder.prototype.writeF32 = function (value) {\n        this.ensureBufferSizeToWrite(4);\n        this.view.setFloat32(this.pos, value);\n        this.pos += 4;\n    };\n    Encoder.prototype.writeF64 = function (value) {\n        this.ensureBufferSizeToWrite(8);\n        this.view.setFloat64(this.pos, value);\n        this.pos += 8;\n    };\n    Encoder.prototype.writeU64 = function (value) {\n        this.ensureBufferSizeToWrite(8);\n        setUint64(this.view, this.pos, value);\n        this.pos += 8;\n    };\n    Encoder.prototype.writeI64 = function (value) {\n        this.ensureBufferSizeToWrite(8);\n        setInt64(this.view, this.pos, value);\n        this.pos += 8;\n    };\n    return Encoder;\n}());\nexport { Encoder };\n//# sourceMappingURL=Encoder.mjs.map","import { Encoder } from \"./Encoder.mjs\";\nvar defaultEncodeOptions = {};\n/**\n * It encodes `value` in the MessagePack format and\n * returns a byte buffer.\n *\n * The returned buffer is a slice of a larger `ArrayBuffer`, so you have to use its `#byteOffset` and `#byteLength` in order to convert it to another typed arrays including NodeJS `Buffer`.\n */\nexport function encode(value, options) {\n    if (options === void 0) { options = defaultEncodeOptions; }\n    var encoder = new Encoder(options.extensionCodec, options.context, options.maxDepth, options.initialBufferSize, options.sortKeys, options.forceFloat32, options.ignoreUndefined, options.forceIntegerToFloat);\n    return encoder.encode(value);\n}\n//# sourceMappingURL=encode.mjs.map","export function prettyByte(byte) {\n    return (byte < 0 ? \"-\" : \"\") + \"0x\" + Math.abs(byte).toString(16).padStart(2, \"0\");\n}\n//# sourceMappingURL=prettyByte.mjs.map","import { utf8DecodeJs } from \"./utils/utf8.mjs\";\nvar DEFAULT_MAX_KEY_LENGTH = 16;\nvar DEFAULT_MAX_LENGTH_PER_KEY = 16;\nvar CachedKeyDecoder = /** @class */ (function () {\n    function CachedKeyDecoder(maxKeyLength, maxLengthPerKey) {\n        if (maxKeyLength === void 0) { maxKeyLength = DEFAULT_MAX_KEY_LENGTH; }\n        if (maxLengthPerKey === void 0) { maxLengthPerKey = DEFAULT_MAX_LENGTH_PER_KEY; }\n        this.maxKeyLength = maxKeyLength;\n        this.maxLengthPerKey = maxLengthPerKey;\n        this.hit = 0;\n        this.miss = 0;\n        // avoid `new Array(N)`, which makes a sparse array,\n        // because a sparse array is typically slower than a non-sparse array.\n        this.caches = [];\n        for (var i = 0; i < this.maxKeyLength; i++) {\n            this.caches.push([]);\n        }\n    }\n    CachedKeyDecoder.prototype.canBeCached = function (byteLength) {\n        return byteLength > 0 && byteLength <= this.maxKeyLength;\n    };\n    CachedKeyDecoder.prototype.find = function (bytes, inputOffset, byteLength) {\n        var records = this.caches[byteLength - 1];\n        FIND_CHUNK: for (var _i = 0, records_1 = records; _i < records_1.length; _i++) {\n            var record = records_1[_i];\n            var recordBytes = record.bytes;\n            for (var j = 0; j < byteLength; j++) {\n                if (recordBytes[j] !== bytes[inputOffset + j]) {\n                    continue FIND_CHUNK;\n                }\n            }\n            return record.str;\n        }\n        return null;\n    };\n    CachedKeyDecoder.prototype.store = function (bytes, value) {\n        var records = this.caches[bytes.length - 1];\n        var record = { bytes: bytes, str: value };\n        if (records.length >= this.maxLengthPerKey) {\n            // `records` are full!\n            // Set `record` to an arbitrary position.\n            records[(Math.random() * records.length) | 0] = record;\n        }\n        else {\n            records.push(record);\n        }\n    };\n    CachedKeyDecoder.prototype.decode = function (bytes, inputOffset, byteLength) {\n        var cachedValue = this.find(bytes, inputOffset, byteLength);\n        if (cachedValue != null) {\n            this.hit++;\n            return cachedValue;\n        }\n        this.miss++;\n        var str = utf8DecodeJs(bytes, inputOffset, byteLength);\n        // Ensure to copy a slice of bytes because the byte may be NodeJS Buffer and Buffer#slice() returns a reference to its internal ArrayBuffer.\n        var slicedCopyOfBytes = Uint8Array.prototype.slice.call(bytes, inputOffset, inputOffset + byteLength);\n        this.store(slicedCopyOfBytes, str);\n        return str;\n    };\n    return CachedKeyDecoder;\n}());\nexport { CachedKeyDecoder };\n//# sourceMappingURL=CachedKeyDecoder.mjs.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __await = (this && this.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\nvar __asyncGenerator = (this && this.__asyncGenerator) || function (thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n};\nimport { prettyByte } from \"./utils/prettyByte.mjs\";\nimport { ExtensionCodec } from \"./ExtensionCodec.mjs\";\nimport { getInt64, getUint64, UINT32_MAX } from \"./utils/int.mjs\";\nimport { utf8DecodeJs, TEXT_DECODER_THRESHOLD, utf8DecodeTD } from \"./utils/utf8.mjs\";\nimport { createDataView, ensureUint8Array } from \"./utils/typedArrays.mjs\";\nimport { CachedKeyDecoder } from \"./CachedKeyDecoder.mjs\";\nimport { DecodeError } from \"./DecodeError.mjs\";\nvar isValidMapKeyType = function (key) {\n    var keyType = typeof key;\n    return keyType === \"string\" || keyType === \"number\";\n};\nvar HEAD_BYTE_REQUIRED = -1;\nvar EMPTY_VIEW = new DataView(new ArrayBuffer(0));\nvar EMPTY_BYTES = new Uint8Array(EMPTY_VIEW.buffer);\n// IE11: Hack to support IE11.\n// IE11: Drop this hack and just use RangeError when IE11 is obsolete.\nexport var DataViewIndexOutOfBoundsError = (function () {\n    try {\n        // IE11: The spec says it should throw RangeError,\n        // IE11: but in IE11 it throws TypeError.\n        EMPTY_VIEW.getInt8(0);\n    }\n    catch (e) {\n        return e.constructor;\n    }\n    throw new Error(\"never reached\");\n})();\nvar MORE_DATA = new DataViewIndexOutOfBoundsError(\"Insufficient data\");\nvar sharedCachedKeyDecoder = new CachedKeyDecoder();\nvar Decoder = /** @class */ (function () {\n    function Decoder(extensionCodec, context, maxStrLength, maxBinLength, maxArrayLength, maxMapLength, maxExtLength, keyDecoder) {\n        if (extensionCodec === void 0) { extensionCodec = ExtensionCodec.defaultCodec; }\n        if (context === void 0) { context = undefined; }\n        if (maxStrLength === void 0) { maxStrLength = UINT32_MAX; }\n        if (maxBinLength === void 0) { maxBinLength = UINT32_MAX; }\n        if (maxArrayLength === void 0) { maxArrayLength = UINT32_MAX; }\n        if (maxMapLength === void 0) { maxMapLength = UINT32_MAX; }\n        if (maxExtLength === void 0) { maxExtLength = UINT32_MAX; }\n        if (keyDecoder === void 0) { keyDecoder = sharedCachedKeyDecoder; }\n        this.extensionCodec = extensionCodec;\n        this.context = context;\n        this.maxStrLength = maxStrLength;\n        this.maxBinLength = maxBinLength;\n        this.maxArrayLength = maxArrayLength;\n        this.maxMapLength = maxMapLength;\n        this.maxExtLength = maxExtLength;\n        this.keyDecoder = keyDecoder;\n        this.totalPos = 0;\n        this.pos = 0;\n        this.view = EMPTY_VIEW;\n        this.bytes = EMPTY_BYTES;\n        this.headByte = HEAD_BYTE_REQUIRED;\n        this.stack = [];\n    }\n    Decoder.prototype.reinitializeState = function () {\n        this.totalPos = 0;\n        this.headByte = HEAD_BYTE_REQUIRED;\n        this.stack.length = 0;\n        // view, bytes, and pos will be re-initialized in setBuffer()\n    };\n    Decoder.prototype.setBuffer = function (buffer) {\n        this.bytes = ensureUint8Array(buffer);\n        this.view = createDataView(this.bytes);\n        this.pos = 0;\n    };\n    Decoder.prototype.appendBuffer = function (buffer) {\n        if (this.headByte === HEAD_BYTE_REQUIRED && !this.hasRemaining(1)) {\n            this.setBuffer(buffer);\n        }\n        else {\n            var remainingData = this.bytes.subarray(this.pos);\n            var newData = ensureUint8Array(buffer);\n            // concat remainingData + newData\n            var newBuffer = new Uint8Array(remainingData.length + newData.length);\n            newBuffer.set(remainingData);\n            newBuffer.set(newData, remainingData.length);\n            this.setBuffer(newBuffer);\n        }\n    };\n    Decoder.prototype.hasRemaining = function (size) {\n        return this.view.byteLength - this.pos >= size;\n    };\n    Decoder.prototype.createExtraByteError = function (posToShow) {\n        var _a = this, view = _a.view, pos = _a.pos;\n        return new RangeError(\"Extra \" + (view.byteLength - pos) + \" of \" + view.byteLength + \" byte(s) found at buffer[\" + posToShow + \"]\");\n    };\n    /**\n     * @throws {DecodeError}\n     * @throws {RangeError}\n     */\n    Decoder.prototype.decode = function (buffer) {\n        this.reinitializeState();\n        this.setBuffer(buffer);\n        var object = this.doDecodeSync();\n        if (this.hasRemaining(1)) {\n            throw this.createExtraByteError(this.pos);\n        }\n        return object;\n    };\n    Decoder.prototype.decodeMulti = function (buffer) {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    this.reinitializeState();\n                    this.setBuffer(buffer);\n                    _a.label = 1;\n                case 1:\n                    if (!this.hasRemaining(1)) return [3 /*break*/, 3];\n                    return [4 /*yield*/, this.doDecodeSync()];\n                case 2:\n                    _a.sent();\n                    return [3 /*break*/, 1];\n                case 3: return [2 /*return*/];\n            }\n        });\n    };\n    Decoder.prototype.decodeAsync = function (stream) {\n        var stream_1, stream_1_1;\n        var e_1, _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var decoded, object, buffer, e_1_1, _b, headByte, pos, totalPos;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        decoded = false;\n                        _c.label = 1;\n                    case 1:\n                        _c.trys.push([1, 6, 7, 12]);\n                        stream_1 = __asyncValues(stream);\n                        _c.label = 2;\n                    case 2: return [4 /*yield*/, stream_1.next()];\n                    case 3:\n                        if (!(stream_1_1 = _c.sent(), !stream_1_1.done)) return [3 /*break*/, 5];\n                        buffer = stream_1_1.value;\n                        if (decoded) {\n                            throw this.createExtraByteError(this.totalPos);\n                        }\n                        this.appendBuffer(buffer);\n                        try {\n                            object = this.doDecodeSync();\n                            decoded = true;\n                        }\n                        catch (e) {\n                            if (!(e instanceof DataViewIndexOutOfBoundsError)) {\n                                throw e; // rethrow\n                            }\n                            // fallthrough\n                        }\n                        this.totalPos += this.pos;\n                        _c.label = 4;\n                    case 4: return [3 /*break*/, 2];\n                    case 5: return [3 /*break*/, 12];\n                    case 6:\n                        e_1_1 = _c.sent();\n                        e_1 = { error: e_1_1 };\n                        return [3 /*break*/, 12];\n                    case 7:\n                        _c.trys.push([7, , 10, 11]);\n                        if (!(stream_1_1 && !stream_1_1.done && (_a = stream_1.return))) return [3 /*break*/, 9];\n                        return [4 /*yield*/, _a.call(stream_1)];\n                    case 8:\n                        _c.sent();\n                        _c.label = 9;\n                    case 9: return [3 /*break*/, 11];\n                    case 10:\n                        if (e_1) throw e_1.error;\n                        return [7 /*endfinally*/];\n                    case 11: return [7 /*endfinally*/];\n                    case 12:\n                        if (decoded) {\n                            if (this.hasRemaining(1)) {\n                                throw this.createExtraByteError(this.totalPos);\n                            }\n                            return [2 /*return*/, object];\n                        }\n                        _b = this, headByte = _b.headByte, pos = _b.pos, totalPos = _b.totalPos;\n                        throw new RangeError(\"Insufficient data in parsing \" + prettyByte(headByte) + \" at \" + totalPos + \" (\" + pos + \" in the current buffer)\");\n                }\n            });\n        });\n    };\n    Decoder.prototype.decodeArrayStream = function (stream) {\n        return this.decodeMultiAsync(stream, true);\n    };\n    Decoder.prototype.decodeStream = function (stream) {\n        return this.decodeMultiAsync(stream, false);\n    };\n    Decoder.prototype.decodeMultiAsync = function (stream, isArray) {\n        return __asyncGenerator(this, arguments, function decodeMultiAsync_1() {\n            var isArrayHeaderRequired, arrayItemsLeft, stream_2, stream_2_1, buffer, e_2, e_3_1;\n            var e_3, _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        isArrayHeaderRequired = isArray;\n                        arrayItemsLeft = -1;\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 13, 14, 19]);\n                        stream_2 = __asyncValues(stream);\n                        _b.label = 2;\n                    case 2: return [4 /*yield*/, __await(stream_2.next())];\n                    case 3:\n                        if (!(stream_2_1 = _b.sent(), !stream_2_1.done)) return [3 /*break*/, 12];\n                        buffer = stream_2_1.value;\n                        if (isArray && arrayItemsLeft === 0) {\n                            throw this.createExtraByteError(this.totalPos);\n                        }\n                        this.appendBuffer(buffer);\n                        if (isArrayHeaderRequired) {\n                            arrayItemsLeft = this.readArraySize();\n                            isArrayHeaderRequired = false;\n                            this.complete();\n                        }\n                        _b.label = 4;\n                    case 4:\n                        _b.trys.push([4, 9, , 10]);\n                        _b.label = 5;\n                    case 5:\n                        if (!true) return [3 /*break*/, 8];\n                        return [4 /*yield*/, __await(this.doDecodeSync())];\n                    case 6: return [4 /*yield*/, _b.sent()];\n                    case 7:\n                        _b.sent();\n                        if (--arrayItemsLeft === 0) {\n                            return [3 /*break*/, 8];\n                        }\n                        return [3 /*break*/, 5];\n                    case 8: return [3 /*break*/, 10];\n                    case 9:\n                        e_2 = _b.sent();\n                        if (!(e_2 instanceof DataViewIndexOutOfBoundsError)) {\n                            throw e_2; // rethrow\n                        }\n                        return [3 /*break*/, 10];\n                    case 10:\n                        this.totalPos += this.pos;\n                        _b.label = 11;\n                    case 11: return [3 /*break*/, 2];\n                    case 12: return [3 /*break*/, 19];\n                    case 13:\n                        e_3_1 = _b.sent();\n                        e_3 = { error: e_3_1 };\n                        return [3 /*break*/, 19];\n                    case 14:\n                        _b.trys.push([14, , 17, 18]);\n                        if (!(stream_2_1 && !stream_2_1.done && (_a = stream_2.return))) return [3 /*break*/, 16];\n                        return [4 /*yield*/, __await(_a.call(stream_2))];\n                    case 15:\n                        _b.sent();\n                        _b.label = 16;\n                    case 16: return [3 /*break*/, 18];\n                    case 17:\n                        if (e_3) throw e_3.error;\n                        return [7 /*endfinally*/];\n                    case 18: return [7 /*endfinally*/];\n                    case 19: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Decoder.prototype.doDecodeSync = function () {\n        DECODE: while (true) {\n            var headByte = this.readHeadByte();\n            var object = void 0;\n            if (headByte >= 0xe0) {\n                // negative fixint (111x xxxx) 0xe0 - 0xff\n                object = headByte - 0x100;\n            }\n            else if (headByte < 0xc0) {\n                if (headByte < 0x80) {\n                    // positive fixint (0xxx xxxx) 0x00 - 0x7f\n                    object = headByte;\n                }\n                else if (headByte < 0x90) {\n                    // fixmap (1000 xxxx) 0x80 - 0x8f\n                    var size = headByte - 0x80;\n                    if (size !== 0) {\n                        this.pushMapState(size);\n                        this.complete();\n                        continue DECODE;\n                    }\n                    else {\n                        object = {};\n                    }\n                }\n                else if (headByte < 0xa0) {\n                    // fixarray (1001 xxxx) 0x90 - 0x9f\n                    var size = headByte - 0x90;\n                    if (size !== 0) {\n                        this.pushArrayState(size);\n                        this.complete();\n                        continue DECODE;\n                    }\n                    else {\n                        object = [];\n                    }\n                }\n                else {\n                    // fixstr (101x xxxx) 0xa0 - 0xbf\n                    var byteLength = headByte - 0xa0;\n                    object = this.decodeUtf8String(byteLength, 0);\n                }\n            }\n            else if (headByte === 0xc0) {\n                // nil\n                object = null;\n            }\n            else if (headByte === 0xc2) {\n                // false\n                object = false;\n            }\n            else if (headByte === 0xc3) {\n                // true\n                object = true;\n            }\n            else if (headByte === 0xca) {\n                // float 32\n                object = this.readF32();\n            }\n            else if (headByte === 0xcb) {\n                // float 64\n                object = this.readF64();\n            }\n            else if (headByte === 0xcc) {\n                // uint 8\n                object = this.readU8();\n            }\n            else if (headByte === 0xcd) {\n                // uint 16\n                object = this.readU16();\n            }\n            else if (headByte === 0xce) {\n                // uint 32\n                object = this.readU32();\n            }\n            else if (headByte === 0xcf) {\n                // uint 64\n                object = this.readU64();\n            }\n            else if (headByte === 0xd0) {\n                // int 8\n                object = this.readI8();\n            }\n            else if (headByte === 0xd1) {\n                // int 16\n                object = this.readI16();\n            }\n            else if (headByte === 0xd2) {\n                // int 32\n                object = this.readI32();\n            }\n            else if (headByte === 0xd3) {\n                // int 64\n                object = this.readI64();\n            }\n            else if (headByte === 0xd9) {\n                // str 8\n                var byteLength = this.lookU8();\n                object = this.decodeUtf8String(byteLength, 1);\n            }\n            else if (headByte === 0xda) {\n                // str 16\n                var byteLength = this.lookU16();\n                object = this.decodeUtf8String(byteLength, 2);\n            }\n            else if (headByte === 0xdb) {\n                // str 32\n                var byteLength = this.lookU32();\n                object = this.decodeUtf8String(byteLength, 4);\n            }\n            else if (headByte === 0xdc) {\n                // array 16\n                var size = this.readU16();\n                if (size !== 0) {\n                    this.pushArrayState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = [];\n                }\n            }\n            else if (headByte === 0xdd) {\n                // array 32\n                var size = this.readU32();\n                if (size !== 0) {\n                    this.pushArrayState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = [];\n                }\n            }\n            else if (headByte === 0xde) {\n                // map 16\n                var size = this.readU16();\n                if (size !== 0) {\n                    this.pushMapState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = {};\n                }\n            }\n            else if (headByte === 0xdf) {\n                // map 32\n                var size = this.readU32();\n                if (size !== 0) {\n                    this.pushMapState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = {};\n                }\n            }\n            else if (headByte === 0xc4) {\n                // bin 8\n                var size = this.lookU8();\n                object = this.decodeBinary(size, 1);\n            }\n            else if (headByte === 0xc5) {\n                // bin 16\n                var size = this.lookU16();\n                object = this.decodeBinary(size, 2);\n            }\n            else if (headByte === 0xc6) {\n                // bin 32\n                var size = this.lookU32();\n                object = this.decodeBinary(size, 4);\n            }\n            else if (headByte === 0xd4) {\n                // fixext 1\n                object = this.decodeExtension(1, 0);\n            }\n            else if (headByte === 0xd5) {\n                // fixext 2\n                object = this.decodeExtension(2, 0);\n            }\n            else if (headByte === 0xd6) {\n                // fixext 4\n                object = this.decodeExtension(4, 0);\n            }\n            else if (headByte === 0xd7) {\n                // fixext 8\n                object = this.decodeExtension(8, 0);\n            }\n            else if (headByte === 0xd8) {\n                // fixext 16\n                object = this.decodeExtension(16, 0);\n            }\n            else if (headByte === 0xc7) {\n                // ext 8\n                var size = this.lookU8();\n                object = this.decodeExtension(size, 1);\n            }\n            else if (headByte === 0xc8) {\n                // ext 16\n                var size = this.lookU16();\n                object = this.decodeExtension(size, 2);\n            }\n            else if (headByte === 0xc9) {\n                // ext 32\n                var size = this.lookU32();\n                object = this.decodeExtension(size, 4);\n            }\n            else {\n                throw new DecodeError(\"Unrecognized type byte: \" + prettyByte(headByte));\n            }\n            this.complete();\n            var stack = this.stack;\n            while (stack.length > 0) {\n                // arrays and maps\n                var state = stack[stack.length - 1];\n                if (state.type === 0 /* ARRAY */) {\n                    state.array[state.position] = object;\n                    state.position++;\n                    if (state.position === state.size) {\n                        stack.pop();\n                        object = state.array;\n                    }\n                    else {\n                        continue DECODE;\n                    }\n                }\n                else if (state.type === 1 /* MAP_KEY */) {\n                    if (!isValidMapKeyType(object)) {\n                        throw new DecodeError(\"The type of key must be string or number but \" + typeof object);\n                    }\n                    if (object === \"__proto__\") {\n                        throw new DecodeError(\"The key __proto__ is not allowed\");\n                    }\n                    state.key = object;\n                    state.type = 2 /* MAP_VALUE */;\n                    continue DECODE;\n                }\n                else {\n                    // it must be `state.type === State.MAP_VALUE` here\n                    state.map[state.key] = object;\n                    state.readCount++;\n                    if (state.readCount === state.size) {\n                        stack.pop();\n                        object = state.map;\n                    }\n                    else {\n                        state.key = null;\n                        state.type = 1 /* MAP_KEY */;\n                        continue DECODE;\n                    }\n                }\n            }\n            return object;\n        }\n    };\n    Decoder.prototype.readHeadByte = function () {\n        if (this.headByte === HEAD_BYTE_REQUIRED) {\n            this.headByte = this.readU8();\n            // console.log(\"headByte\", prettyByte(this.headByte));\n        }\n        return this.headByte;\n    };\n    Decoder.prototype.complete = function () {\n        this.headByte = HEAD_BYTE_REQUIRED;\n    };\n    Decoder.prototype.readArraySize = function () {\n        var headByte = this.readHeadByte();\n        switch (headByte) {\n            case 0xdc:\n                return this.readU16();\n            case 0xdd:\n                return this.readU32();\n            default: {\n                if (headByte < 0xa0) {\n                    return headByte - 0x90;\n                }\n                else {\n                    throw new DecodeError(\"Unrecognized array type byte: \" + prettyByte(headByte));\n                }\n            }\n        }\n    };\n    Decoder.prototype.pushMapState = function (size) {\n        if (size > this.maxMapLength) {\n            throw new DecodeError(\"Max length exceeded: map length (\" + size + \") > maxMapLengthLength (\" + this.maxMapLength + \")\");\n        }\n        this.stack.push({\n            type: 1 /* MAP_KEY */,\n            size: size,\n            key: null,\n            readCount: 0,\n            map: {},\n        });\n    };\n    Decoder.prototype.pushArrayState = function (size) {\n        if (size > this.maxArrayLength) {\n            throw new DecodeError(\"Max length exceeded: array length (\" + size + \") > maxArrayLength (\" + this.maxArrayLength + \")\");\n        }\n        this.stack.push({\n            type: 0 /* ARRAY */,\n            size: size,\n            array: new Array(size),\n            position: 0,\n        });\n    };\n    Decoder.prototype.decodeUtf8String = function (byteLength, headerOffset) {\n        var _a;\n        if (byteLength > this.maxStrLength) {\n            throw new DecodeError(\"Max length exceeded: UTF-8 byte length (\" + byteLength + \") > maxStrLength (\" + this.maxStrLength + \")\");\n        }\n        if (this.bytes.byteLength < this.pos + headerOffset + byteLength) {\n            throw MORE_DATA;\n        }\n        var offset = this.pos + headerOffset;\n        var object;\n        if (this.stateIsMapKey() && ((_a = this.keyDecoder) === null || _a === void 0 ? void 0 : _a.canBeCached(byteLength))) {\n            object = this.keyDecoder.decode(this.bytes, offset, byteLength);\n        }\n        else if (byteLength > TEXT_DECODER_THRESHOLD) {\n            object = utf8DecodeTD(this.bytes, offset, byteLength);\n        }\n        else {\n            object = utf8DecodeJs(this.bytes, offset, byteLength);\n        }\n        this.pos += headerOffset + byteLength;\n        return object;\n    };\n    Decoder.prototype.stateIsMapKey = function () {\n        if (this.stack.length > 0) {\n            var state = this.stack[this.stack.length - 1];\n            return state.type === 1 /* MAP_KEY */;\n        }\n        return false;\n    };\n    Decoder.prototype.decodeBinary = function (byteLength, headOffset) {\n        if (byteLength > this.maxBinLength) {\n            throw new DecodeError(\"Max length exceeded: bin length (\" + byteLength + \") > maxBinLength (\" + this.maxBinLength + \")\");\n        }\n        if (!this.hasRemaining(byteLength + headOffset)) {\n            throw MORE_DATA;\n        }\n        var offset = this.pos + headOffset;\n        var object = this.bytes.subarray(offset, offset + byteLength);\n        this.pos += headOffset + byteLength;\n        return object;\n    };\n    Decoder.prototype.decodeExtension = function (size, headOffset) {\n        if (size > this.maxExtLength) {\n            throw new DecodeError(\"Max length exceeded: ext length (\" + size + \") > maxExtLength (\" + this.maxExtLength + \")\");\n        }\n        var extType = this.view.getInt8(this.pos + headOffset);\n        var data = this.decodeBinary(size, headOffset + 1 /* extType */);\n        return this.extensionCodec.decode(data, extType, this.context);\n    };\n    Decoder.prototype.lookU8 = function () {\n        return this.view.getUint8(this.pos);\n    };\n    Decoder.prototype.lookU16 = function () {\n        return this.view.getUint16(this.pos);\n    };\n    Decoder.prototype.lookU32 = function () {\n        return this.view.getUint32(this.pos);\n    };\n    Decoder.prototype.readU8 = function () {\n        var value = this.view.getUint8(this.pos);\n        this.pos++;\n        return value;\n    };\n    Decoder.prototype.readI8 = function () {\n        var value = this.view.getInt8(this.pos);\n        this.pos++;\n        return value;\n    };\n    Decoder.prototype.readU16 = function () {\n        var value = this.view.getUint16(this.pos);\n        this.pos += 2;\n        return value;\n    };\n    Decoder.prototype.readI16 = function () {\n        var value = this.view.getInt16(this.pos);\n        this.pos += 2;\n        return value;\n    };\n    Decoder.prototype.readU32 = function () {\n        var value = this.view.getUint32(this.pos);\n        this.pos += 4;\n        return value;\n    };\n    Decoder.prototype.readI32 = function () {\n        var value = this.view.getInt32(this.pos);\n        this.pos += 4;\n        return value;\n    };\n    Decoder.prototype.readU64 = function () {\n        var value = getUint64(this.view, this.pos);\n        this.pos += 8;\n        return value;\n    };\n    Decoder.prototype.readI64 = function () {\n        var value = getInt64(this.view, this.pos);\n        this.pos += 8;\n        return value;\n    };\n    Decoder.prototype.readF32 = function () {\n        var value = this.view.getFloat32(this.pos);\n        this.pos += 4;\n        return value;\n    };\n    Decoder.prototype.readF64 = function () {\n        var value = this.view.getFloat64(this.pos);\n        this.pos += 8;\n        return value;\n    };\n    return Decoder;\n}());\nexport { Decoder };\n//# sourceMappingURL=Decoder.mjs.map","import { Decoder } from \"./Decoder.mjs\";\nexport var defaultDecodeOptions = {};\n/**\n * It decodes a single MessagePack object in a buffer.\n *\n * This is a synchronous decoding function.\n * See other variants for asynchronous decoding: {@link decodeAsync()}, {@link decodeStream()}, or {@link decodeArrayStream()}.\n */\nexport function decode(buffer, options) {\n    if (options === void 0) { options = defaultDecodeOptions; }\n    var decoder = new Decoder(options.extensionCodec, options.context, options.maxStrLength, options.maxBinLength, options.maxArrayLength, options.maxMapLength, options.maxExtLength);\n    return decoder.decode(buffer);\n}\n/**\n * It decodes multiple MessagePack objects in a buffer.\n * This is corresponding to {@link decodeMultiStream()}.\n */\nexport function decodeMulti(buffer, options) {\n    if (options === void 0) { options = defaultDecodeOptions; }\n    var decoder = new Decoder(options.extensionCodec, options.context, options.maxStrLength, options.maxBinLength, options.maxArrayLength, options.maxMapLength, options.maxExtLength);\n    return decoder.decodeMulti(buffer);\n}\n//# sourceMappingURL=decode.mjs.map","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nexport default identity;\n","import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n","import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n","import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n","import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n","import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nexport default WeakMap;\n","import isObject from './isObject.js';\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nexport default baseCreate;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nexport default apply;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nexport default copyArray;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nexport default shortOut;\n","import getNative from './_getNative.js';\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nexport default defineProperty;\n","import constant from './constant.js';\nimport defineProperty from './_defineProperty.js';\nimport identity from './identity.js';\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nexport default baseSetToString;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nexport default constant;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nexport default isIndex;\n","import defineProperty from './_defineProperty.js';\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nexport default baseAssignValue;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nexport default eq;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignValue;\n","import assignValue from './_assignValue.js';\nimport baseAssignValue from './_baseAssignValue.js';\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nexport default copyObject;\n","import apply from './_apply.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nexport default overRest;\n","import identity from './identity.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nexport default baseRest;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isLength;\n","import isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nexport default isArrayLike;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nexport default isPrototype;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nexport default baseIsArguments;\n","import baseIsArguments from './_baseIsArguments.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nexport default isArguments;\n","import root from './_root.js';\nimport stubFalse from './stubFalse.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nexport default isBuffer;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nexport default stubFalse;\n","import baseGetTag from './_baseGetTag.js';\nimport isLength from './isLength.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nexport default baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nexport default baseUnary;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nexport default nodeUtil;\n","import baseIsTypedArray from './_baseIsTypedArray.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nexport default isTypedArray;\n","import baseTimes from './_baseTimes.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isIndex from './_isIndex.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default arrayLikeKeys;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nexport default baseTimes;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import overArg from './_overArg.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nexport default nativeKeys;\n","import isPrototype from './_isPrototype.js';\nimport nativeKeys from './_nativeKeys.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeys;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeys from './_baseKeys.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nexport default keys;\n","import isObject from './isObject.js';\nimport isPrototype from './_isPrototype.js';\nimport nativeKeysIn from './_nativeKeysIn.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeysIn;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default nativeKeysIn;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeysIn from './_baseKeysIn.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nexport default keysIn;\n","import getNative from './_getNative.js';\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nexport default nativeCreate;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nexport default hashGet;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nexport default hashHas;\n","import hashClear from './_hashClear.js';\nimport hashDelete from './_hashDelete.js';\nimport hashGet from './_hashGet.js';\nimport hashHas from './_hashHas.js';\nimport hashSet from './_hashSet.js';\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nexport default Hash;\n","import eq from './eq.js';\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nexport default assocIndexOf;\n","import nativeCreate from './_nativeCreate.js';\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nexport default hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default hashDelete;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nexport default hashSet;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nexport default listCacheDelete;\n","import listCacheClear from './_listCacheClear.js';\nimport listCacheDelete from './_listCacheDelete.js';\nimport listCacheGet from './_listCacheGet.js';\nimport listCacheHas from './_listCacheHas.js';\nimport listCacheSet from './_listCacheSet.js';\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nexport default ListCache;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nexport default listCacheClear;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nexport default listCacheGet;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nexport default listCacheHas;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nexport default listCacheSet;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n","import isKeyable from './_isKeyable.js';\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nexport default getMapData;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nexport default isKeyable;\n","import mapCacheClear from './_mapCacheClear.js';\nimport mapCacheDelete from './_mapCacheDelete.js';\nimport mapCacheGet from './_mapCacheGet.js';\nimport mapCacheHas from './_mapCacheHas.js';\nimport mapCacheSet from './_mapCacheSet.js';\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nexport default MapCache;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nexport default arrayPush;\n","import Hash from './_Hash.js';\nimport ListCache from './_ListCache.js';\nimport Map from './_Map.js';\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nexport default mapCacheClear;\n","import getMapData from './_getMapData.js';\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default mapCacheDelete;\n","import getMapData from './_getMapData.js';\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nexport default mapCacheGet;\n","import getMapData from './_getMapData.js';\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nexport default mapCacheHas;\n","import getMapData from './_getMapData.js';\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nexport default mapCacheSet;\n","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n","import baseGetTag from './_baseGetTag.js';\nimport getPrototype from './_getPrototype.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nexport default isPlainObject;\n","import ListCache from './_ListCache.js';\nimport stackClear from './_stackClear.js';\nimport stackDelete from './_stackDelete.js';\nimport stackGet from './_stackGet.js';\nimport stackHas from './_stackHas.js';\nimport stackSet from './_stackSet.js';\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nexport default Stack;\n","import ListCache from './_ListCache.js';\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nexport default stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nexport default stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nexport default stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nexport default stackHas;\n","import ListCache from './_ListCache.js';\nimport Map from './_Map.js';\nimport MapCache from './_MapCache.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nexport default stackSet;\n","import root from './_root.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nexport default cloneBuffer;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nexport default stubArray;\n","import arrayFilter from './_arrayFilter.js';\nimport stubArray from './stubArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nexport default getSymbols;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nexport default arrayFilter;\n","import arrayPush from './_arrayPush.js';\nimport getPrototype from './_getPrototype.js';\nimport getSymbols from './_getSymbols.js';\nimport stubArray from './stubArray.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\nexport default getSymbolsIn;\n","import arrayPush from './_arrayPush.js';\nimport isArray from './isArray.js';\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nexport default baseGetAllKeys;\n","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbols from './_getSymbols.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nexport default getAllKeys;\n","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbolsIn from './_getSymbolsIn.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nexport default getAllKeysIn;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nexport default DataView;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nexport default Promise;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nexport default Set;\n","import DataView from './_DataView.js';\nimport Map from './_Map.js';\nimport Promise from './_Promise.js';\nimport Set from './_Set.js';\nimport WeakMap from './_WeakMap.js';\nimport baseGetTag from './_baseGetTag.js';\nimport toSource from './_toSource.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nexport default getTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nexport default initCloneArray;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nexport default Uint8Array;\n","import Uint8Array from './_Uint8Array.js';\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nexport default cloneArrayBuffer;\n","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nexport default cloneRegExp;\n","import Symbol from './_Symbol.js';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nexport default cloneSymbol;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nexport default cloneTypedArray;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\nimport cloneDataView from './_cloneDataView.js';\nimport cloneRegExp from './_cloneRegExp.js';\nimport cloneSymbol from './_cloneSymbol.js';\nimport cloneTypedArray from './_cloneTypedArray.js';\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return new Ctor;\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return new Ctor;\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nexport default initCloneByTag;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nexport default cloneDataView;\n","import baseCreate from './_baseCreate.js';\nimport getPrototype from './_getPrototype.js';\nimport isPrototype from './_isPrototype.js';\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nexport default initCloneObject;\n","import baseIsMap from './_baseIsMap.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\nexport default isMap;\n","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]';\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\n\nexport default baseIsMap;\n","import baseIsSet from './_baseIsSet.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\nexport default isSet;\n","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar setTag = '[object Set]';\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\n\nexport default baseIsSet;\n","import Stack from './_Stack.js';\nimport arrayEach from './_arrayEach.js';\nimport assignValue from './_assignValue.js';\nimport baseAssign from './_baseAssign.js';\nimport baseAssignIn from './_baseAssignIn.js';\nimport cloneBuffer from './_cloneBuffer.js';\nimport copyArray from './_copyArray.js';\nimport copySymbols from './_copySymbols.js';\nimport copySymbolsIn from './_copySymbolsIn.js';\nimport getAllKeys from './_getAllKeys.js';\nimport getAllKeysIn from './_getAllKeysIn.js';\nimport getTag from './_getTag.js';\nimport initCloneArray from './_initCloneArray.js';\nimport initCloneByTag from './_initCloneByTag.js';\nimport initCloneObject from './_initCloneObject.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isMap from './isMap.js';\nimport isObject from './isObject.js';\nimport isSet from './isSet.js';\nimport keys from './keys.js';\nimport keysIn from './keysIn.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (isSet(value)) {\n    value.forEach(function(subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n  } else if (isMap(value)) {\n    value.forEach(function(subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n  }\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nexport default baseClone;\n","import copyObject from './_copyObject.js';\nimport getSymbolsIn from './_getSymbolsIn.js';\n\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbolsIn(source, object) {\n  return copyObject(source, getSymbolsIn(source), object);\n}\n\nexport default copySymbolsIn;\n","import copyObject from './_copyObject.js';\nimport keysIn from './keysIn.js';\n\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssignIn(object, source) {\n  return object && copyObject(source, keysIn(source), object);\n}\n\nexport default baseAssignIn;\n","import copyObject from './_copyObject.js';\nimport getSymbols from './_getSymbols.js';\n\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nexport default copySymbols;\n","import copyObject from './_copyObject.js';\nimport keys from './keys.js';\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nexport default baseAssign;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nexport default arrayEach;\n","import MapCache from './_MapCache.js';\nimport setCacheAdd from './_setCacheAdd.js';\nimport setCacheHas from './_setCacheHas.js';\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nexport default SetCache;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arraySome;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nexport default setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nexport default setCacheHas;\n","import SetCache from './_SetCache.js';\nimport arraySome from './_arraySome.js';\nimport cacheHas from './_cacheHas.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalArrays;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nexport default cacheHas;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nexport default mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nexport default setToArray;\n","import Symbol from './_Symbol.js';\nimport Uint8Array from './_Uint8Array.js';\nimport eq from './eq.js';\nimport equalArrays from './_equalArrays.js';\nimport mapToArray from './_mapToArray.js';\nimport setToArray from './_setToArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nexport default equalByTag;\n","import getAllKeys from './_getAllKeys.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalObjects;\n","import Stack from './_Stack.js';\nimport equalArrays from './_equalArrays.js';\nimport equalByTag from './_equalByTag.js';\nimport equalObjects from './_equalObjects.js';\nimport getTag from './_getTag.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nexport default baseIsEqualDeep;\n","import baseIsEqualDeep from './_baseIsEqualDeep.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nexport default baseIsEqual;\n","import createBaseFor from './_createBaseFor.js';\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nexport default baseFor;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nexport default createBaseFor;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignMergeValue;\n","/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nexport default safeGet;\n","import assignMergeValue from './_assignMergeValue.js';\nimport cloneBuffer from './_cloneBuffer.js';\nimport cloneTypedArray from './_cloneTypedArray.js';\nimport copyArray from './_copyArray.js';\nimport initCloneObject from './_initCloneObject.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport isBuffer from './isBuffer.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isPlainObject from './isPlainObject.js';\nimport isTypedArray from './isTypedArray.js';\nimport safeGet from './_safeGet.js';\nimport toPlainObject from './toPlainObject.js';\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nexport default baseMergeDeep;\n","import isArrayLike from './isArrayLike.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nexport default isArrayLikeObject;\n","import copyObject from './_copyObject.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nexport default toPlainObject;\n","import Stack from './_Stack.js';\nimport assignMergeValue from './_assignMergeValue.js';\nimport baseFor from './_baseFor.js';\nimport baseMergeDeep from './_baseMergeDeep.js';\nimport isObject from './isObject.js';\nimport keysIn from './keysIn.js';\nimport safeGet from './_safeGet.js';\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nexport default baseMerge;\n","import baseMerge from './_baseMerge.js';\nimport createAssigner from './_createAssigner.js';\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\nexport default merge;\n","import baseRest from './_baseRest.js';\nimport isIterateeCall from './_isIterateeCall.js';\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nexport default createAssigner;\n","export var SynMessageType;\n(function (SynMessageType) {\n    SynMessageType[\"SyncReq\"] = \"SyncReq\";\n    SynMessageType[\"SyncResp\"] = \"SyncResp\";\n    SynMessageType[\"ChangeReq\"] = \"ChangeReq\";\n    SynMessageType[\"ChangeNotice\"] = \"ChangeNotice\";\n    SynMessageType[\"CommitNotice\"] = \"CommitNotice\";\n    SynMessageType[\"Heartbeat\"] = \"Heartbeat\";\n    SynMessageType[\"FolkLore\"] = \"FolkLore\";\n})(SynMessageType || (SynMessageType = {}));\nexport const allMessageTypes = [\n    SynMessageType.SyncReq,\n    SynMessageType.SyncResp,\n    SynMessageType.ChangeReq,\n    SynMessageType.ChangeNotice,\n    SynMessageType.CommitNotice,\n    SynMessageType.Heartbeat,\n    SynMessageType.FolkLore,\n];\n//# sourceMappingURL=signal.js.map","import eq from './eq.js';\nimport isArrayLike from './isArrayLike.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nexport default isIterateeCall;\n","import { decode } from \"@msgpack/msgpack\";\nexport function deepDecodeUint8Arrays(object) {\n    if (object === undefined || object === null)\n        return object;\n    if (object instanceof Uint8Array)\n        return decode(object);\n    if (typeof object !== \"object\")\n        return object;\n    if (Array.isArray(object))\n        return object.map(deepDecodeUint8Arrays);\n    const obj = {};\n    for (const key of Object.keys(object)) {\n        obj[key] = deepDecodeUint8Arrays(object[key]);\n    }\n    return obj;\n}\n//# sourceMappingURL=utils.js.map","import { encode, decode } from \"@msgpack/msgpack\";\nimport { isEqual } from \"lodash-es\";\nimport { allMessageTypes } from \"./types/signal\";\nimport { deepDecodeUint8Arrays } from \"./utils\";\nexport class SynClient {\n    constructor(cellClient, handleSignal, zomeName = \"syn\") {\n        this.cellClient = cellClient;\n        this.handleSignal = handleSignal;\n        this.zomeName = zomeName;\n        this.unsubscribe = () => { };\n        cellClient\n            .addSignalHandler((signal) => {\n            console.log(signal);\n            if (isEqual(cellClient.cellId, signal.data.cellId) &&\n                signal.data.payload.message &&\n                allMessageTypes.includes(signal.data.payload.message.type)) {\n                handleSignal(deepDecodeUint8Arrays(signal.data.payload));\n            }\n        })\n            .then(({ unsubscribe }) => (this.unsubscribe = unsubscribe));\n    }\n    close() {\n        return this.unsubscribe();\n    }\n    /** Content */\n    putSnapshot(content) {\n        return this.callZome(\"put_snapshot\", encode(content));\n    }\n    async getSnapshot(snapshotHash) {\n        const content = await this.callZome(\"get_snapshot\", snapshotHash);\n        return decode(content);\n    }\n    /** Commits */\n    commit(commitInput) {\n        const commit = Object.assign(Object.assign({}, commitInput), { commit: Object.assign(Object.assign({}, commitInput.commit), { changes: this.encodeChangeBundle(commitInput.commit.changes) }) });\n        return this.callZome(\"commit\", commit);\n    }\n    /** Hash */\n    hashContent(content) {\n        return this.callZome(\"hash_content\", encode(content));\n    }\n    /** Session */\n    async getSession(sessionHash) {\n        const sessionInfo = await this.callZome(\"get_session\", sessionHash);\n        return this.decodeSessionInfo(sessionInfo);\n    }\n    async newSession(newSessionInput) {\n        const sessionInfo = await this.callZome(\"new_session\", newSessionInput);\n        return this.decodeSessionInfo(sessionInfo);\n    }\n    getSessions() {\n        return this.callZome(\"get_sessions\", null);\n    }\n    /** Folks */\n    getFolks() {\n        return this.callZome(\"get_folks\", null);\n    }\n    sendFolkLore(sendFolkLoreInput) {\n        return this.callZome(\"send_folk_lore\", sendFolkLoreInput);\n    }\n    /** Sync */\n    sendSyncRequest(syncRequestInput) {\n        return this.callZome(\"send_sync_request\", syncRequestInput);\n    }\n    sendSyncResponse(syncResponseInput) {\n        const missedCommits = {};\n        for (const hash of Object.keys(syncResponseInput.state.missedCommits)) {\n            missedCommits[hash] = this.encodeCommit(syncResponseInput.state.missedCommits[hash]);\n        }\n        const input = Object.assign(Object.assign({}, syncResponseInput), { state: Object.assign(Object.assign({}, syncResponseInput.state), { missedCommits, uncommittedChanges: this.encodeChangeBundle(syncResponseInput.state.uncommittedChanges) }) });\n        return this.callZome(\"send_sync_response\", input);\n    }\n    /** Changes */\n    sendChangeRequest(changeRequestInput) {\n        const input = Object.assign(Object.assign({}, changeRequestInput), { deltas: changeRequestInput.deltas.map((d) => encode(d)) });\n        return this.callZome(\"send_change_request\", input);\n    }\n    sendChange(sendChangeInput) {\n        const input = Object.assign(Object.assign({}, sendChangeInput), { changes: this.encodeChangeBundle(sendChangeInput.changes) });\n        return this.callZome(\"send_change\", input);\n    }\n    /** Heartbeat */\n    sendHeartbeat(heartbeatInput) {\n        return this.callZome(\"send_heartbeat\", heartbeatInput);\n    }\n    /** Helpers */\n    async callZome(fnName, payload) {\n        return this.cellClient.callZome(this.zomeName, fnName, payload);\n    }\n    decodeSessionInfo(sessionInfo) {\n        const commits = {};\n        for (const [hash, commit] of Object.entries(sessionInfo.commits)) {\n            commits[hash] = this.decodeCommit(commit);\n        }\n        return Object.assign(Object.assign({}, sessionInfo), { commits, snapshot: decode(sessionInfo.snapshot) });\n    }\n    encodeCommit(commit) {\n        return Object.assign(Object.assign({}, commit), { changes: this.encodeChangeBundle(commit.changes) });\n    }\n    encodeChangeBundle(changes) {\n        return Object.assign(Object.assign({}, changes), { deltas: changes.deltas.map((d) => encode(d)) });\n    }\n    decodeCommit(commit) {\n        return Object.assign(Object.assign({}, commit), { changes: {\n                deltas: commit.changes.deltas.map((d) => decode(d)),\n            } });\n    }\n}\n//# sourceMappingURL=syn-client.js.map","import baseIsEqual from './_baseIsEqual.js';\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nexport default isEqual;\n","export function amIScribe(synState, sessionHash) {\n    return selectScribe(synState, sessionHash) === synState.myPubKey;\n}\nexport function selectScribe(synState, sessionHash) {\n    const session = synState.joinedSessions[sessionHash];\n    return session.session.scribe;\n}\nexport function selectSession(synState, sessionHash) {\n    return synState.joinedSessions[sessionHash];\n}\nexport function selectLastCommitTime(state, sessionHash) {\n    const commit = selectLatestCommit(state, sessionHash);\n    if (commit)\n        return commit.createdAt;\n    else\n        return selectSession(state, sessionHash).session.createdAt;\n}\nexport function selectLatestCommit(state, sessionHash) {\n    const commitHash = selectLatestCommitHash(selectSession(state, sessionHash));\n    return commitHash ? state.commits[commitHash] : undefined;\n}\nexport function selectLatestCommitHash(session) {\n    if (session.commitHashes.length === 0)\n        return undefined;\n    return session.commitHashes[session.commitHashes.length - 1];\n}\nexport function selectLatestCommittedContentHash(synState, sessionHash) {\n    const latestCommit = selectLatestCommit(synState, sessionHash);\n    if (latestCommit)\n        return latestCommit.newContentHash;\n    // If there is no commit after the initial snapshot,\n    // the last committed entry hash is the initial snapshot hash\n    return synState.joinedSessions[sessionHash].session.snapshotHash;\n}\nexport function selectAllCommits(synState, sessionHash) {\n    const session = synState.joinedSessions[sessionHash];\n    return session.commitHashes.map((hash) => [hash, synState.commits[hash]]);\n}\n// Returns the commits that have been missed since the last session change seen\nexport function selectMissedCommits(synState, sessionHash, latestSeenSessionIndex) {\n    const commits = selectAllCommits(synState, sessionHash);\n    const missedCommits = {};\n    // Traverse the commits in reverse order, and when we find one that has already been seen, return\n    for (const commit of commits.reverse()) {\n        if (commit[1].changes.atSessionIndex > latestSeenSessionIndex) {\n            missedCommits[commit[0]] = commit[1];\n        }\n        else {\n            return missedCommits;\n        }\n    }\n    return missedCommits;\n}\nexport function selectMissedUncommittedChanges(synState, sessionHash, latestSeenSessionIndex) {\n    const sessionWorkspace = synState.joinedSessions[sessionHash];\n    if (sessionWorkspace.uncommittedChanges.atSessionIndex >= latestSeenSessionIndex)\n        return sessionWorkspace.uncommittedChanges;\n    else {\n        // Only return the changes that they haven't seen yet\n        const uncommittedChanges = sessionWorkspace.uncommittedChanges;\n        const uncommittedDeltaIndex = latestSeenSessionIndex - uncommittedChanges.atSessionIndex;\n        return {\n            atSessionIndex: latestSeenSessionIndex + 1,\n            deltas: uncommittedChanges.deltas.slice(uncommittedDeltaIndex),\n            authors: uncommittedChanges.authors, // TODO: optimization of only sending the authors of the missed deltas?\n        };\n    }\n}\nexport function selectCurrentSessionIndex(sessionWorkspace) {\n    return (sessionWorkspace.uncommittedChanges.atSessionIndex +\n        sessionWorkspace.uncommittedChanges.deltas.length);\n}\nexport function selectFolksInSession(sessionWorkspace) {\n    return Object.entries(sessionWorkspace.folks)\n        .filter(([_, info]) => info.inSession)\n        .map(([f, _]) => f);\n}\n//# sourceMappingURL=selectors.js.map","// retruns binary input as hex number string (e.g. 'a293b8e1a')\nfunction arrayBufferToHex(buffer) {\n    let hexString = '';\n    for (const byte of buffer) {\n        hexString += byte.toString(16);\n    }\n    return hexString;\n}\n// converts RGB to HSL\n// Source: https://gist.github.com/mjackson/5311256\nfunction rgbToHsl(r, g, b) {\n    (r /= 255), (g /= 255), (b /= 255);\n    let max = Math.max(r, g, b), min = Math.min(r, g, b);\n    let h, s, l = (max + min) / 2;\n    if (max == min) {\n        h = s = 0;\n    }\n    else {\n        let d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch (max) {\n            case r:\n                h = (g - b) / d + (g < b ? 6 : 0);\n                break;\n            case g:\n                h = (b - r) / d + 2;\n                break;\n            case b:\n                h = (r - g) / d + 4;\n                break;\n        }\n        h /= 6;\n    }\n    return [h * 360, s * 100, l * 100];\n}\n// Source: https://stackoverflow.com/questions/5842747\nfunction clamp(value, min, max) {\n    return Math.min(Math.max(value, min), max);\n}\n// Generate an object of colors for a folk from their pubKey\n// returns Object:\n//           primary: Color,            // used for hex outline and norrmal cursor\n//           hexagon: Color,            // used for hexagon picture placeholder\n//           selection: Color,          // used for normal selection\n//           lookingSelection: Color,   // used for selection when \"looking at\"\n//           lookingCursor: Color,      // used for cursor when \"looking at\"\n// where Color is array: [h, s, l]\n// used in `use:setColor` on new Folk components\nexport function getFolkColors(pubKey) {\n    // get a hex color from the folk's public key\n    const hexColor = '#' + arrayBufferToHex(pubKey).slice(-6);\n    // extract the RGB components from the hex color notation.\n    // Source: https://stackoverflow.com/questions/3732046\n    const r = parseInt(hexColor.substr(1, 2), 16); // Grab the hex representation of red (chars 1-2) and convert to decimal (base 10).\n    const g = parseInt(hexColor.substr(3, 2), 16);\n    const b = parseInt(hexColor.substr(5, 2), 16);\n    // convert to HSL\n    let hsl = rgbToHsl(r, g, b);\n    // limit color to be bright enough and not too bright\n    hsl[1] = clamp(hsl[1], 10, 90); // limit s\n    const [h, s, _] = hsl; // destructure\n    return {\n        primary: [h, s, 50],\n        hexagon: [h, s, 25],\n        selection: [h, s, 90],\n        lookingSelection: [h, s, 80],\n        lookingCursor: [h, s + 10, 40],\n    };\n}\n//# sourceMappingURL=colors.js.map","import { getFolkColors } from '../../../utils/colors';\nexport function putJustSeenFolks(session, myPubKey, folks) {\n    const now = Date.now();\n    for (const folk of folks) {\n        if (folk !== myPubKey) {\n            if (!session.folks[folk]) {\n                // First time we are seeing this folk\n                const colors = getFolkColors(folk);\n                session.folks[folk] = {\n                    lastSeen: now,\n                    inSession: true,\n                    colors,\n                };\n            }\n            else {\n                session.folks[folk].lastSeen = now;\n                session.folks[folk].inSession = true;\n            }\n        }\n    }\n}\n//# sourceMappingURL=utils.js.map","export function orderCommits(initialContentHash, commits) {\n    let byPreviousContentHash = {};\n    for (const [hash, commit] of Object.entries(commits)) {\n        byPreviousContentHash[commit.previousContentHash] = hash;\n    }\n    let orderedCommits = [];\n    let contentHash = initialContentHash;\n    while (Object.keys(byPreviousContentHash).length > 0) {\n        if (!byPreviousContentHash[contentHash])\n            throw new Error(\"We have a corrupted chain of commits\");\n        orderedCommits.push(byPreviousContentHash[contentHash]);\n        byPreviousContentHash[contentHash] = undefined;\n        delete byPreviousContentHash[contentHash];\n    }\n    return orderedCommits;\n}\nexport function applyCommits(initialContent, applyDeltaFn, commits) {\n    let content = initialContent;\n    for (const commit of commits) {\n        content = applyChangeBundle(content, applyDeltaFn, commit.changes);\n    }\n    return content;\n}\nexport function applyChangeBundle(initialContent, applyDeltaFn, changeBundle) {\n    let content = initialContent;\n    for (const delta of changeBundle.deltas) {\n        content = applyDeltaFn(content, delta);\n    }\n    return content;\n}\n//# sourceMappingURL=utils.js.map","import { selectLatestCommitHash, selectLatestCommittedContentHash, selectSession, } from \"../../../state/selectors\";\nexport function buildCommitFromUncommitted(state, sessionHash, newContentHash) {\n    const session = selectSession(state, sessionHash);\n    const lastCommitHash = selectLatestCommitHash(session);\n    return {\n        changes: session.uncommittedChanges,\n        newContentHash,\n        previousCommitHashes: lastCommitHash ? [lastCommitHash] : [],\n        previousContentHash: selectLatestCommittedContentHash(state, sessionHash),\n        createdAt: Date.now(),\n        meta: {\n            appSpecific: null,\n            witnesses: [],\n        },\n    };\n}\nexport function putNewCommit(state, sessionHash, newCommitHash, commit) {\n    state.commits[newCommitHash] = commit;\n    const session = selectSession(state, sessionHash);\n    session.commitHashes.push(newCommitHash);\n    const newSessionIndex = commit.changes.atSessionIndex + commit.changes.deltas.length;\n    session.uncommittedChanges = {\n        atSessionIndex: newSessionIndex,\n        authors: {},\n        deltas: [],\n    };\n}\n//# sourceMappingURL=utils.js.map","import { get } from \"svelte/store\";\nimport { amIScribe, selectFolksInSession, selectSession, } from \"../../../state/selectors\";\nimport { buildCommitFromUncommitted, putNewCommit } from \"./utils\";\nexport async function commitChanges(workspace, sessionHash) {\n    const state = get(workspace.store);\n    if (!amIScribe(state, sessionHash)) {\n        console.log(\"Trying to commit the changes but I'm not the scribe!\");\n        return state;\n    }\n    let session = selectSession(state, sessionHash);\n    const hash = await workspace.client.hashContent(session.currentContent);\n    const commit = buildCommitFromUncommitted(state, sessionHash, hash);\n    const commitInput = {\n        commit,\n        participants: selectFolksInSession(session),\n        sessionHash,\n        sessionSnapshot: session.session.snapshotHash,\n    };\n    const newCommitHash = await workspace.client.commit(commitInput);\n    // TODO: what happens if we have a new change while committing?\n    workspace.store.update((state) => {\n        putNewCommit(state, sessionHash, newCommitHash, commit);\n        return state;\n    });\n}\n//# sourceMappingURL=scribe.js.map","import { amIScribe, selectCurrentSessionIndex, selectFolksInSession, selectSession, } from \"../../../state/selectors\";\nimport { putJustSeenFolks } from \"../folklore/utils\";\nimport { commitChanges } from \"../commit/scribe\";\nexport function scribeRequestChange(workspace, sessionHash, deltas) {\n    workspace.store.update((state) => {\n        const session = selectSession(state, sessionHash);\n        const changeBundle = putDeltas(workspace.applyDeltaFn, session, state.myPubKey, session.myFolkIndex, deltas);\n        workspace.client.sendChange({\n            participants: selectFolksInSession(session),\n            sessionHash,\n            changes: changeBundle,\n        });\n        triggerCommitIfNecessary(workspace, sessionHash, session.uncommittedChanges.deltas.length);\n        session.myFolkIndex += deltas.length;\n        return state;\n    });\n}\nexport function handleChangeRequest(workspace, sessionHash, changeRequest) {\n    workspace.store.update((state) => {\n        if (!amIScribe(state, sessionHash)) {\n            console.warn(`Received a change request but I'm not the scribe for this session`);\n            return state;\n        }\n        const session = selectSession(state, sessionHash);\n        putJustSeenFolks(session, state.myPubKey, [changeRequest.folk]);\n        const currentSessionIndex = selectCurrentSessionIndex(session);\n        if (currentSessionIndex !== changeRequest.atSessionIndex) {\n            console.warn(\"Scribe is receiving change out of order!\");\n            console.warn(`nextIndex: ${currentSessionIndex}, changeIndex:${changeRequest.atSessionIndex} for deltas:`, changeRequest.deltas);\n            if (changeRequest.atSessionIndex < currentSessionIndex) {\n                // change is too late, nextIndex has moved on\n                // TODO: rebase? notify sender?\n                return state;\n            }\n            else {\n                // change is in the future, possibly some other change was dropped or is slow in arriving\n                // TODO: wait a bit?  Ask sender for other changes?\n                return state;\n            }\n        }\n        const changeBundle = putDeltas(workspace.applyDeltaFn, session, changeRequest.folk, changeRequest.atFolkIndex, changeRequest.deltas);\n        workspace.client.sendChange({\n            changes: changeBundle,\n            participants: selectFolksInSession(session),\n            sessionHash,\n        });\n        triggerCommitIfNecessary(workspace, sessionHash, session.uncommittedChanges.deltas.length);\n        return state;\n    });\n}\nfunction triggerCommitIfNecessary(workspace, sessionHash, uncommittedChangesCount) {\n    if (workspace.config.commitStrategy\n        .CommitEveryNDeltas &&\n        workspace.config.commitStrategy\n            .CommitEveryNDeltas <= uncommittedChangesCount) {\n        commitChanges(workspace, sessionHash);\n    }\n}\nfunction putDeltas(applyDeltaFn, session, author, atFolkIndex, deltas) {\n    const previousSessionIndex = selectCurrentSessionIndex(session);\n    // Immediately update the contents of the session\n    session.uncommittedChanges.deltas = [\n        ...session.uncommittedChanges.deltas,\n        ...deltas,\n    ];\n    let currentContent = session.currentContent;\n    for (const delta of deltas) {\n        currentContent = applyDeltaFn(currentContent, delta);\n    }\n    session.currentContent = currentContent;\n    // Build the change bundle\n    const authorChanges = [];\n    for (let i = previousSessionIndex; i < previousSessionIndex + deltas.length; i++) {\n        authorChanges.push(i);\n    }\n    const folkChanges = {\n        atFolkIndex,\n        sessionChanges: authorChanges,\n    };\n    return {\n        atSessionIndex: previousSessionIndex,\n        deltas,\n        authors: {\n            [author]: folkChanges,\n        },\n    };\n}\n//# sourceMappingURL=scribe.js.map","import { amIScribe, selectSession } from '../../../state/selectors';\nimport { getFolkColors } from '../../../utils/colors';\nimport { putJustSeenFolks } from './utils';\nexport function handleFolkLore(workspace, sessionHash, folklore) {\n    workspace.store.update(state => {\n        if (amIScribe(state, sessionHash)) {\n            console.log(\"Received folklore but I'm the scribe, ignoring\");\n            return state;\n        }\n        const session = selectSession(state, sessionHash);\n        if (folklore.gone) {\n            putGoneFolks(session, folklore.gone);\n        }\n        else {\n            putJustSeenFolks(session, state.myPubKey, folklore.participants);\n        }\n        return state;\n    });\n}\nfunction putGoneFolks(session, goneFolks) {\n    for (const goneFolk of goneFolks) {\n        if (!session.folks[goneFolk]) {\n            session.folks[goneFolk] = {\n                inSession: false,\n                lastSeen: 0,\n                colors: getFolkColors(goneFolk),\n            };\n        }\n        else {\n            session.folks[goneFolk].inSession = false;\n        }\n    }\n}\n//# sourceMappingURL=folk.js.map","import { selectSession, selectFolksInSession, amIScribe, } from \"../../../state/selectors\";\nimport { putJustSeenFolks } from \"./utils\";\nexport function notifyGoneFolks(workspace, sessionHash) {\n    workspace.store.update((state) => {\n        const session = selectSession(state, sessionHash);\n        const gone = updateGoneFolks(session, workspace.config.outOfSessionTimeout);\n        if (gone.length > 0) {\n            workspace.client.sendFolkLore({\n                data: { gone },\n                participants: selectFolksInSession(session),\n                sessionHash,\n            });\n        }\n        return state;\n    });\n}\nexport function handleHeartbeat(workspace, sessionHash, fromFolk) {\n    workspace.store.update((state) => {\n        if (!amIScribe(state, sessionHash)) {\n            console.log(\"Received a heartbeat from a folk but I'm not the scribe\");\n            return state;\n        }\n        const session = selectSession(state, sessionHash);\n        putJustSeenFolks(session, state.myPubKey, [fromFolk]);\n        return state;\n    });\n}\nfunction updateGoneFolks(sessionWorkspace, outOfSessionTimeout) {\n    const gone = [];\n    const now = Date.now();\n    for (const folk of Object.keys(sessionWorkspace.folks)) {\n        if (now - sessionWorkspace.folks[folk].lastSeen > outOfSessionTimeout) {\n            sessionWorkspace.folks[folk].inSession = false;\n            gone.push(folk);\n        }\n    }\n    return gone;\n}\n//# sourceMappingURL=scribe.js.map","import { applyCommits, orderCommits } from \"../../utils\";\n// Pick and join a session\nexport async function joinSession(workspace, sessionHash) {\n    const session = await workspace.client.getSession(sessionHash);\n    const orderedCommitHashes = orderCommits(session.session.snapshotHash, session.commits);\n    const orderedCommits = orderedCommitHashes.map((hash) => session.commits[hash]);\n    const currentContent = applyCommits(session.snapshot, workspace.applyDeltaFn, orderedCommits);\n    workspace.store.update((state) => {\n        state.joinedSessions[session.sessionHash] = {\n            sessionHash: session.sessionHash,\n            session: session.session,\n            commitHashes: orderedCommitHashes,\n            currentContent,\n            myFolkIndex: 0,\n            prerequestContent: undefined,\n            requestedChanges: [],\n            uncommittedChanges: {\n                atSessionIndex: 0,\n                authors: {},\n                deltas: [],\n            },\n            folks: {},\n        };\n        if (session.session.scribe !== state.myPubKey) {\n            workspace.client.sendSyncRequest({\n                scribe: session.session.scribe,\n                sessionHash: session.sessionHash,\n                lastSessionIndexSeen: 0,\n            });\n        }\n        state.activeSessionHash = session.sessionHash;\n        return state;\n    });\n}\n//# sourceMappingURL=folk.js.map","import { cloneDeep } from \"lodash-es\";\nimport { get } from \"svelte/store\";\nimport { amIScribe, selectCurrentSessionIndex, selectSession, } from \"../../../state/selectors\";\nimport { applyChangeBundle } from \"../../utils\";\nimport { joinSession } from \"../sessions/folk\";\nexport function folkRequestChange(workspace, sessionHash, deltas) {\n    workspace.store.update((state) => {\n        const session = selectSession(state, sessionHash);\n        // TODO: don't do this if strategy === CRDT\n        session.prerequestContent = cloneDeep(session.currentContent);\n        for (const delta of deltas) {\n            session.currentContent = workspace.applyDeltaFn(session.currentContent, delta);\n        }\n        const newRequestedChanges = [];\n        const atDate = Date.now();\n        console.log(session.uncommittedChanges);\n        const currentSessionIndex = selectCurrentSessionIndex(session);\n        for (let i = 0; i < deltas.length; i++) {\n            newRequestedChanges.push({\n                atDate,\n                atFolkIndex: session.myFolkIndex + i,\n                atSessionIndex: currentSessionIndex + i,\n                delta: deltas[i],\n            });\n        }\n        session.requestedChanges = [\n            ...session.requestedChanges,\n            ...newRequestedChanges,\n        ];\n        workspace.client.sendChangeRequest({\n            atFolkIndex: session.myFolkIndex,\n            atSessionIndex: currentSessionIndex,\n            deltas,\n            scribe: session.session.scribe,\n            sessionHash,\n        });\n        session.myFolkIndex += deltas.length;\n        return state;\n    });\n}\nexport async function checkRequestedChanges(workspace, sessionHash) {\n    let state = get(workspace.store);\n    if (amIScribe(state, sessionHash)) {\n        return;\n    }\n    let session = selectSession(state, sessionHash);\n    console.log(session.requestedChanges);\n    if (session.requestedChanges.length > 0 &&\n        Date.now() - session.requestedChanges[0].atDate >\n            workspace.config.requestTimeout) {\n        // send a sync request incase something just got out of sequence\n        // TODO: prepare for shifting to new scribe if they went offline\n        await joinSession(workspace, sessionHash);\n        state = get(workspace.store);\n        session = selectSession(state, sessionHash);\n        await workspace.client.sendSyncRequest({\n            lastSessionIndexSeen: selectCurrentSessionIndex(session),\n            scribe: session.session.scribe,\n            sessionHash,\n        });\n    }\n}\n// Folk\nexport function handleChangeNotice(workspace, sessionHash, changes) {\n    workspace.store.update((state) => {\n        if (amIScribe(state, sessionHash)) {\n            console.warn(`Received a change notice but I'm the scribe for this session, ignoring`);\n            return state;\n        }\n        const session = selectSession(state, sessionHash);\n        // TODO\n        // If CRDT, we don't care about requested changes\n        // If BlockOnConflict, we try to rebase and block if applyDelta returns conflict\n        session.currentContent = applyChangeBundle(session.currentContent, workspace.applyDeltaFn, changes);\n        session.uncommittedChanges.deltas = [\n            ...session.uncommittedChanges.deltas,\n            changes.deltas,\n        ];\n        for (const [author, newFolkChanges] of Object.entries(session.uncommittedChanges.authors)) {\n            if (!session.uncommittedChanges.authors[author]) {\n                session.uncommittedChanges.authors[author] = newFolkChanges;\n            }\n            else {\n                const folkChanges = session.uncommittedChanges.authors[author];\n                if (folkChanges.atFolkIndex + folkChanges.sessionChanges.length !==\n                    newFolkChanges.atFolkIndex) {\n                    // We missed changes from this folk?\n                }\n                folkChanges.sessionChanges = [\n                    ...folkChanges.sessionChanges,\n                    ...newFolkChanges.sessionChanges,\n                ];\n            }\n        }\n        const myChanges = changes.authors[state.myPubKey];\n        if (myChanges) {\n            clearRequested(session, myChanges);\n        }\n        return state;\n    });\n}\nfunction clearRequested(session, myChanges) {\n    const leftRequestedChanges = [];\n    for (const requestedChange of session.requestedChanges) {\n        if (!(requestedChange.atFolkIndex >= myChanges.atFolkIndex &&\n            requestedChange.atFolkIndex <\n                myChanges.atFolkIndex + myChanges.sessionChanges.length)) {\n            leftRequestedChanges.push(requestedChange);\n        }\n    }\n    session.requestedChanges = leftRequestedChanges;\n    if (session.requestedChanges.length === 0) {\n        session.prerequestContent = undefined;\n    }\n}\n//# sourceMappingURL=folk.js.map","import baseClone from './_baseClone.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nexport default cloneDeep;\n","import { get } from \"svelte/store\";\nimport { SynMessageType } from \"@syn/zome-client\";\nimport { handleSyncRequest } from \"./workflows/sync/scribe\";\nimport { handleSyncResponse } from \"./workflows/sync/folk\";\nimport { selectSession } from \"../state/selectors\";\nimport { handleChangeRequest } from \"./workflows/change/scribe\";\nimport { handleCommitNotice } from \"./workflows/commit/folk\";\nimport { handleFolkLore } from \"./workflows/folklore/folk\";\nimport { handleHeartbeat } from \"./workflows/folklore/scribe\";\nimport { handleChangeNotice } from \"./workflows/change/folk\";\nexport function handleSignal(workspace, signal) {\n    const currentState = get(workspace.store);\n    if (!selectSession(currentState, signal.sessionHash)) {\n        console.warn(`We are getting a signal for a sesion we don't know about`);\n        return;\n    }\n    switch (signal.message.type) {\n        case SynMessageType.SyncReq:\n            return handleSyncRequest(workspace, signal.sessionHash, signal.message.payload);\n        case SynMessageType.SyncResp:\n            return handleSyncResponse(workspace, signal.sessionHash, signal.message.payload);\n        case SynMessageType.ChangeReq:\n            return handleChangeRequest(workspace, signal.sessionHash, signal.message.payload);\n        case SynMessageType.ChangeNotice:\n            return handleChangeNotice(workspace, signal.sessionHash, signal.message.payload);\n        case SynMessageType.CommitNotice:\n            return handleCommitNotice(workspace, signal.sessionHash, signal.message.payload);\n        case SynMessageType.FolkLore:\n            return handleFolkLore(workspace, signal.sessionHash, signal.message.payload);\n        case SynMessageType.Heartbeat:\n            return handleHeartbeat(workspace, signal.sessionHash, signal.message.payload.fromFolk);\n    }\n}\n//# sourceMappingURL=signals.js.map","import { amIScribe, selectFolksInSession, selectMissedCommits, selectMissedUncommittedChanges, selectSession, } from \"../../../state/selectors\";\nimport { putJustSeenFolks } from \"../folklore/utils\";\n/**\n * Scribe is managing the session, a folk comes in:\n *\n * - Folk: `SyncRequest`\n *     \"Hey scribe! So I think I'm out of date and I don't know all the latest changes.\n *      This is the latest changes I've seen... Help me please?\"\n * - Scribe: `SyncResponse`\n *     \"Oh sure! Here is the commits you missed since you were gone, and here are the\n *      uncommitted changes on top of them. From now on I'll update you whenever a change happens.\"\n *\n */\nexport function handleSyncRequest(workspace, sessionHash, requestSyncInput) {\n    workspace.store.update((synState) => {\n        if (!amIScribe(synState, sessionHash)) {\n            console.log(\"syncReq received but I'm not the scribe!\");\n            return synState;\n        }\n        const session = selectSession(synState, sessionHash);\n        putJustSeenFolks(session, synState.myPubKey, [requestSyncInput.folk]);\n        const missedCommits = selectMissedCommits(synState, sessionHash, requestSyncInput.lastSessionIndexSeen);\n        const uncommittedChanges = selectMissedUncommittedChanges(synState, sessionHash, requestSyncInput.lastSessionIndexSeen);\n        const syncState = {\n            uncommittedChanges,\n            missedCommits,\n            //currentContentHash:\n        };\n        workspace.client.sendSyncResponse({\n            participant: requestSyncInput.folk,\n            state: syncState,\n            sessionHash,\n        });\n        const participants = selectFolksInSession(session);\n        workspace.client.sendFolkLore({\n            participants,\n            sessionHash,\n            data: { participants: [...participants, synState.myPubKey] },\n        });\n        return synState;\n    });\n}\n//# sourceMappingURL=scribe.js.map","import { merge } from \"lodash-es\";\nimport { selectLatestCommittedContentHash, selectSession, } from \"../../../state/selectors\";\nimport { orderCommits, applyCommits, applyChangeBundle } from \"../../utils\";\nexport function handleSyncResponse(workspace, sessionHash, stateForSync) {\n    workspace.store.update((state) => {\n        const sessionWorkspace = selectSession(state, sessionHash);\n        // Put the missed commits in the state\n        const latestCommittedContentHash = selectLatestCommittedContentHash(state, sessionHash);\n        const missedCommitHashes = orderCommits(latestCommittedContentHash, stateForSync.missedCommits);\n        for (const missedCommitHash of missedCommitHashes) {\n            state.commits[missedCommitHash] =\n                stateForSync.missedCommits[missedCommitHash];\n        }\n        sessionWorkspace.commitHashes = [\n            ...sessionWorkspace.commitHashes,\n            ...missedCommitHashes,\n        ];\n        // Put the uncommitted changes in the state\n        const uncommittedChanges = sessionWorkspace.uncommittedChanges;\n        const lastSeenIndex = uncommittedChanges.atSessionIndex + uncommittedChanges.deltas.length;\n        if (lastSeenIndex !== stateForSync.uncommittedChanges.atSessionIndex)\n            throw new Error(`I requested changes from session index ${lastSeenIndex} and received changes from ${stateForSync.uncommittedChanges.atSessionIndex}`);\n        uncommittedChanges.deltas = [\n            ...uncommittedChanges.deltas,\n            ...stateForSync.uncommittedChanges.deltas,\n        ];\n        uncommittedChanges.authors = merge(uncommittedChanges.authors, stateForSync.uncommittedChanges.authors);\n        // Apply all deltas\n        const commitArray = missedCommitHashes.map((missedCommitHash) => stateForSync.missedCommits[missedCommitHash]);\n        let currentContent = applyCommits(sessionWorkspace.currentContent, workspace.applyDeltaFn, commitArray);\n        sessionWorkspace.currentContent = applyChangeBundle(currentContent, workspace.applyDeltaFn, stateForSync.uncommittedChanges);\n        return state;\n    });\n}\n//# sourceMappingURL=folk.js.map","import { amIScribe, selectLatestCommittedContentHash, selectSession, } from \"../../../state/selectors\";\nimport { buildCommitFromUncommitted, putNewCommit } from \"./utils\";\nexport function handleCommitNotice(workspace, sessionHash, commitNotice) {\n    workspace.store.update((state) => {\n        if (amIScribe(state, sessionHash)) {\n            console.log(\"Received a commit notice but I'm the scribe!\");\n            return state;\n        }\n        const latestCommittedContentHash = selectLatestCommittedContentHash(state, sessionHash);\n        const session = selectSession(state, sessionHash);\n        if (latestCommittedContentHash === commitNotice.previousContentHash &&\n            commitNotice.committedDeltasCount ===\n                session.uncommittedChanges.deltas.length) {\n            const commit = buildCommitFromUncommitted(state, sessionHash, commitNotice.newContentHash);\n            putNewCommit(state, sessionHash, commitNotice.commitHash, commit);\n        }\n        else {\n            // TODO: resync\n        }\n        return state;\n    });\n}\n//# sourceMappingURL=folk.js.map","export var SyncStrategy;\n(function (SyncStrategy) {\n    SyncStrategy[SyncStrategy[\"CRDT\"] = 0] = \"CRDT\";\n    SyncStrategy[SyncStrategy[\"BlockOnConflict\"] = 1] = \"BlockOnConflict\";\n    SyncStrategy[SyncStrategy[\"DropOnConflict\"] = 2] = \"DropOnConflict\";\n})(SyncStrategy || (SyncStrategy = {}));\nexport function defaultConfig() {\n    return {\n        hearbeatInterval: 30 * 1000,\n        outOfSessionTimeout: 8 * 1000,\n        requestTimeout: 1000,\n        commitStrategy: { CommitEveryNDeltas: 20, CommitEveryNMs: 2 * 1000 * 60 },\n        syncStrategy: SyncStrategy.BlockOnConflict,\n    };\n}\n//# sourceMappingURL=config.js.map","export var AppStatusFilter;\n(function (AppStatusFilter) {\n    AppStatusFilter[\"Enabled\"] = \"enabled\";\n    AppStatusFilter[\"Disabled\"] = \"disabled\";\n    AppStatusFilter[\"Running\"] = \"running\";\n    AppStatusFilter[\"Stopped\"] = \"stopped\";\n    AppStatusFilter[\"Paused\"] = \"paused\";\n})(AppStatusFilter || (AppStatusFilter = {}));\n//# sourceMappingURL=admin.js.map","import { get } from \"svelte/store\";\nimport { amIScribe, selectScribe } from \"../../../state/selectors\";\nimport { notifyGoneFolks } from \"./scribe\";\nexport function heartbeat(workspace, sessionHash) {\n    const state = get(workspace.store);\n    if (amIScribe(state, sessionHash))\n        return notifyGoneFolks(workspace, sessionHash);\n    else {\n        // I'm not the scribe so send them a heartbeat\n        return workspace.client.sendHeartbeat({\n            scribe: selectScribe(state, sessionHash),\n            data: \"hi\",\n            sessionHash: sessionHash,\n        });\n    }\n}\n//# sourceMappingURL=index.js.map","import { get } from \"svelte/store\";\nimport { amIScribe } from \"../../../state/selectors\";\nimport { folkRequestChange } from \"./folk\";\nimport { scribeRequestChange } from \"./scribe\";\n// Folk or scribe\nexport function requestChange(workspace, sessionHash, deltas) {\n    const state = get(workspace.store);\n    if (amIScribe(state, sessionHash))\n        return scribeRequestChange(workspace, sessionHash, deltas);\n    else\n        return folkRequestChange(workspace, sessionHash, deltas);\n}\n//# sourceMappingURL=index.js.map","import { derived, get } from 'svelte/store';\nimport { selectSession } from './state/selectors';\nimport { requestChange } from './internal/workflows/change';\nexport function buildSessionStore(workspace, sessionHash) {\n    const content = derived(workspace.store, state => selectSession(state, sessionHash).currentContent);\n    const folks = derived(workspace.store, state => selectSession(state, sessionHash).folks);\n    return {\n        hash: sessionHash,\n        info: selectSession(get(workspace.store), sessionHash).session,\n        content,\n        folks,\n        requestChange: deltas => requestChange(workspace, sessionHash, deltas),\n        leave: async () => { }, // TODO\n    };\n}\n//# sourceMappingURL=session-store.js.map","import { derived, writable } from 'svelte/store';\nimport { serializeHash } from '@holochain-open-dev/core-types';\nimport { SynClient } from '@syn/zome-client';\nimport { merge } from 'lodash-es';\nimport { initialState } from './state/syn-state';\nimport { handleSignal } from './internal/signals';\nimport { defaultConfig } from './config';\nimport { initBackgroundTasks } from './internal/tasks';\nimport { joinSession } from './internal/workflows/sessions/folk';\nimport { buildSessionStore } from './session-store';\nimport { newSession } from './internal/workflows/sessions/scribe';\nimport { getFolkColors } from './utils/colors';\nexport function createSynStore(cellClient, initialContent, applyDeltaFn, config) {\n    let workspace = undefined;\n    const fullConfig = merge(config, defaultConfig());\n    const myPubKey = serializeHash(cellClient.cellId[1]);\n    const state = initialState(myPubKey);\n    const store = writable(state);\n    const client = new SynClient(cellClient, signal => handleSignal(workspace, signal));\n    workspace = {\n        store,\n        applyDeltaFn,\n        client,\n        initialContent,\n        config: fullConfig,\n    };\n    const { cancel } = initBackgroundTasks(workspace);\n    const activeSession = derived(store, state => {\n        if (state.activeSessionHash)\n            return buildSessionStore(workspace, state.activeSessionHash);\n    });\n    return {\n        myPubKey,\n        myColors: getFolkColors(myPubKey),\n        getAllSessions: () => client.getSessions(),\n        joinSession: async (sessionHash) => joinSession(workspace, sessionHash),\n        activeSession,\n        joinedSessions: derived(workspace.store, state => Object.keys(state.joinedSessions)),\n        sessionStore: sessionHash => buildSessionStore(workspace, sessionHash),\n        newSession: async (fromSnapshot) => newSession(workspace, fromSnapshot),\n        close: async () => {\n            client.close();\n            cancel();\n        },\n    };\n}\n//# sourceMappingURL=syn-store.js.map","import { Base64 } from \"js-base64\";\nexport function deserializeHash(hash) {\n    return Base64.toUint8Array(hash.slice(1));\n}\nexport function serializeHash(hash) {\n    return `u${Base64.fromUint8Array(hash, true)}`;\n}\nexport function getCellIdForDnaHash(appInfo, dnaHash) {\n    const cell = appInfo.cell_data.find((cellData) => serializeHash(cellData.cell_id[0]) === dnaHash);\n    if (!cell)\n        throw new Error(`Could not find cell for dna ${dnaHash}`);\n    return cell.cell_id;\n}\nexport function millisToTimestamp(millis) {\n    const secs = Math.floor(millis / 1000);\n    const nanos = (millis % 1000) * 1000;\n    return [secs, nanos];\n}\nexport function timestampToMillis(timestamp) {\n    return timestamp[0] * 1000 + Math.floor(timestamp[1] / 1000);\n}\n//# sourceMappingURL=utils.js.map","export function initialState(myPubKey) {\n    const internalStore = {\n        myPubKey,\n        activeSessionHash: undefined,\n        joinedSessions: {},\n        commits: {},\n        snapshots: {},\n    };\n    return internalStore;\n}\n//# sourceMappingURL=syn-state.js.map","import { get } from \"svelte/store\";\nimport { amIScribe, selectLastCommitTime } from \"../state/selectors\";\nimport { checkRequestedChanges } from \"./workflows/change/folk\";\nimport { commitChanges } from \"./workflows/commit/scribe\";\nimport { heartbeat } from \"./workflows/folklore\";\nexport function initBackgroundTasks(workspace) {\n    const intervals = [];\n    const heartbeatInterval = setInterval(() => {\n        const state = get(workspace.store);\n        for (const sessionHash of Object.keys(state.joinedSessions)) {\n            heartbeat(workspace, sessionHash);\n        }\n    }, workspace.config.hearbeatInterval);\n    intervals.push(heartbeatInterval);\n    const checkRequestInterval = setInterval(() => {\n        const state = get(workspace.store);\n        for (const sessionHash of Object.keys(state.joinedSessions)) {\n            checkRequestedChanges(workspace, sessionHash);\n        }\n    }, workspace.config.requestTimeout / 2);\n    intervals.push(checkRequestInterval);\n    const CommitEveryNMs = workspace.config.commitStrategy.CommitEveryNMs;\n    if (CommitEveryNMs) {\n        const commitInterval = setInterval(() => {\n            const state = get(workspace.store);\n            for (const sessionHash of Object.keys(state.joinedSessions)) {\n                const latestCommitTime = selectLastCommitTime(state, sessionHash);\n                if (amIScribe(state, sessionHash) &&\n                    Date.now() - latestCommitTime > CommitEveryNMs) {\n                    commitChanges(workspace, sessionHash);\n                }\n            }\n        }, CommitEveryNMs / 10);\n        intervals.push(commitInterval);\n    }\n    return {\n        cancel: () => intervals.forEach((i) => clearInterval(i)),\n    };\n}\n//# sourceMappingURL=tasks.js.map","// Pick and join a session\nexport async function newSession(workspace, fromSnapshot) {\n    let currentContent = workspace.initialContent;\n    if (fromSnapshot) {\n        currentContent = await workspace.client.getSnapshot(fromSnapshot);\n    }\n    else {\n        fromSnapshot = await workspace.client.putSnapshot(workspace.initialContent);\n    }\n    const session = await workspace.client.newSession({\n        snapshotHash: fromSnapshot,\n    });\n    workspace.store.update((state) => {\n        state.joinedSessions[session.sessionHash] = {\n            sessionHash: session.sessionHash,\n            session: session.session,\n            commitHashes: [],\n            currentContent,\n            myFolkIndex: 0,\n            prerequestContent: undefined,\n            requestedChanges: [],\n            uncommittedChanges: {\n                atSessionIndex: 0,\n                authors: {},\n                deltas: [],\n            },\n            folks: {},\n        };\n        state.activeSessionHash = session.sessionHash;\n        return state;\n    });\n    return session.sessionHash;\n}\n//# sourceMappingURL=scribe.js.map","import { readable } from 'svelte/store';\nfunction noop() { }\nexport function unnest(store, ...arr) {\n    const max = arr.length - 1;\n    return readable(null, set => {\n        const l = (i) => p => {\n            const q = arr[i](p);\n            if (!q)\n                set(null);\n            else\n                return i === max ? q.subscribe(set) : subscribe_cleanup(q, l(i + 1));\n        };\n        return subscribe_cleanup(store, l(0));\n    });\n}\nfunction subscribe_cleanup(store, run) {\n    let cleanup = noop;\n    const unsub = store.subscribe(v => {\n        cleanup();\n        cleanup = run(v) || noop;\n    });\n    return () => {\n        cleanup();\n        unsub();\n    };\n}\n//# sourceMappingURL=unnest.js.map","<script>\n  import { connection } from './stores.js';\n  import { createEventDispatcher, getContext } from 'svelte';\n  import { CSSifyHSL, synSessionContext } from '@syn/elements';\n  import { unnest } from '@syn/store';\n\n  const dispatch = createEventDispatcher();\n\n  const { getStore } = getContext('store');\n\n  const store = getStore();\n  $: session = store.activeSession;\n  $: content = unnest(store.activeSession, s => s.content);\n\n  console.log(session);\n\n  function getLoc(tag) {\n    return $content.meta ? ($content.meta[tag] ? $content.meta[tag] : 0) : 0;\n  }\n\n  let editor;\n  $: myTag = $session ? $session.myTag : '';\n  $: editor_content1 = $content.body.slice(0, getLoc(myTag));\n  $: editor_content2 = $content.body.slice(getLoc(myTag));\n\n  function addText(text) {\n    console.log($session, $content.body);\n    const loc = getLoc(myTag);\n    const deltas = [{ type: 'Add', value: [loc, text] }];\n    for (const [tag, tagLoc] of Object.entries($content.meta)) {\n      if (tagLoc >= loc) {\n        deltas.push({\n          type: 'Meta',\n          value: { setLoc: [tag, tagLoc + text.length] },\n        });\n      }\n    }\n    $session.requestChange(deltas);\n  }\n\n  function handleInput(event) {\n    const loc = getLoc(myTag);\n    const key = event.key;\n    if (key.length == 1) {\n      addText(key);\n    } else {\n      switch (key) {\n        case 'ArrowRight':\n          if (loc < $content.body.length) {\n            $session.requestChange([\n              { type: 'Meta', value: { setLoc: [myTag, loc + 1] } },\n            ]);\n          }\n          break;\n        case 'ArrowLeft':\n          if (loc > 0) {\n            $session.requestChange([\n              { type: 'Meta', value: { setLoc: [myTag, loc - 1] } },\n            ]);\n          }\n          break;\n        case 'Enter':\n          addText('\\n');\n          break;\n        case 'Backspace':\n          if (loc > 0) {\n            const deltas = [{ type: 'Delete', value: [loc - 1, loc] }];\n            for (const [tag, tagLoc] of Object.entries($content.meta)) {\n              if (tagLoc >= loc) {\n                deltas.push({\n                  type: 'Meta',\n                  value: { setLoc: [tag, tagLoc - 1] },\n                });\n              }\n            }\n            $session.requestChange(deltas);\n          }\n      }\n    }\n    console.log('input', event.key);\n  }\n  function handleClick(e) {\n    const offset = window.getSelection().focusOffset;\n    let loc = offset > 0 ? offset : 0;\n    if (window.getSelection().focusNode.parentElement == editor.lastChild) {\n      loc += editor_content1.length;\n    }\n    if (loc != getLoc(myTag)) {\n      $session.requestChange([\n        { type: 'Meta', value: { setLoc: [myTag, loc] } },\n      ]);\n    }\n  }\n\n  let cursor;\n  $: {\n    // wait for cursor and connection and color inside connection to exist\n    // before updating the cursor color\n    if (cursor && $connection && $connection.syn && $connection.syn.myColors) {\n      cursor.style['border-color'] = CSSifyHSL(\n        $connection.syn.myColors.primary\n      );\n    }\n  }\n</script>\n\n<editor\n  on:click={handleClick}\n  on:keydown={handleInput}\n  tabindex=\"0\"\n  start=\"0\"\n  bind:this={editor}\n>\n  <span>{editor_content1}</span><span class=\"cursor\" bind:this={cursor} /><span\n    >{editor_content2}</span\n  >\n</editor>\n\n<style>\n  editor {\n    width: auto;\n    min-height: 10em;\n    border: 1px solid black;\n    background-color: hsla(0, 0%, 100%, 0.6);\n    font-family: Arial;\n    display: block;\n    white-space: pre-wrap;\n    margin: 1em 0 0.4em 0;\n    padding: 4px;\n  }\n  .cursor {\n    display: inline;\n    border-left: solid 2px; /* Should be the Folk's main color */\n    margin-right: -2px;\n    z-index: 10;\n    position: relative;\n  }\n</style>\n","<script>\n  import { createEventDispatcher, tick, getContext } from 'svelte'\n  import { unnest } from '@syn/store';\n\n  const dispatch = createEventDispatcher()\n\n  let titleBeingTyped = ''\n\n  const { getStore } = getContext('store');\n\n  const store = getStore();\n  $: session = store.activeSession;\n  $: content = unnest(store.activeSession, s => s.content);\n\n  let editingTitle = false\n  function saveTitle() {\n    if (editingTitle) {\n      // only dispatch a changeReq if the title trying to be saved is different\n      // than the current title\n      if (titleBeingTyped !== $content.title) {\n        let delta = { type: 'Title', value: titleBeingTyped }\n        $session.requestChange([delta])\n      }\n      titleBeingTyped = ''\n      editingTitle = false\n    } else {\n      console.log(\"Can't run saveTitle when it wasn't being edited!\")\n    }\n  }\n\n  let titleEl // variable to bind the title input to when it's created\n  async function beginEditTitle() {\n    titleHover=false\n    titleBeingTyped = $content.title // fill the field with the current title\n    editingTitle = true\n    await tick() // wait for the title input element to be created\n    titleEl.focus()\n  }\n\n  function handleTitleKeypress() {\n\t\tif (event.key == 'Enter') {\n      saveTitle()\n    } else if (event.key == 'Escape') {\n      // don't save new title & discard changes\n      titleBeingTyped = ''\n      // turn off editing\n      editingTitle=false\n    }\n  }\n\n  // keep track of whether the doc is untitled\n  let untitled\n  $: untitled = ($content.title === '')\n\n  let titleHover // whether the title is being hovered\n\n\n</script>\n<style>\n  .title-wrapper {\n    height: 1.6em;\n  }\n\n  .title {\n    /* min-width: 10em;\n    min-height: 1em; */\n    font-weight: bold;\n    display: inline-block;\n    padding: 0.4em;\n    -webkit-padding: 0.4em 0;\n    margin: 0 0 0.5em 0;\n    border-width: 1px;\n    border-color: #00000000;\n    border-style: solid;\n    border-radius: 2px;\n  }\n\n  .title-hover {\n    border-style: dashed;\n    border-color: #aaa;\n  }\n\n  /* input has to be below hover so it overrides */\n  .title-input {\n  border-style: solid;\n  border-color: #ccc;\n  font-weight: bold;\n  margin-bottom: 0;\n  }\n\n  .untitled {\n    color: lightgray;\n  }\n</style>\n\n<div class='title-wrapper'>\n  Title:\n  {#if editingTitle}\n    <input class='title-input' bind:value={titleBeingTyped} on:keydown={handleTitleKeypress} on:blur={saveTitle} bind:this={titleEl}/>\n  {:else}\n    <div class='title' class:title-hover={titleHover} on:mouseenter={()=>{titleHover=true}} on:mouseleave={()=>{titleHover=false}} on:click={beginEditTitle}>\n      <span class:untitled>\n        {#if untitled}\n          Untitled Document\n        {:else}\n          {$content.title}\n        {/if}\n      </span>\n    </div>\n  {/if}\n</div>\n","<script>\n  import { session, connection, scribeStr, nextIndex } from './stores.js'\n</script>\n<style>\nul {\n  margin-bottom: 1rem;\n}\n</style>\n<div>\n  <ul>\n    <li>\n      {#if $connection && $connection.syn}\n        Connected to Dna: {$connection.syn.Dna}\n      {:else}\n        No connection\n      {/if}\n    <li>lastCommitedContentHash: {$session ? $session.contentHashStr : ''}\n    <li>session: {JSON.stringify($session)}\n    <li>nextIndex: {$nextIndex}\n    <li>scribe: {$scribeStr}\n  </ul>\n</div>\n","<script>\n  export let text\n  export let status\n</script>\n<style>\n  .history-entry {\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    padding: .3em;\n    width: auto;\n    height: 2.6em;\n    flex-grow: 0;\n    flex-shrink: 0;\n    flex-basis: auto;\n    white-space: pre-wrap;\n    overflow-y: scroll;\n  }\n  .recorded {\n    background-color: lightyellow;\n  }\n  .committed {\n    background-color: lightgreen;\n  }\n  .requested {\n    background-color: lightcoral;\n  }\n</style>\n<div class='history-entry {status}'>\n  {text}\n</div>\n","<script>\n  import { requestedChanges, recordedChanges, committedChanges } from './stores.js'\n  import { afterUpdate } from 'svelte'\n  import HistoryEntry from './HistoryEntry.svelte'\n  \n  export let changeToTextFn\n\n  // returns a list of historyEntry objects with some text\n  // and a status (for styling)\n  function changesToEntriesList(changes, status) {\n    let entriesList = []\n    for (let i=changes.length-1; i>=0; i--) {\n      const text = changeToTextFn(changes[i])\n      entriesList.push({'text': text, 'status': status})\n    }\n    return entriesList\n  }\n\n  let requestedH\n  let recordedH\n  let committedH\n  let historyEntries = []\n  $: {requestedH = changesToEntriesList($requestedChanges, 'requested')}\n  $: {recordedH = changesToEntriesList($recordedChanges, 'recorded')}\n  $: {committedH = changesToEntriesList($committedChanges, 'committed')}\n  $: {historyEntries = [...requestedH, ...recordedH, ...committedH]}\n\n  // when updating the list, also scroll to the newest historyEntry\n  afterUpdate(async () => {\n\t\tlet entryElem = document.getElementsByClassName('history-entries')[0]\n    if (entryElem.firstChild !== null) {\n      entryElem.firstChild.scrollIntoView(false)\n    }\n\t})\n\n</script>\n<style>\n  .history {\n    width: auto;\n    border: 1px solid hsla(0, 0%, 0%, 0.25);\n    border-radius: 4px;\n    padding: .5em .5em 0;\n    background-color: hsla(0, 0%, 100%, .25);\n  }\n  .history-entries {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    gap: 1em;\n    overflow-x: scroll;\n    padding: .5em 0 1.2em;\n  }\n</style>\n\n<div class='history'>\n  History:\n  <div class='history-entries'>\n    {#each historyEntries as historyEntry}\n      <HistoryEntry status={historyEntry.status} text={historyEntry.text}/>\n    {/each}\n  </div>\n</div>\n","// https://github.com/maxogden/websocket-stream/blob/48dc3ddf943e5ada668c31ccd94e9186f02fafbd/ws-fallback.js\n\nvar ws = null\n\nif (typeof WebSocket !== 'undefined') {\n  ws = WebSocket\n} else if (typeof MozWebSocket !== 'undefined') {\n  ws = MozWebSocket\n} else if (typeof global !== 'undefined') {\n  ws = global.WebSocket || global.MozWebSocket\n} else if (typeof window !== 'undefined') {\n  ws = window.WebSocket || window.MozWebSocket\n} else if (typeof self !== 'undefined') {\n  ws = self.WebSocket || self.MozWebSocket\n}\n\nmodule.exports = ws\n","var TEXT_ENCODING_AVAILABLE = typeof process !== \"undefined\" &&\n    process.env.TEXT_ENCODING !== \"never\" &&\n    typeof TextEncoder !== \"undefined\" &&\n    typeof TextDecoder !== \"undefined\";\nvar STR_SIZE_MAX = 4294967295; // uint32_max\nexport function utf8Count(str) {\n    var strLength = str.length;\n    var byteLength = 0;\n    var pos = 0;\n    while (pos < strLength) {\n        var value = str.charCodeAt(pos++);\n        if ((value & 0xffffff80) === 0) {\n            // 1-byte\n            byteLength++;\n            continue;\n        }\n        else if ((value & 0xfffff800) === 0) {\n            // 2-bytes\n            byteLength += 2;\n        }\n        else {\n            // handle surrogate pair\n            if (value >= 0xd800 && value <= 0xdbff) {\n                // high surrogate\n                if (pos < strLength) {\n                    var extra = str.charCodeAt(pos);\n                    if ((extra & 0xfc00) === 0xdc00) {\n                        ++pos;\n                        value = ((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000;\n                    }\n                }\n            }\n            if ((value & 0xffff0000) === 0) {\n                // 3-byte\n                byteLength += 3;\n            }\n            else {\n                // 4-byte\n                byteLength += 4;\n            }\n        }\n    }\n    return byteLength;\n}\nexport function utf8EncodeJs(str, output, outputOffset) {\n    var strLength = str.length;\n    var offset = outputOffset;\n    var pos = 0;\n    while (pos < strLength) {\n        var value = str.charCodeAt(pos++);\n        if ((value & 0xffffff80) === 0) {\n            // 1-byte\n            output[offset++] = value;\n            continue;\n        }\n        else if ((value & 0xfffff800) === 0) {\n            // 2-bytes\n            output[offset++] = ((value >> 6) & 0x1f) | 0xc0;\n        }\n        else {\n            // handle surrogate pair\n            if (value >= 0xd800 && value <= 0xdbff) {\n                // high surrogate\n                if (pos < strLength) {\n                    var extra = str.charCodeAt(pos);\n                    if ((extra & 0xfc00) === 0xdc00) {\n                        ++pos;\n                        value = ((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000;\n                    }\n                }\n            }\n            if ((value & 0xffff0000) === 0) {\n                // 3-byte\n                output[offset++] = ((value >> 12) & 0x0f) | 0xe0;\n                output[offset++] = ((value >> 6) & 0x3f) | 0x80;\n            }\n            else {\n                // 4-byte\n                output[offset++] = ((value >> 18) & 0x07) | 0xf0;\n                output[offset++] = ((value >> 12) & 0x3f) | 0x80;\n                output[offset++] = ((value >> 6) & 0x3f) | 0x80;\n            }\n        }\n        output[offset++] = (value & 0x3f) | 0x80;\n    }\n}\nvar sharedTextEncoder = TEXT_ENCODING_AVAILABLE ? new TextEncoder() : undefined;\nexport var TEXT_ENCODER_THRESHOLD = !TEXT_ENCODING_AVAILABLE\n    ? STR_SIZE_MAX\n    : typeof process !== \"undefined\" && process.env.TEXT_ENCODING !== \"force\"\n        ? 200\n        : 0;\nfunction utf8EncodeTEencode(str, output, outputOffset) {\n    output.set(sharedTextEncoder.encode(str), outputOffset);\n}\nfunction utf8EncodeTEencodeInto(str, output, outputOffset) {\n    sharedTextEncoder.encodeInto(str, output.subarray(outputOffset));\n}\nexport var utf8EncodeTE = (sharedTextEncoder === null || sharedTextEncoder === void 0 ? void 0 : sharedTextEncoder.encodeInto) ? utf8EncodeTEencodeInto : utf8EncodeTEencode;\nvar CHUNK_SIZE = 4096;\nexport function utf8DecodeJs(bytes, inputOffset, byteLength) {\n    var offset = inputOffset;\n    var end = offset + byteLength;\n    var units = [];\n    var result = \"\";\n    while (offset < end) {\n        var byte1 = bytes[offset++];\n        if ((byte1 & 0x80) === 0) {\n            // 1 byte\n            units.push(byte1);\n        }\n        else if ((byte1 & 0xe0) === 0xc0) {\n            // 2 bytes\n            var byte2 = bytes[offset++] & 0x3f;\n            units.push(((byte1 & 0x1f) << 6) | byte2);\n        }\n        else if ((byte1 & 0xf0) === 0xe0) {\n            // 3 bytes\n            var byte2 = bytes[offset++] & 0x3f;\n            var byte3 = bytes[offset++] & 0x3f;\n            units.push(((byte1 & 0x1f) << 12) | (byte2 << 6) | byte3);\n        }\n        else if ((byte1 & 0xf8) === 0xf0) {\n            // 4 bytes\n            var byte2 = bytes[offset++] & 0x3f;\n            var byte3 = bytes[offset++] & 0x3f;\n            var byte4 = bytes[offset++] & 0x3f;\n            var unit = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0c) | (byte3 << 0x06) | byte4;\n            if (unit > 0xffff) {\n                unit -= 0x10000;\n                units.push(((unit >>> 10) & 0x3ff) | 0xd800);\n                unit = 0xdc00 | (unit & 0x3ff);\n            }\n            units.push(unit);\n        }\n        else {\n            units.push(byte1);\n        }\n        if (units.length >= CHUNK_SIZE) {\n            result += String.fromCharCode.apply(String, units);\n            units.length = 0;\n        }\n    }\n    if (units.length > 0) {\n        result += String.fromCharCode.apply(String, units);\n    }\n    return result;\n}\nvar sharedTextDecoder = TEXT_ENCODING_AVAILABLE ? new TextDecoder() : null;\nexport var TEXT_DECODER_THRESHOLD = !TEXT_ENCODING_AVAILABLE\n    ? STR_SIZE_MAX\n    : typeof process !== \"undefined\" && process.env.TEXT_DECODER !== \"force\"\n        ? 200\n        : 0;\nexport function utf8DecodeTD(bytes, inputOffset, byteLength) {\n    var stringBytes = bytes.subarray(inputOffset, inputOffset + byteLength);\n    return sharedTextDecoder.decode(stringBytes);\n}\n//# sourceMappingURL=utf8.mjs.map","/**\n * ExtData is used to handle Extension Types that are not registered to ExtensionCodec.\n */\nvar ExtData = /** @class */ (function () {\n    function ExtData(type, data) {\n        this.type = type;\n        this.data = data;\n    }\n    return ExtData;\n}());\nexport { ExtData };\n//# sourceMappingURL=ExtData.mjs.map","// DataView extension to handle int64 / uint64,\n// where the actual range is 53-bits integer (a.k.a. safe integer)\nexport function setUint64(view, offset, value) {\n    var high = value / 4294967296;\n    var low = value; // high bits are truncated by DataView\n    view.setUint32(offset, high);\n    view.setUint32(offset + 4, low);\n}\nexport function setInt64(view, offset, value) {\n    var high = Math.floor(value / 4294967296);\n    var low = value; // high bits are truncated by DataView\n    view.setUint32(offset, high);\n    view.setUint32(offset + 4, low);\n}\nexport function getInt64(view, offset) {\n    var high = view.getInt32(offset);\n    var low = view.getUint32(offset + 4);\n    return high * 4294967296 + low;\n}\nexport function getUint64(view, offset) {\n    var high = view.getUint32(offset);\n    var low = view.getUint32(offset + 4);\n    return high * 4294967296 + low;\n}\n//# sourceMappingURL=int.mjs.map","// https://github.com/msgpack/msgpack/blob/master/spec.md#timestamp-extension-type\nimport { getInt64, setInt64 } from \"./utils/int.mjs\";\nexport var EXT_TIMESTAMP = -1;\nvar TIMESTAMP32_MAX_SEC = 0x100000000 - 1; // 32-bit unsigned int\nvar TIMESTAMP64_MAX_SEC = 0x400000000 - 1; // 34-bit unsigned int\nexport function encodeTimeSpecToTimestamp(_a) {\n    var sec = _a.sec, nsec = _a.nsec;\n    if (sec >= 0 && nsec >= 0 && sec <= TIMESTAMP64_MAX_SEC) {\n        // Here sec >= 0 && nsec >= 0\n        if (nsec === 0 && sec <= TIMESTAMP32_MAX_SEC) {\n            // timestamp 32 = { sec32 (unsigned) }\n            var rv = new Uint8Array(4);\n            var view = new DataView(rv.buffer);\n            view.setUint32(0, sec);\n            return rv;\n        }\n        else {\n            // timestamp 64 = { nsec30 (unsigned), sec34 (unsigned) }\n            var secHigh = sec / 0x100000000;\n            var secLow = sec & 0xffffffff;\n            var rv = new Uint8Array(8);\n            var view = new DataView(rv.buffer);\n            // nsec30 | secHigh2\n            view.setUint32(0, (nsec << 2) | (secHigh & 0x3));\n            // secLow32\n            view.setUint32(4, secLow);\n            return rv;\n        }\n    }\n    else {\n        // timestamp 96 = { nsec32 (unsigned), sec64 (signed) }\n        var rv = new Uint8Array(12);\n        var view = new DataView(rv.buffer);\n        view.setUint32(0, nsec);\n        setInt64(view, 4, sec);\n        return rv;\n    }\n}\nexport function encodeDateToTimeSpec(date) {\n    var msec = date.getTime();\n    var sec = Math.floor(msec / 1e3);\n    var nsec = (msec - sec * 1e3) * 1e6;\n    // Normalizes { sec, nsec } to ensure nsec is unsigned.\n    var nsecInSec = Math.floor(nsec / 1e9);\n    return {\n        sec: sec + nsecInSec,\n        nsec: nsec - nsecInSec * 1e9,\n    };\n}\nexport function encodeTimestampExtension(object) {\n    if (object instanceof Date) {\n        var timeSpec = encodeDateToTimeSpec(object);\n        return encodeTimeSpecToTimestamp(timeSpec);\n    }\n    else {\n        return null;\n    }\n}\nexport function decodeTimestampToTimeSpec(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n    // data may be 32, 64, or 96 bits\n    switch (data.byteLength) {\n        case 4: {\n            // timestamp 32 = { sec32 }\n            var sec = view.getUint32(0);\n            var nsec = 0;\n            return { sec: sec, nsec: nsec };\n        }\n        case 8: {\n            // timestamp 64 = { nsec30, sec34 }\n            var nsec30AndSecHigh2 = view.getUint32(0);\n            var secLow32 = view.getUint32(4);\n            var sec = (nsec30AndSecHigh2 & 0x3) * 0x100000000 + secLow32;\n            var nsec = nsec30AndSecHigh2 >>> 2;\n            return { sec: sec, nsec: nsec };\n        }\n        case 12: {\n            // timestamp 96 = { nsec32 (unsigned), sec64 (signed) }\n            var sec = getInt64(view, 4);\n            var nsec = view.getUint32(0);\n            return { sec: sec, nsec: nsec };\n        }\n        default:\n            throw new Error(\"Unrecognized data size for timestamp: \" + data.length);\n    }\n}\nexport function decodeTimestampExtension(data) {\n    var timeSpec = decodeTimestampToTimeSpec(data);\n    return new Date(timeSpec.sec * 1e3 + timeSpec.nsec / 1e6);\n}\nexport var timestampExtension = {\n    type: EXT_TIMESTAMP,\n    encode: encodeTimestampExtension,\n    decode: decodeTimestampExtension,\n};\n//# sourceMappingURL=timestamp.mjs.map","// ExtensionCodec to handle MessagePack extensions\nimport { ExtData } from \"./ExtData.mjs\";\nimport { timestampExtension } from \"./timestamp.mjs\";\nvar ExtensionCodec = /** @class */ (function () {\n    function ExtensionCodec() {\n        // built-in extensions\n        this.builtInEncoders = [];\n        this.builtInDecoders = [];\n        // custom extensions\n        this.encoders = [];\n        this.decoders = [];\n        this.register(timestampExtension);\n    }\n    ExtensionCodec.prototype.register = function (_a) {\n        var type = _a.type, encode = _a.encode, decode = _a.decode;\n        if (type >= 0) {\n            // custom extensions\n            this.encoders[type] = encode;\n            this.decoders[type] = decode;\n        }\n        else {\n            // built-in extensions\n            var index = 1 + type;\n            this.builtInEncoders[index] = encode;\n            this.builtInDecoders[index] = decode;\n        }\n    };\n    ExtensionCodec.prototype.tryToEncode = function (object, context) {\n        // built-in extensions\n        for (var i = 0; i < this.builtInEncoders.length; i++) {\n            var encodeExt = this.builtInEncoders[i];\n            if (encodeExt != null) {\n                var data = encodeExt(object, context);\n                if (data != null) {\n                    var type = -1 - i;\n                    return new ExtData(type, data);\n                }\n            }\n        }\n        // custom extensions\n        for (var i = 0; i < this.encoders.length; i++) {\n            var encodeExt = this.encoders[i];\n            if (encodeExt != null) {\n                var data = encodeExt(object, context);\n                if (data != null) {\n                    var type = i;\n                    return new ExtData(type, data);\n                }\n            }\n        }\n        if (object instanceof ExtData) {\n            // to keep ExtData as is\n            return object;\n        }\n        return null;\n    };\n    ExtensionCodec.prototype.decode = function (data, type, context) {\n        var decodeExt = type < 0 ? this.builtInDecoders[-1 - type] : this.decoders[type];\n        if (decodeExt) {\n            return decodeExt(data, type, context);\n        }\n        else {\n            // decode() does not fail, returns ExtData instead.\n            return new ExtData(type, data);\n        }\n    };\n    ExtensionCodec.defaultCodec = new ExtensionCodec();\n    return ExtensionCodec;\n}());\nexport { ExtensionCodec };\n//# sourceMappingURL=ExtensionCodec.mjs.map","export function ensureUint8Array(buffer) {\n    if (buffer instanceof Uint8Array) {\n        return buffer;\n    }\n    else if (ArrayBuffer.isView(buffer)) {\n        return new Uint8Array(buffer.buffer, buffer.byteOffset, buffer.byteLength);\n    }\n    else if (buffer instanceof ArrayBuffer) {\n        return new Uint8Array(buffer);\n    }\n    else {\n        // ArrayLike<number>\n        return Uint8Array.from(buffer);\n    }\n}\nexport function createDataView(buffer) {\n    if (buffer instanceof ArrayBuffer) {\n        return new DataView(buffer);\n    }\n    var bufferView = ensureUint8Array(buffer);\n    return new DataView(bufferView.buffer, bufferView.byteOffset, bufferView.byteLength);\n}\n//# sourceMappingURL=typedArrays.mjs.map","import { utf8EncodeJs, utf8Count, TEXT_ENCODER_THRESHOLD, utf8EncodeTE } from \"./utils/utf8.mjs\";\nimport { ExtensionCodec } from \"./ExtensionCodec.mjs\";\nimport { setInt64, setUint64 } from \"./utils/int.mjs\";\nimport { ensureUint8Array } from \"./utils/typedArrays.mjs\";\nexport var DEFAULT_MAX_DEPTH = 100;\nexport var DEFAULT_INITIAL_BUFFER_SIZE = 2048;\nvar Encoder = /** @class */ (function () {\n    function Encoder(extensionCodec, context, maxDepth, initialBufferSize, sortKeys, forceFloat32, ignoreUndefined, forceIntegerToFloat) {\n        if (extensionCodec === void 0) { extensionCodec = ExtensionCodec.defaultCodec; }\n        if (context === void 0) { context = undefined; }\n        if (maxDepth === void 0) { maxDepth = DEFAULT_MAX_DEPTH; }\n        if (initialBufferSize === void 0) { initialBufferSize = DEFAULT_INITIAL_BUFFER_SIZE; }\n        if (sortKeys === void 0) { sortKeys = false; }\n        if (forceFloat32 === void 0) { forceFloat32 = false; }\n        if (ignoreUndefined === void 0) { ignoreUndefined = false; }\n        if (forceIntegerToFloat === void 0) { forceIntegerToFloat = false; }\n        this.extensionCodec = extensionCodec;\n        this.context = context;\n        this.maxDepth = maxDepth;\n        this.initialBufferSize = initialBufferSize;\n        this.sortKeys = sortKeys;\n        this.forceFloat32 = forceFloat32;\n        this.ignoreUndefined = ignoreUndefined;\n        this.forceIntegerToFloat = forceIntegerToFloat;\n        this.pos = 0;\n        this.view = new DataView(new ArrayBuffer(this.initialBufferSize));\n        this.bytes = new Uint8Array(this.view.buffer);\n    }\n    Encoder.prototype.getUint8Array = function () {\n        return this.bytes.subarray(0, this.pos);\n    };\n    Encoder.prototype.reinitializeState = function () {\n        this.pos = 0;\n    };\n    Encoder.prototype.encode = function (object) {\n        this.reinitializeState();\n        this.doEncode(object, 1);\n        return this.getUint8Array();\n    };\n    Encoder.prototype.doEncode = function (object, depth) {\n        if (depth > this.maxDepth) {\n            throw new Error(\"Too deep objects in depth \" + depth);\n        }\n        if (object == null) {\n            this.encodeNil();\n        }\n        else if (typeof object === \"boolean\") {\n            this.encodeBoolean(object);\n        }\n        else if (typeof object === \"number\") {\n            this.encodeNumber(object);\n        }\n        else if (typeof object === \"string\") {\n            this.encodeString(object);\n        }\n        else {\n            this.encodeObject(object, depth);\n        }\n    };\n    Encoder.prototype.ensureBufferSizeToWrite = function (sizeToWrite) {\n        var requiredSize = this.pos + sizeToWrite;\n        if (this.view.byteLength < requiredSize) {\n            this.resizeBuffer(requiredSize * 2);\n        }\n    };\n    Encoder.prototype.resizeBuffer = function (newSize) {\n        var newBuffer = new ArrayBuffer(newSize);\n        var newBytes = new Uint8Array(newBuffer);\n        var newView = new DataView(newBuffer);\n        newBytes.set(this.bytes);\n        this.view = newView;\n        this.bytes = newBytes;\n    };\n    Encoder.prototype.encodeNil = function () {\n        this.writeU8(0xc0);\n    };\n    Encoder.prototype.encodeBoolean = function (object) {\n        if (object === false) {\n            this.writeU8(0xc2);\n        }\n        else {\n            this.writeU8(0xc3);\n        }\n    };\n    Encoder.prototype.encodeNumber = function (object) {\n        if (Number.isSafeInteger(object) && !this.forceIntegerToFloat) {\n            if (object >= 0) {\n                if (object < 0x80) {\n                    // positive fixint\n                    this.writeU8(object);\n                }\n                else if (object < 0x100) {\n                    // uint 8\n                    this.writeU8(0xcc);\n                    this.writeU8(object);\n                }\n                else if (object < 0x10000) {\n                    // uint 16\n                    this.writeU8(0xcd);\n                    this.writeU16(object);\n                }\n                else if (object < 0x100000000) {\n                    // uint 32\n                    this.writeU8(0xce);\n                    this.writeU32(object);\n                }\n                else {\n                    // uint 64\n                    this.writeU8(0xcf);\n                    this.writeU64(object);\n                }\n            }\n            else {\n                if (object >= -0x20) {\n                    // nagative fixint\n                    this.writeU8(0xe0 | (object + 0x20));\n                }\n                else if (object >= -0x80) {\n                    // int 8\n                    this.writeU8(0xd0);\n                    this.writeI8(object);\n                }\n                else if (object >= -0x8000) {\n                    // int 16\n                    this.writeU8(0xd1);\n                    this.writeI16(object);\n                }\n                else if (object >= -0x80000000) {\n                    // int 32\n                    this.writeU8(0xd2);\n                    this.writeI32(object);\n                }\n                else {\n                    // int 64\n                    this.writeU8(0xd3);\n                    this.writeI64(object);\n                }\n            }\n        }\n        else {\n            // non-integer numbers\n            if (this.forceFloat32) {\n                // float 32\n                this.writeU8(0xca);\n                this.writeF32(object);\n            }\n            else {\n                // float 64\n                this.writeU8(0xcb);\n                this.writeF64(object);\n            }\n        }\n    };\n    Encoder.prototype.writeStringHeader = function (byteLength) {\n        if (byteLength < 32) {\n            // fixstr\n            this.writeU8(0xa0 + byteLength);\n        }\n        else if (byteLength < 0x100) {\n            // str 8\n            this.writeU8(0xd9);\n            this.writeU8(byteLength);\n        }\n        else if (byteLength < 0x10000) {\n            // str 16\n            this.writeU8(0xda);\n            this.writeU16(byteLength);\n        }\n        else if (byteLength < 0x100000000) {\n            // str 32\n            this.writeU8(0xdb);\n            this.writeU32(byteLength);\n        }\n        else {\n            throw new Error(\"Too long string: \" + byteLength + \" bytes in UTF-8\");\n        }\n    };\n    Encoder.prototype.encodeString = function (object) {\n        var maxHeaderSize = 1 + 4;\n        var strLength = object.length;\n        if (strLength > TEXT_ENCODER_THRESHOLD) {\n            var byteLength = utf8Count(object);\n            this.ensureBufferSizeToWrite(maxHeaderSize + byteLength);\n            this.writeStringHeader(byteLength);\n            utf8EncodeTE(object, this.bytes, this.pos);\n            this.pos += byteLength;\n        }\n        else {\n            var byteLength = utf8Count(object);\n            this.ensureBufferSizeToWrite(maxHeaderSize + byteLength);\n            this.writeStringHeader(byteLength);\n            utf8EncodeJs(object, this.bytes, this.pos);\n            this.pos += byteLength;\n        }\n    };\n    Encoder.prototype.encodeObject = function (object, depth) {\n        // try to encode objects with custom codec first of non-primitives\n        var ext = this.extensionCodec.tryToEncode(object, this.context);\n        if (ext != null) {\n            this.encodeExtension(ext);\n        }\n        else if (Array.isArray(object)) {\n            this.encodeArray(object, depth);\n        }\n        else if (ArrayBuffer.isView(object)) {\n            this.encodeBinary(object);\n        }\n        else if (typeof object === \"object\") {\n            this.encodeMap(object, depth);\n        }\n        else {\n            // symbol, function and other special object come here unless extensionCodec handles them.\n            throw new Error(\"Unrecognized object: \" + Object.prototype.toString.apply(object));\n        }\n    };\n    Encoder.prototype.encodeBinary = function (object) {\n        var size = object.byteLength;\n        if (size < 0x100) {\n            // bin 8\n            this.writeU8(0xc4);\n            this.writeU8(size);\n        }\n        else if (size < 0x10000) {\n            // bin 16\n            this.writeU8(0xc5);\n            this.writeU16(size);\n        }\n        else if (size < 0x100000000) {\n            // bin 32\n            this.writeU8(0xc6);\n            this.writeU32(size);\n        }\n        else {\n            throw new Error(\"Too large binary: \" + size);\n        }\n        var bytes = ensureUint8Array(object);\n        this.writeU8a(bytes);\n    };\n    Encoder.prototype.encodeArray = function (object, depth) {\n        var size = object.length;\n        if (size < 16) {\n            // fixarray\n            this.writeU8(0x90 + size);\n        }\n        else if (size < 0x10000) {\n            // array 16\n            this.writeU8(0xdc);\n            this.writeU16(size);\n        }\n        else if (size < 0x100000000) {\n            // array 32\n            this.writeU8(0xdd);\n            this.writeU32(size);\n        }\n        else {\n            throw new Error(\"Too large array: \" + size);\n        }\n        for (var _i = 0, object_1 = object; _i < object_1.length; _i++) {\n            var item = object_1[_i];\n            this.doEncode(item, depth + 1);\n        }\n    };\n    Encoder.prototype.countWithoutUndefined = function (object, keys) {\n        var count = 0;\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            if (object[key] !== undefined) {\n                count++;\n            }\n        }\n        return count;\n    };\n    Encoder.prototype.encodeMap = function (object, depth) {\n        var keys = Object.keys(object);\n        if (this.sortKeys) {\n            keys.sort();\n        }\n        var size = this.ignoreUndefined ? this.countWithoutUndefined(object, keys) : keys.length;\n        if (size < 16) {\n            // fixmap\n            this.writeU8(0x80 + size);\n        }\n        else if (size < 0x10000) {\n            // map 16\n            this.writeU8(0xde);\n            this.writeU16(size);\n        }\n        else if (size < 0x100000000) {\n            // map 32\n            this.writeU8(0xdf);\n            this.writeU32(size);\n        }\n        else {\n            throw new Error(\"Too large map object: \" + size);\n        }\n        for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n            var key = keys_2[_i];\n            var value = object[key];\n            if (!(this.ignoreUndefined && value === undefined)) {\n                this.encodeString(key);\n                this.doEncode(value, depth + 1);\n            }\n        }\n    };\n    Encoder.prototype.encodeExtension = function (ext) {\n        var size = ext.data.length;\n        if (size === 1) {\n            // fixext 1\n            this.writeU8(0xd4);\n        }\n        else if (size === 2) {\n            // fixext 2\n            this.writeU8(0xd5);\n        }\n        else if (size === 4) {\n            // fixext 4\n            this.writeU8(0xd6);\n        }\n        else if (size === 8) {\n            // fixext 8\n            this.writeU8(0xd7);\n        }\n        else if (size === 16) {\n            // fixext 16\n            this.writeU8(0xd8);\n        }\n        else if (size < 0x100) {\n            // ext 8\n            this.writeU8(0xc7);\n            this.writeU8(size);\n        }\n        else if (size < 0x10000) {\n            // ext 16\n            this.writeU8(0xc8);\n            this.writeU16(size);\n        }\n        else if (size < 0x100000000) {\n            // ext 32\n            this.writeU8(0xc9);\n            this.writeU32(size);\n        }\n        else {\n            throw new Error(\"Too large extension object: \" + size);\n        }\n        this.writeI8(ext.type);\n        this.writeU8a(ext.data);\n    };\n    Encoder.prototype.writeU8 = function (value) {\n        this.ensureBufferSizeToWrite(1);\n        this.view.setUint8(this.pos, value);\n        this.pos++;\n    };\n    Encoder.prototype.writeU8a = function (values) {\n        var size = values.length;\n        this.ensureBufferSizeToWrite(size);\n        this.bytes.set(values, this.pos);\n        this.pos += size;\n    };\n    Encoder.prototype.writeI8 = function (value) {\n        this.ensureBufferSizeToWrite(1);\n        this.view.setInt8(this.pos, value);\n        this.pos++;\n    };\n    Encoder.prototype.writeU16 = function (value) {\n        this.ensureBufferSizeToWrite(2);\n        this.view.setUint16(this.pos, value);\n        this.pos += 2;\n    };\n    Encoder.prototype.writeI16 = function (value) {\n        this.ensureBufferSizeToWrite(2);\n        this.view.setInt16(this.pos, value);\n        this.pos += 2;\n    };\n    Encoder.prototype.writeU32 = function (value) {\n        this.ensureBufferSizeToWrite(4);\n        this.view.setUint32(this.pos, value);\n        this.pos += 4;\n    };\n    Encoder.prototype.writeI32 = function (value) {\n        this.ensureBufferSizeToWrite(4);\n        this.view.setInt32(this.pos, value);\n        this.pos += 4;\n    };\n    Encoder.prototype.writeF32 = function (value) {\n        this.ensureBufferSizeToWrite(4);\n        this.view.setFloat32(this.pos, value);\n        this.pos += 4;\n    };\n    Encoder.prototype.writeF64 = function (value) {\n        this.ensureBufferSizeToWrite(8);\n        this.view.setFloat64(this.pos, value);\n        this.pos += 8;\n    };\n    Encoder.prototype.writeU64 = function (value) {\n        this.ensureBufferSizeToWrite(8);\n        setUint64(this.view, this.pos, value);\n        this.pos += 8;\n    };\n    Encoder.prototype.writeI64 = function (value) {\n        this.ensureBufferSizeToWrite(8);\n        setInt64(this.view, this.pos, value);\n        this.pos += 8;\n    };\n    return Encoder;\n}());\nexport { Encoder };\n//# sourceMappingURL=Encoder.mjs.map","import { Encoder } from \"./Encoder.mjs\";\nvar defaultEncodeOptions = {};\n/**\n * It encodes `value` in the MessagePack format and\n * returns a byte buffer.\n *\n * The returned buffer is a slice of a larger `ArrayBuffer`, so you have to use its `#byteOffset` and `#byteLength` in order to convert it to another typed arrays including NodeJS `Buffer`.\n */\nexport function encode(value, options) {\n    if (options === void 0) { options = defaultEncodeOptions; }\n    var encoder = new Encoder(options.extensionCodec, options.context, options.maxDepth, options.initialBufferSize, options.sortKeys, options.forceFloat32, options.ignoreUndefined, options.forceIntegerToFloat);\n    return encoder.encode(value);\n}\n//# sourceMappingURL=encode.mjs.map","export function prettyByte(byte) {\n    return (byte < 0 ? \"-\" : \"\") + \"0x\" + Math.abs(byte).toString(16).padStart(2, \"0\");\n}\n//# sourceMappingURL=prettyByte.mjs.map","import { utf8DecodeJs } from \"./utils/utf8.mjs\";\nvar DEFAULT_MAX_KEY_LENGTH = 16;\nvar DEFAULT_MAX_LENGTH_PER_KEY = 16;\nvar CachedKeyDecoder = /** @class */ (function () {\n    function CachedKeyDecoder(maxKeyLength, maxLengthPerKey) {\n        if (maxKeyLength === void 0) { maxKeyLength = DEFAULT_MAX_KEY_LENGTH; }\n        if (maxLengthPerKey === void 0) { maxLengthPerKey = DEFAULT_MAX_LENGTH_PER_KEY; }\n        this.maxKeyLength = maxKeyLength;\n        this.maxLengthPerKey = maxLengthPerKey;\n        this.hit = 0;\n        this.miss = 0;\n        // avoid `new Array(N)` to create a non-sparse array for performance.\n        this.caches = [];\n        for (var i = 0; i < this.maxKeyLength; i++) {\n            this.caches.push([]);\n        }\n    }\n    CachedKeyDecoder.prototype.canBeCached = function (byteLength) {\n        return byteLength > 0 && byteLength <= this.maxKeyLength;\n    };\n    CachedKeyDecoder.prototype.get = function (bytes, inputOffset, byteLength) {\n        var records = this.caches[byteLength - 1];\n        FIND_CHUNK: for (var _i = 0, records_1 = records; _i < records_1.length; _i++) {\n            var record = records_1[_i];\n            var recordBytes = record.bytes;\n            for (var j = 0; j < byteLength; j++) {\n                if (recordBytes[j] !== bytes[inputOffset + j]) {\n                    continue FIND_CHUNK;\n                }\n            }\n            return record.value;\n        }\n        return null;\n    };\n    CachedKeyDecoder.prototype.store = function (bytes, value) {\n        var records = this.caches[bytes.length - 1];\n        var record = { bytes: bytes, value: value };\n        if (records.length >= this.maxLengthPerKey) {\n            // `records` are full!\n            // Set `record` to a randomized position.\n            records[(Math.random() * records.length) | 0] = record;\n        }\n        else {\n            records.push(record);\n        }\n    };\n    CachedKeyDecoder.prototype.decode = function (bytes, inputOffset, byteLength) {\n        var cachedValue = this.get(bytes, inputOffset, byteLength);\n        if (cachedValue != null) {\n            this.hit++;\n            return cachedValue;\n        }\n        this.miss++;\n        var value = utf8DecodeJs(bytes, inputOffset, byteLength);\n        // Ensure to copy a slice of bytes because the byte may be NodeJS Buffer and Buffer#slice() returns a reference to its internal ArrayBuffer.\n        var slicedCopyOfBytes = Uint8Array.prototype.slice.call(bytes, inputOffset, inputOffset + byteLength);\n        this.store(slicedCopyOfBytes, value);\n        return value;\n    };\n    return CachedKeyDecoder;\n}());\nexport { CachedKeyDecoder };\n//# sourceMappingURL=CachedKeyDecoder.mjs.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __await = (this && this.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\nvar __asyncGenerator = (this && this.__asyncGenerator) || function (thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n};\nimport { prettyByte } from \"./utils/prettyByte.mjs\";\nimport { ExtensionCodec } from \"./ExtensionCodec.mjs\";\nimport { getInt64, getUint64 } from \"./utils/int.mjs\";\nimport { utf8DecodeJs, TEXT_DECODER_THRESHOLD, utf8DecodeTD } from \"./utils/utf8.mjs\";\nimport { createDataView, ensureUint8Array } from \"./utils/typedArrays.mjs\";\nimport { CachedKeyDecoder } from \"./CachedKeyDecoder.mjs\";\nvar isValidMapKeyType = function (key) {\n    var keyType = typeof key;\n    return keyType === \"string\" || keyType === \"number\";\n};\nvar HEAD_BYTE_REQUIRED = -1;\nvar EMPTY_VIEW = new DataView(new ArrayBuffer(0));\nvar EMPTY_BYTES = new Uint8Array(EMPTY_VIEW.buffer);\n// IE11: Hack to support IE11.\n// IE11: Drop this hack and just use RangeError when IE11 is obsolete.\nexport var DataViewIndexOutOfBoundsError = (function () {\n    try {\n        // IE11: The spec says it should throw RangeError,\n        // IE11: but in IE11 it throws TypeError.\n        EMPTY_VIEW.getInt8(0);\n    }\n    catch (e) {\n        return e.constructor;\n    }\n    throw new Error(\"never reached\");\n})();\nvar MORE_DATA = new DataViewIndexOutOfBoundsError(\"Insufficient data\");\nvar DEFAULT_MAX_LENGTH = 4294967295; // uint32_max\nvar sharedCachedKeyDecoder = new CachedKeyDecoder();\nvar Decoder = /** @class */ (function () {\n    function Decoder(extensionCodec, context, maxStrLength, maxBinLength, maxArrayLength, maxMapLength, maxExtLength, keyDecoder) {\n        if (extensionCodec === void 0) { extensionCodec = ExtensionCodec.defaultCodec; }\n        if (context === void 0) { context = undefined; }\n        if (maxStrLength === void 0) { maxStrLength = DEFAULT_MAX_LENGTH; }\n        if (maxBinLength === void 0) { maxBinLength = DEFAULT_MAX_LENGTH; }\n        if (maxArrayLength === void 0) { maxArrayLength = DEFAULT_MAX_LENGTH; }\n        if (maxMapLength === void 0) { maxMapLength = DEFAULT_MAX_LENGTH; }\n        if (maxExtLength === void 0) { maxExtLength = DEFAULT_MAX_LENGTH; }\n        if (keyDecoder === void 0) { keyDecoder = sharedCachedKeyDecoder; }\n        this.extensionCodec = extensionCodec;\n        this.context = context;\n        this.maxStrLength = maxStrLength;\n        this.maxBinLength = maxBinLength;\n        this.maxArrayLength = maxArrayLength;\n        this.maxMapLength = maxMapLength;\n        this.maxExtLength = maxExtLength;\n        this.keyDecoder = keyDecoder;\n        this.totalPos = 0;\n        this.pos = 0;\n        this.view = EMPTY_VIEW;\n        this.bytes = EMPTY_BYTES;\n        this.headByte = HEAD_BYTE_REQUIRED;\n        this.stack = [];\n    }\n    Decoder.prototype.reinitializeState = function () {\n        this.totalPos = 0;\n        this.headByte = HEAD_BYTE_REQUIRED;\n    };\n    Decoder.prototype.setBuffer = function (buffer) {\n        this.bytes = ensureUint8Array(buffer);\n        this.view = createDataView(this.bytes);\n        this.pos = 0;\n    };\n    Decoder.prototype.appendBuffer = function (buffer) {\n        if (this.headByte === HEAD_BYTE_REQUIRED && !this.hasRemaining()) {\n            this.setBuffer(buffer);\n        }\n        else {\n            // retried because data is insufficient\n            var remainingData = this.bytes.subarray(this.pos);\n            var newData = ensureUint8Array(buffer);\n            var concated = new Uint8Array(remainingData.length + newData.length);\n            concated.set(remainingData);\n            concated.set(newData, remainingData.length);\n            this.setBuffer(concated);\n        }\n    };\n    Decoder.prototype.hasRemaining = function (size) {\n        if (size === void 0) { size = 1; }\n        return this.view.byteLength - this.pos >= size;\n    };\n    Decoder.prototype.createExtraByteError = function (posToShow) {\n        var _a = this, view = _a.view, pos = _a.pos;\n        return new RangeError(\"Extra \" + (view.byteLength - pos) + \" of \" + view.byteLength + \" byte(s) found at buffer[\" + posToShow + \"]\");\n    };\n    Decoder.prototype.decode = function (buffer) {\n        this.reinitializeState();\n        this.setBuffer(buffer);\n        var object = this.doDecodeSync();\n        if (this.hasRemaining()) {\n            throw this.createExtraByteError(this.pos);\n        }\n        return object;\n    };\n    Decoder.prototype.decodeMulti = function (buffer) {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    this.reinitializeState();\n                    this.setBuffer(buffer);\n                    _a.label = 1;\n                case 1:\n                    if (!this.hasRemaining()) return [3 /*break*/, 3];\n                    return [4 /*yield*/, this.doDecodeSync()];\n                case 2:\n                    _a.sent();\n                    return [3 /*break*/, 1];\n                case 3: return [2 /*return*/];\n            }\n        });\n    };\n    Decoder.prototype.decodeAsync = function (stream) {\n        var stream_1, stream_1_1;\n        var e_1, _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var decoded, object, buffer, e_1_1, _b, headByte, pos, totalPos;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        decoded = false;\n                        _c.label = 1;\n                    case 1:\n                        _c.trys.push([1, 6, 7, 12]);\n                        stream_1 = __asyncValues(stream);\n                        _c.label = 2;\n                    case 2: return [4 /*yield*/, stream_1.next()];\n                    case 3:\n                        if (!(stream_1_1 = _c.sent(), !stream_1_1.done)) return [3 /*break*/, 5];\n                        buffer = stream_1_1.value;\n                        if (decoded) {\n                            throw this.createExtraByteError(this.totalPos);\n                        }\n                        this.appendBuffer(buffer);\n                        try {\n                            object = this.doDecodeSync();\n                            decoded = true;\n                        }\n                        catch (e) {\n                            if (!(e instanceof DataViewIndexOutOfBoundsError)) {\n                                throw e; // rethrow\n                            }\n                            // fallthrough\n                        }\n                        this.totalPos += this.pos;\n                        _c.label = 4;\n                    case 4: return [3 /*break*/, 2];\n                    case 5: return [3 /*break*/, 12];\n                    case 6:\n                        e_1_1 = _c.sent();\n                        e_1 = { error: e_1_1 };\n                        return [3 /*break*/, 12];\n                    case 7:\n                        _c.trys.push([7, , 10, 11]);\n                        if (!(stream_1_1 && !stream_1_1.done && (_a = stream_1.return))) return [3 /*break*/, 9];\n                        return [4 /*yield*/, _a.call(stream_1)];\n                    case 8:\n                        _c.sent();\n                        _c.label = 9;\n                    case 9: return [3 /*break*/, 11];\n                    case 10:\n                        if (e_1) throw e_1.error;\n                        return [7 /*endfinally*/];\n                    case 11: return [7 /*endfinally*/];\n                    case 12:\n                        if (decoded) {\n                            if (this.hasRemaining()) {\n                                throw this.createExtraByteError(this.totalPos);\n                            }\n                            return [2 /*return*/, object];\n                        }\n                        _b = this, headByte = _b.headByte, pos = _b.pos, totalPos = _b.totalPos;\n                        throw new RangeError(\"Insufficient data in parsing \" + prettyByte(headByte) + \" at \" + totalPos + \" (\" + pos + \" in the current buffer)\");\n                }\n            });\n        });\n    };\n    Decoder.prototype.decodeArrayStream = function (stream) {\n        return this.decodeMultiAsync(stream, true);\n    };\n    Decoder.prototype.decodeStream = function (stream) {\n        return this.decodeMultiAsync(stream, false);\n    };\n    Decoder.prototype.decodeMultiAsync = function (stream, isArray) {\n        return __asyncGenerator(this, arguments, function decodeMultiAsync_1() {\n            var isArrayHeaderRequired, arrayItemsLeft, stream_2, stream_2_1, buffer, e_2, e_3_1;\n            var e_3, _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        isArrayHeaderRequired = isArray;\n                        arrayItemsLeft = -1;\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 13, 14, 19]);\n                        stream_2 = __asyncValues(stream);\n                        _b.label = 2;\n                    case 2: return [4 /*yield*/, __await(stream_2.next())];\n                    case 3:\n                        if (!(stream_2_1 = _b.sent(), !stream_2_1.done)) return [3 /*break*/, 12];\n                        buffer = stream_2_1.value;\n                        if (isArray && arrayItemsLeft === 0) {\n                            throw this.createExtraByteError(this.totalPos);\n                        }\n                        this.appendBuffer(buffer);\n                        if (isArrayHeaderRequired) {\n                            arrayItemsLeft = this.readArraySize();\n                            isArrayHeaderRequired = false;\n                            this.complete();\n                        }\n                        _b.label = 4;\n                    case 4:\n                        _b.trys.push([4, 9, , 10]);\n                        _b.label = 5;\n                    case 5:\n                        if (!true) return [3 /*break*/, 8];\n                        return [4 /*yield*/, __await(this.doDecodeSync())];\n                    case 6: return [4 /*yield*/, _b.sent()];\n                    case 7:\n                        _b.sent();\n                        if (--arrayItemsLeft === 0) {\n                            return [3 /*break*/, 8];\n                        }\n                        return [3 /*break*/, 5];\n                    case 8: return [3 /*break*/, 10];\n                    case 9:\n                        e_2 = _b.sent();\n                        if (!(e_2 instanceof DataViewIndexOutOfBoundsError)) {\n                            throw e_2; // rethrow\n                        }\n                        return [3 /*break*/, 10];\n                    case 10:\n                        this.totalPos += this.pos;\n                        _b.label = 11;\n                    case 11: return [3 /*break*/, 2];\n                    case 12: return [3 /*break*/, 19];\n                    case 13:\n                        e_3_1 = _b.sent();\n                        e_3 = { error: e_3_1 };\n                        return [3 /*break*/, 19];\n                    case 14:\n                        _b.trys.push([14, , 17, 18]);\n                        if (!(stream_2_1 && !stream_2_1.done && (_a = stream_2.return))) return [3 /*break*/, 16];\n                        return [4 /*yield*/, __await(_a.call(stream_2))];\n                    case 15:\n                        _b.sent();\n                        _b.label = 16;\n                    case 16: return [3 /*break*/, 18];\n                    case 17:\n                        if (e_3) throw e_3.error;\n                        return [7 /*endfinally*/];\n                    case 18: return [7 /*endfinally*/];\n                    case 19: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Decoder.prototype.doDecodeSync = function () {\n        DECODE: while (true) {\n            var headByte = this.readHeadByte();\n            var object = void 0;\n            if (headByte >= 0xe0) {\n                // negative fixint (111x xxxx) 0xe0 - 0xff\n                object = headByte - 0x100;\n            }\n            else if (headByte < 0xc0) {\n                if (headByte < 0x80) {\n                    // positive fixint (0xxx xxxx) 0x00 - 0x7f\n                    object = headByte;\n                }\n                else if (headByte < 0x90) {\n                    // fixmap (1000 xxxx) 0x80 - 0x8f\n                    var size = headByte - 0x80;\n                    if (size !== 0) {\n                        this.pushMapState(size);\n                        this.complete();\n                        continue DECODE;\n                    }\n                    else {\n                        object = {};\n                    }\n                }\n                else if (headByte < 0xa0) {\n                    // fixarray (1001 xxxx) 0x90 - 0x9f\n                    var size = headByte - 0x90;\n                    if (size !== 0) {\n                        this.pushArrayState(size);\n                        this.complete();\n                        continue DECODE;\n                    }\n                    else {\n                        object = [];\n                    }\n                }\n                else {\n                    // fixstr (101x xxxx) 0xa0 - 0xbf\n                    var byteLength = headByte - 0xa0;\n                    object = this.decodeUtf8String(byteLength, 0);\n                }\n            }\n            else if (headByte === 0xc0) {\n                // nil\n                object = null;\n            }\n            else if (headByte === 0xc2) {\n                // false\n                object = false;\n            }\n            else if (headByte === 0xc3) {\n                // true\n                object = true;\n            }\n            else if (headByte === 0xca) {\n                // float 32\n                object = this.readF32();\n            }\n            else if (headByte === 0xcb) {\n                // float 64\n                object = this.readF64();\n            }\n            else if (headByte === 0xcc) {\n                // uint 8\n                object = this.readU8();\n            }\n            else if (headByte === 0xcd) {\n                // uint 16\n                object = this.readU16();\n            }\n            else if (headByte === 0xce) {\n                // uint 32\n                object = this.readU32();\n            }\n            else if (headByte === 0xcf) {\n                // uint 64\n                object = this.readU64();\n            }\n            else if (headByte === 0xd0) {\n                // int 8\n                object = this.readI8();\n            }\n            else if (headByte === 0xd1) {\n                // int 16\n                object = this.readI16();\n            }\n            else if (headByte === 0xd2) {\n                // int 32\n                object = this.readI32();\n            }\n            else if (headByte === 0xd3) {\n                // int 64\n                object = this.readI64();\n            }\n            else if (headByte === 0xd9) {\n                // str 8\n                var byteLength = this.lookU8();\n                object = this.decodeUtf8String(byteLength, 1);\n            }\n            else if (headByte === 0xda) {\n                // str 16\n                var byteLength = this.lookU16();\n                object = this.decodeUtf8String(byteLength, 2);\n            }\n            else if (headByte === 0xdb) {\n                // str 32\n                var byteLength = this.lookU32();\n                object = this.decodeUtf8String(byteLength, 4);\n            }\n            else if (headByte === 0xdc) {\n                // array 16\n                var size = this.readU16();\n                if (size !== 0) {\n                    this.pushArrayState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = [];\n                }\n            }\n            else if (headByte === 0xdd) {\n                // array 32\n                var size = this.readU32();\n                if (size !== 0) {\n                    this.pushArrayState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = [];\n                }\n            }\n            else if (headByte === 0xde) {\n                // map 16\n                var size = this.readU16();\n                if (size !== 0) {\n                    this.pushMapState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = {};\n                }\n            }\n            else if (headByte === 0xdf) {\n                // map 32\n                var size = this.readU32();\n                if (size !== 0) {\n                    this.pushMapState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = {};\n                }\n            }\n            else if (headByte === 0xc4) {\n                // bin 8\n                var size = this.lookU8();\n                object = this.decodeBinary(size, 1);\n            }\n            else if (headByte === 0xc5) {\n                // bin 16\n                var size = this.lookU16();\n                object = this.decodeBinary(size, 2);\n            }\n            else if (headByte === 0xc6) {\n                // bin 32\n                var size = this.lookU32();\n                object = this.decodeBinary(size, 4);\n            }\n            else if (headByte === 0xd4) {\n                // fixext 1\n                object = this.decodeExtension(1, 0);\n            }\n            else if (headByte === 0xd5) {\n                // fixext 2\n                object = this.decodeExtension(2, 0);\n            }\n            else if (headByte === 0xd6) {\n                // fixext 4\n                object = this.decodeExtension(4, 0);\n            }\n            else if (headByte === 0xd7) {\n                // fixext 8\n                object = this.decodeExtension(8, 0);\n            }\n            else if (headByte === 0xd8) {\n                // fixext 16\n                object = this.decodeExtension(16, 0);\n            }\n            else if (headByte === 0xc7) {\n                // ext 8\n                var size = this.lookU8();\n                object = this.decodeExtension(size, 1);\n            }\n            else if (headByte === 0xc8) {\n                // ext 16\n                var size = this.lookU16();\n                object = this.decodeExtension(size, 2);\n            }\n            else if (headByte === 0xc9) {\n                // ext 32\n                var size = this.lookU32();\n                object = this.decodeExtension(size, 4);\n            }\n            else {\n                throw new Error(\"Unrecognized type byte: \" + prettyByte(headByte));\n            }\n            this.complete();\n            var stack = this.stack;\n            while (stack.length > 0) {\n                // arrays and maps\n                var state = stack[stack.length - 1];\n                if (state.type === 0 /* ARRAY */) {\n                    state.array[state.position] = object;\n                    state.position++;\n                    if (state.position === state.size) {\n                        stack.pop();\n                        object = state.array;\n                    }\n                    else {\n                        continue DECODE;\n                    }\n                }\n                else if (state.type === 1 /* MAP_KEY */) {\n                    if (!isValidMapKeyType(object)) {\n                        throw new Error(\"The type of key must be string or number but \" + typeof object);\n                    }\n                    state.key = object;\n                    state.type = 2 /* MAP_VALUE */;\n                    continue DECODE;\n                }\n                else {\n                    // it must be `state.type === State.MAP_VALUE` here\n                    state.map[state.key] = object;\n                    state.readCount++;\n                    if (state.readCount === state.size) {\n                        stack.pop();\n                        object = state.map;\n                    }\n                    else {\n                        state.key = null;\n                        state.type = 1 /* MAP_KEY */;\n                        continue DECODE;\n                    }\n                }\n            }\n            return object;\n        }\n    };\n    Decoder.prototype.readHeadByte = function () {\n        if (this.headByte === HEAD_BYTE_REQUIRED) {\n            this.headByte = this.readU8();\n            // console.log(\"headByte\", prettyByte(this.headByte));\n        }\n        return this.headByte;\n    };\n    Decoder.prototype.complete = function () {\n        this.headByte = HEAD_BYTE_REQUIRED;\n    };\n    Decoder.prototype.readArraySize = function () {\n        var headByte = this.readHeadByte();\n        switch (headByte) {\n            case 0xdc:\n                return this.readU16();\n            case 0xdd:\n                return this.readU32();\n            default: {\n                if (headByte < 0xa0) {\n                    return headByte - 0x90;\n                }\n                else {\n                    throw new Error(\"Unrecognized array type byte: \" + prettyByte(headByte));\n                }\n            }\n        }\n    };\n    Decoder.prototype.pushMapState = function (size) {\n        if (size > this.maxMapLength) {\n            throw new Error(\"Max length exceeded: map length (\" + size + \") > maxMapLengthLength (\" + this.maxMapLength + \")\");\n        }\n        this.stack.push({\n            type: 1 /* MAP_KEY */,\n            size: size,\n            key: null,\n            readCount: 0,\n            map: {},\n        });\n    };\n    Decoder.prototype.pushArrayState = function (size) {\n        if (size > this.maxArrayLength) {\n            throw new Error(\"Max length exceeded: array length (\" + size + \") > maxArrayLength (\" + this.maxArrayLength + \")\");\n        }\n        this.stack.push({\n            type: 0 /* ARRAY */,\n            size: size,\n            array: new Array(size),\n            position: 0,\n        });\n    };\n    Decoder.prototype.decodeUtf8String = function (byteLength, headerOffset) {\n        var _a;\n        if (byteLength > this.maxStrLength) {\n            throw new Error(\"Max length exceeded: UTF-8 byte length (\" + byteLength + \") > maxStrLength (\" + this.maxStrLength + \")\");\n        }\n        if (this.bytes.byteLength < this.pos + headerOffset + byteLength) {\n            throw MORE_DATA;\n        }\n        var offset = this.pos + headerOffset;\n        var object;\n        if (this.stateIsMapKey() && ((_a = this.keyDecoder) === null || _a === void 0 ? void 0 : _a.canBeCached(byteLength))) {\n            object = this.keyDecoder.decode(this.bytes, offset, byteLength);\n        }\n        else if (byteLength > TEXT_DECODER_THRESHOLD) {\n            object = utf8DecodeTD(this.bytes, offset, byteLength);\n        }\n        else {\n            object = utf8DecodeJs(this.bytes, offset, byteLength);\n        }\n        this.pos += headerOffset + byteLength;\n        return object;\n    };\n    Decoder.prototype.stateIsMapKey = function () {\n        if (this.stack.length > 0) {\n            var state = this.stack[this.stack.length - 1];\n            return state.type === 1 /* MAP_KEY */;\n        }\n        return false;\n    };\n    Decoder.prototype.decodeBinary = function (byteLength, headOffset) {\n        if (byteLength > this.maxBinLength) {\n            throw new Error(\"Max length exceeded: bin length (\" + byteLength + \") > maxBinLength (\" + this.maxBinLength + \")\");\n        }\n        if (!this.hasRemaining(byteLength + headOffset)) {\n            throw MORE_DATA;\n        }\n        var offset = this.pos + headOffset;\n        var object = this.bytes.subarray(offset, offset + byteLength);\n        this.pos += headOffset + byteLength;\n        return object;\n    };\n    Decoder.prototype.decodeExtension = function (size, headOffset) {\n        if (size > this.maxExtLength) {\n            throw new Error(\"Max length exceeded: ext length (\" + size + \") > maxExtLength (\" + this.maxExtLength + \")\");\n        }\n        var extType = this.view.getInt8(this.pos + headOffset);\n        var data = this.decodeBinary(size, headOffset + 1 /* extType */);\n        return this.extensionCodec.decode(data, extType, this.context);\n    };\n    Decoder.prototype.lookU8 = function () {\n        return this.view.getUint8(this.pos);\n    };\n    Decoder.prototype.lookU16 = function () {\n        return this.view.getUint16(this.pos);\n    };\n    Decoder.prototype.lookU32 = function () {\n        return this.view.getUint32(this.pos);\n    };\n    Decoder.prototype.readU8 = function () {\n        var value = this.view.getUint8(this.pos);\n        this.pos++;\n        return value;\n    };\n    Decoder.prototype.readI8 = function () {\n        var value = this.view.getInt8(this.pos);\n        this.pos++;\n        return value;\n    };\n    Decoder.prototype.readU16 = function () {\n        var value = this.view.getUint16(this.pos);\n        this.pos += 2;\n        return value;\n    };\n    Decoder.prototype.readI16 = function () {\n        var value = this.view.getInt16(this.pos);\n        this.pos += 2;\n        return value;\n    };\n    Decoder.prototype.readU32 = function () {\n        var value = this.view.getUint32(this.pos);\n        this.pos += 4;\n        return value;\n    };\n    Decoder.prototype.readI32 = function () {\n        var value = this.view.getInt32(this.pos);\n        this.pos += 4;\n        return value;\n    };\n    Decoder.prototype.readU64 = function () {\n        var value = getUint64(this.view, this.pos);\n        this.pos += 8;\n        return value;\n    };\n    Decoder.prototype.readI64 = function () {\n        var value = getInt64(this.view, this.pos);\n        this.pos += 8;\n        return value;\n    };\n    Decoder.prototype.readF32 = function () {\n        var value = this.view.getFloat32(this.pos);\n        this.pos += 4;\n        return value;\n    };\n    Decoder.prototype.readF64 = function () {\n        var value = this.view.getFloat64(this.pos);\n        this.pos += 8;\n        return value;\n    };\n    return Decoder;\n}());\nexport { Decoder };\n//# sourceMappingURL=Decoder.mjs.map","import { Decoder } from \"./Decoder.mjs\";\nexport var defaultDecodeOptions = {};\n/**\n * It decodes a single MessagePack object in a buffer.\n *\n * This is a synchronous decoding function.\n * See other variants for asynchronous decoding: {@link decodeAsync()}, {@link decodeStream()}, or {@link decodeArrayStream()}.\n */\nexport function decode(buffer, options) {\n    if (options === void 0) { options = defaultDecodeOptions; }\n    var decoder = new Decoder(options.extensionCodec, options.context, options.maxStrLength, options.maxBinLength, options.maxArrayLength, options.maxMapLength, options.maxExtLength);\n    return decoder.decode(buffer);\n}\n/**\n * It decodes multiple MessagePack objects in a buffer.\n * This is corresponding to {@link decodeMultiStream()}.\n */\nexport function decodeMulti(buffer, options) {\n    if (options === void 0) { options = defaultDecodeOptions; }\n    var decoder = new Decoder(options.extensionCodec, options.context, options.maxStrLength, options.maxBinLength, options.maxArrayLength, options.maxMapLength, options.maxExtLength);\n    return decoder.decodeMulti(buffer);\n}\n//# sourceMappingURL=decode.mjs.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport Websocket from \"isomorphic-ws\";\nimport { encode, decode } from \"@msgpack/msgpack\";\n/**\n * A Websocket client which can make requests and receive responses,\n * as well as send and receive signals\n *\n * Uses Holochain's websocket WireMessage for communication.\n */\nexport class WsClient {\n    constructor(socket, signalCb) {\n        this.socket = socket;\n        this.pendingRequests = {};\n        this.index = 0;\n        // TODO: allow adding signal handlers later\n        this.alreadyWarnedNoSignalCb = false;\n        socket.onmessage = (encodedMsg) => __awaiter(this, void 0, void 0, function* () {\n            let data = encodedMsg.data;\n            // If data is not a buffer (nodejs), it will be a blob (browser)\n            if (typeof Buffer === \"undefined\" || !Buffer.isBuffer(data)) {\n                data = yield data.arrayBuffer();\n            }\n            const msg = decode(data);\n            if (msg.type === \"Signal\") {\n                if (signalCb) {\n                    const decodedMessage = decode(msg.data);\n                    // Note: holochain currently returns signals as an array of two values: cellId and the serialized signal payload\n                    // and this array is nested within the App key within the returned message.\n                    const decodedCellId = decodedMessage.App[0];\n                    // Note:In order to return readible content to the UI, the signal payload must also be decoded.\n                    const decodedPayload = signalTransform(decodedMessage.App[1]);\n                    // Return a uniform format to UI (ie: { type, data } - the same format as with callZome and appInfo...)\n                    const signal = {\n                        type: msg.type,\n                        data: { cellId: decodedCellId, payload: decodedPayload },\n                    };\n                    signalCb(signal);\n                }\n                else {\n                    if (!this.alreadyWarnedNoSignalCb)\n                        console.log(`Received signal but no signal callback was set in constructor`);\n                    this.alreadyWarnedNoSignalCb = true;\n                }\n            }\n            else if (msg.type === \"Response\") {\n                this.handleResponse(msg);\n            }\n            else {\n                console.error(`Got unrecognized Websocket message type: ${msg.type}`);\n            }\n        });\n    }\n    emitSignal(data) {\n        const encodedMsg = encode({\n            type: \"Signal\",\n            data: encode(data),\n        });\n        this.socket.send(encodedMsg);\n    }\n    request(data) {\n        let id = this.index;\n        this.index += 1;\n        const encodedMsg = encode({\n            id,\n            type: \"Request\",\n            data: encode(data),\n        });\n        const promise = new Promise((fulfill, reject) => {\n            this.pendingRequests[id] = { fulfill, reject };\n        });\n        if (this.socket.readyState === this.socket.OPEN) {\n            this.socket.send(encodedMsg);\n        }\n        else {\n            return Promise.reject(new Error(`Socket is not open`));\n        }\n        return promise;\n    }\n    handleResponse(msg) {\n        const id = msg.id;\n        if (this.pendingRequests[id]) {\n            // resolve response\n            if (msg.data === null || msg.data === undefined) {\n                this.pendingRequests[id].reject(new Error(`Response canceled by responder`));\n            }\n            else {\n                this.pendingRequests[id].fulfill(decode(msg.data));\n            }\n        }\n        else {\n            console.error(`Got response with no matching request. id=${id}`);\n        }\n    }\n    close() {\n        this.socket.close();\n        return this.awaitClose();\n    }\n    awaitClose() {\n        return new Promise((resolve) => this.socket.on(\"close\", resolve));\n    }\n    static connect(url, signalCb) {\n        return new Promise((resolve, reject) => {\n            const socket = new Websocket(url);\n            // make sure that there are no uncaught connection\n            // errors because that causes nodejs thread to crash\n            // with uncaught exception\n            socket.onerror = (e) => {\n                reject(new Error(`could not connect to holochain conductor, please check that a conductor service is running and available at ${url}`));\n            };\n            socket.onopen = () => {\n                resolve(new WsClient(socket, signalCb));\n            };\n        });\n    }\n}\nconst signalTransform = (res) => {\n    return decode(res);\n};\n//# sourceMappingURL=client.js.map","const ERROR_TYPE = 'error';\nexport const DEFAULT_TIMEOUT = 15000;\nexport const catchError = (res) => {\n    return res.type === ERROR_TYPE\n        ? Promise.reject(res)\n        : Promise.resolve(res);\n};\nexport const promiseTimeout = (promise, tag, ms) => {\n    let id;\n    let timeout = new Promise((resolve, reject) => {\n        id = setTimeout(() => {\n            clearTimeout(id);\n            reject(new Error(`Timed out in ${ms}ms: ${tag}`));\n        }, ms);\n    });\n    return new Promise((res, rej) => {\n        Promise.race([\n            promise,\n            timeout\n        ]).then((a) => {\n            clearTimeout(id);\n            return res(a);\n        })\n            .catch(e => {\n            return rej(e);\n        });\n    });\n};\n//# sourceMappingURL=common.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/**\n * Take a Requester function which deals with tagged requests and responses,\n * and return a Requester which deals only with the inner data types, also\n * with the optional Transformer applied to further modify the input and output.\n */\nexport const requesterTransformer = (requester, tag, transform = identityTransformer) => ((req, timeout) => __awaiter(void 0, void 0, void 0, function* () {\n    const input = { type: tag, data: transform.input(req) };\n    const response = yield requester(input, timeout);\n    const output = transform.output(response.data);\n    return output;\n}));\nconst identity = x => x;\nconst identityTransformer = {\n    input: identity,\n    output: identity,\n};\n//# sourceMappingURL=common.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/**\n * Defines AppWebsocket, an easy-to-use websocket implementation of the\n * Conductor API for apps\n *\n *    const client = AppWebsocket.connect(\n *      'ws://localhost:9000',\n *      signal => console.log('got a signal:', signal)\n *    )\n *\n *    client.callZome({...})  // TODO: show what's in here\n *      .then(() => {\n *        console.log('DNA successfully installed')\n *      })\n *      .catch(err => {\n *        console.error('problem installing DNA:', err)\n *      })\n */\nimport { encode, decode } from '@msgpack/msgpack';\nimport { WsClient } from './client';\nimport { catchError, promiseTimeout, DEFAULT_TIMEOUT } from './common';\nimport { requesterTransformer } from '../api/common';\nexport class AppWebsocket {\n    constructor(client, defaultTimeout) {\n        this._requester = (tag, transformer) => requesterTransformer((req, timeout) => promiseTimeout(this.client.request(req), tag, timeout || this.defaultTimeout).then(catchError), tag, transformer);\n        this.appInfo = this._requester('app_info');\n        this.callZome = this._requester('zome_call_invocation', callZomeTransform);\n        this.client = client;\n        this.defaultTimeout = defaultTimeout === undefined ? DEFAULT_TIMEOUT : defaultTimeout;\n    }\n    static connect(url, defaultTimeout, signalCb) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const wsClient = yield WsClient.connect(url, signalCb);\n            return new AppWebsocket(wsClient, defaultTimeout);\n        });\n    }\n}\nconst callZomeTransform = {\n    input: (req) => {\n        return Object.assign(Object.assign({}, req), { payload: encode(req.payload) });\n    },\n    output: (res) => {\n        return decode(res);\n    }\n};\n//# sourceMappingURL=app.js.map","/**\n  postmate - A powerful, simple, promise-based postMessage library\n  @version v1.5.2\n  @link https://github.com/dollarshaveclub/postmate\n  @author Jacob Kelley <jakie8@gmail.com>\n  @license MIT\n**/\n/**\n * The type of messages our frames our sending\n * @type {String}\n */\nvar messageType = 'application/x-postmate-v1+json';\n/**\n * The maximum number of attempts to send a handshake request to the parent\n * @type {Number}\n */\n\nvar maxHandshakeRequests = 5;\n/**\n * A unique message ID that is used to ensure responses are sent to the correct requests\n * @type {Number}\n */\n\nvar _messageId = 0;\n/**\n * Increments and returns a message ID\n * @return {Number} A unique ID for a message\n */\n\nvar generateNewMessageId = function generateNewMessageId() {\n  return ++_messageId;\n};\n/**\n * Postmate logging function that enables/disables via config\n * @param  {Object} ...args Rest Arguments\n */\n\nvar log = function log() {\n  var _console;\n\n  return Postmate.debug ? (_console = console).log.apply(_console, arguments) : null;\n}; // eslint-disable-line no-console\n\n/**\n * Takes a URL and returns the origin\n * @param  {String} url The full URL being requested\n * @return {String}     The URLs origin\n */\n\nvar resolveOrigin = function resolveOrigin(url) {\n  var a = document.createElement('a');\n  a.href = url;\n  var protocol = a.protocol.length > 4 ? a.protocol : window.location.protocol;\n  var host = a.host.length ? a.port === '80' || a.port === '443' ? a.hostname : a.host : window.location.host;\n  return a.origin || protocol + \"//\" + host;\n};\nvar messageTypes = {\n  handshake: 1,\n  'handshake-reply': 1,\n  call: 1,\n  emit: 1,\n  reply: 1,\n  request: 1\n  /**\n   * Ensures that a message is safe to interpret\n   * @param  {Object} message The postmate message being sent\n   * @param  {String|Boolean} allowedOrigin The whitelisted origin or false to skip origin check\n   * @return {Boolean}\n   */\n\n};\nvar sanitize = function sanitize(message, allowedOrigin) {\n  if (typeof allowedOrigin === 'string' && message.origin !== allowedOrigin) return false;\n  if (!message.data) return false;\n  if (typeof message.data === 'object' && !('postmate' in message.data)) return false;\n  if (message.data.type !== messageType) return false;\n  if (!messageTypes[message.data.postmate]) return false;\n  return true;\n};\n/**\n * Takes a model, and searches for a value by the property\n * @param  {Object} model     The dictionary to search against\n * @param  {String} property  A path within a dictionary (i.e. 'window.location.href')\n * @param  {Object} data      Additional information from the get request that is\n *                            passed to functions in the child model\n * @return {Promise}\n */\n\nvar resolveValue = function resolveValue(model, property) {\n  var unwrappedContext = typeof model[property] === 'function' ? model[property]() : model[property];\n  return Postmate.Promise.resolve(unwrappedContext);\n};\n/**\n * Composes an API to be used by the parent\n * @param {Object} info Information on the consumer\n */\n\nvar ParentAPI =\n/*#__PURE__*/\nfunction () {\n  function ParentAPI(info) {\n    var _this = this;\n\n    this.parent = info.parent;\n    this.frame = info.frame;\n    this.child = info.child;\n    this.childOrigin = info.childOrigin;\n    this.events = {};\n\n    if (process.env.NODE_ENV !== 'production') {\n      log('Parent: Registering API');\n      log('Parent: Awaiting messages...');\n    }\n\n    this.listener = function (e) {\n      if (!sanitize(e, _this.childOrigin)) return false;\n      /**\n       * the assignments below ensures that e, data, and value are all defined\n       */\n\n      var _ref = ((e || {}).data || {}).value || {},\n          data = _ref.data,\n          name = _ref.name;\n\n      if (e.data.postmate === 'emit') {\n        if (process.env.NODE_ENV !== 'production') {\n          log(\"Parent: Received event emission: \" + name);\n        }\n\n        if (name in _this.events) {\n          _this.events[name].call(_this, data);\n        }\n      }\n    };\n\n    this.parent.addEventListener('message', this.listener, false);\n\n    if (process.env.NODE_ENV !== 'production') {\n      log('Parent: Awaiting event emissions from Child');\n    }\n  }\n\n  var _proto = ParentAPI.prototype;\n\n  _proto.get = function get(property) {\n    var _this2 = this;\n\n    return new Postmate.Promise(function (resolve) {\n      // Extract data from response and kill listeners\n      var uid = generateNewMessageId();\n\n      var transact = function transact(e) {\n        if (e.data.uid === uid && e.data.postmate === 'reply') {\n          _this2.parent.removeEventListener('message', transact, false);\n\n          resolve(e.data.value);\n        }\n      }; // Prepare for response from Child...\n\n\n      _this2.parent.addEventListener('message', transact, false); // Then ask child for information\n\n\n      _this2.child.postMessage({\n        postmate: 'request',\n        type: messageType,\n        property: property,\n        uid: uid\n      }, _this2.childOrigin);\n    });\n  };\n\n  _proto.call = function call(property, data) {\n    // Send information to the child\n    this.child.postMessage({\n      postmate: 'call',\n      type: messageType,\n      property: property,\n      data: data\n    }, this.childOrigin);\n  };\n\n  _proto.on = function on(eventName, callback) {\n    this.events[eventName] = callback;\n  };\n\n  _proto.destroy = function destroy() {\n    if (process.env.NODE_ENV !== 'production') {\n      log('Parent: Destroying Postmate instance');\n    }\n\n    window.removeEventListener('message', this.listener, false);\n    this.frame.parentNode.removeChild(this.frame);\n  };\n\n  return ParentAPI;\n}();\n/**\n * Composes an API to be used by the child\n * @param {Object} info Information on the consumer\n */\n\nvar ChildAPI =\n/*#__PURE__*/\nfunction () {\n  function ChildAPI(info) {\n    var _this3 = this;\n\n    this.model = info.model;\n    this.parent = info.parent;\n    this.parentOrigin = info.parentOrigin;\n    this.child = info.child;\n\n    if (process.env.NODE_ENV !== 'production') {\n      log('Child: Registering API');\n      log('Child: Awaiting messages...');\n    }\n\n    this.child.addEventListener('message', function (e) {\n      if (!sanitize(e, _this3.parentOrigin)) return;\n\n      if (process.env.NODE_ENV !== 'production') {\n        log('Child: Received request', e.data);\n      }\n\n      var _e$data = e.data,\n          property = _e$data.property,\n          uid = _e$data.uid,\n          data = _e$data.data;\n\n      if (e.data.postmate === 'call') {\n        if (property in _this3.model && typeof _this3.model[property] === 'function') {\n          _this3.model[property](data);\n        }\n\n        return;\n      } // Reply to Parent\n\n\n      resolveValue(_this3.model, property).then(function (value) {\n        return e.source.postMessage({\n          property: property,\n          postmate: 'reply',\n          type: messageType,\n          uid: uid,\n          value: value\n        }, e.origin);\n      });\n    });\n  }\n\n  var _proto2 = ChildAPI.prototype;\n\n  _proto2.emit = function emit(name, data) {\n    if (process.env.NODE_ENV !== 'production') {\n      log(\"Child: Emitting Event \\\"\" + name + \"\\\"\", data);\n    }\n\n    this.parent.postMessage({\n      postmate: 'emit',\n      type: messageType,\n      value: {\n        name: name,\n        data: data\n      }\n    }, this.parentOrigin);\n  };\n\n  return ChildAPI;\n}();\n/**\n  * The entry point of the Parent.\n * @type {Class}\n */\n\nvar Postmate =\n/*#__PURE__*/\nfunction () {\n  // eslint-disable-line no-undef\n  // Internet Explorer craps itself\n\n  /**\n   * Sets options related to the Parent\n   * @param {Object} object The element to inject the frame into, and the url\n   * @return {Promise}\n   */\n  function Postmate(_ref2) {\n    var _ref2$container = _ref2.container,\n        container = _ref2$container === void 0 ? typeof container !== 'undefined' ? container : document.body : _ref2$container,\n        model = _ref2.model,\n        url = _ref2.url,\n        name = _ref2.name,\n        _ref2$classListArray = _ref2.classListArray,\n        classListArray = _ref2$classListArray === void 0 ? [] : _ref2$classListArray;\n    // eslint-disable-line no-undef\n    this.parent = window;\n    this.frame = document.createElement('iframe');\n    this.frame.name = name || '';\n    this.frame.classList.add.apply(this.frame.classList, classListArray);\n    container.appendChild(this.frame);\n    this.child = this.frame.contentWindow || this.frame.contentDocument.parentWindow;\n    this.model = model || {};\n    return this.sendHandshake(url);\n  }\n  /**\n   * Begins the handshake strategy\n   * @param  {String} url The URL to send a handshake request to\n   * @return {Promise}     Promise that resolves when the handshake is complete\n   */\n\n\n  var _proto3 = Postmate.prototype;\n\n  _proto3.sendHandshake = function sendHandshake(url) {\n    var _this4 = this;\n\n    var childOrigin = resolveOrigin(url);\n    var attempt = 0;\n    var responseInterval;\n    return new Postmate.Promise(function (resolve, reject) {\n      var reply = function reply(e) {\n        if (!sanitize(e, childOrigin)) return false;\n\n        if (e.data.postmate === 'handshake-reply') {\n          clearInterval(responseInterval);\n\n          if (process.env.NODE_ENV !== 'production') {\n            log('Parent: Received handshake reply from Child');\n          }\n\n          _this4.parent.removeEventListener('message', reply, false);\n\n          _this4.childOrigin = e.origin;\n\n          if (process.env.NODE_ENV !== 'production') {\n            log('Parent: Saving Child origin', _this4.childOrigin);\n          }\n\n          return resolve(new ParentAPI(_this4));\n        } // Might need to remove since parent might be receiving different messages\n        // from different hosts\n\n\n        if (process.env.NODE_ENV !== 'production') {\n          log('Parent: Invalid handshake reply');\n        }\n\n        return reject('Failed handshake');\n      };\n\n      _this4.parent.addEventListener('message', reply, false);\n\n      var doSend = function doSend() {\n        attempt++;\n\n        if (process.env.NODE_ENV !== 'production') {\n          log(\"Parent: Sending handshake attempt \" + attempt, {\n            childOrigin: childOrigin\n          });\n        }\n\n        _this4.child.postMessage({\n          postmate: 'handshake',\n          type: messageType,\n          model: _this4.model\n        }, childOrigin);\n\n        if (attempt === maxHandshakeRequests) {\n          clearInterval(responseInterval);\n        }\n      };\n\n      var loaded = function loaded() {\n        doSend();\n        responseInterval = setInterval(doSend, 500);\n      };\n\n      if (_this4.frame.attachEvent) {\n        _this4.frame.attachEvent('onload', loaded);\n      } else {\n        _this4.frame.onload = loaded;\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        log('Parent: Loading frame', {\n          url: url\n        });\n      }\n\n      _this4.frame.src = url;\n    });\n  };\n\n  return Postmate;\n}();\n/**\n * The entry point of the Child\n * @type {Class}\n */\n\n\nPostmate.debug = false;\n\nPostmate.Promise = function () {\n  try {\n    return window ? window.Promise : Promise;\n  } catch (e) {\n    return null;\n  }\n}();\n\nPostmate.Model =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Initializes the child, model, parent, and responds to the Parents handshake\n   * @param {Object} model Hash of values, functions, or promises\n   * @return {Promise}       The Promise that resolves when the handshake has been received\n   */\n  function Model(model) {\n    this.child = window;\n    this.model = model;\n    this.parent = this.child.parent;\n    return this.sendHandshakeReply();\n  }\n  /**\n   * Responds to a handshake initiated by the Parent\n   * @return {Promise} Resolves an object that exposes an API for the Child\n   */\n\n\n  var _proto4 = Model.prototype;\n\n  _proto4.sendHandshakeReply = function sendHandshakeReply() {\n    var _this5 = this;\n\n    return new Postmate.Promise(function (resolve, reject) {\n      var shake = function shake(e) {\n        if (!e.data.postmate) {\n          return;\n        }\n\n        if (e.data.postmate === 'handshake') {\n          if (process.env.NODE_ENV !== 'production') {\n            log('Child: Received handshake from Parent');\n          }\n\n          _this5.child.removeEventListener('message', shake, false);\n\n          if (process.env.NODE_ENV !== 'production') {\n            log('Child: Sending handshake reply to Parent');\n          }\n\n          e.source.postMessage({\n            postmate: 'handshake-reply',\n            type: messageType\n          }, e.origin);\n          _this5.parentOrigin = e.origin; // Extend model with the one provided by the parent\n\n          var defaults = e.data.model;\n\n          if (defaults) {\n            Object.keys(defaults).forEach(function (key) {\n              _this5.model[key] = defaults[key];\n            });\n\n            if (process.env.NODE_ENV !== 'production') {\n              log('Child: Inherited and extended model from Parent');\n            }\n          }\n\n          if (process.env.NODE_ENV !== 'production') {\n            log('Child: Saving Parent origin', _this5.parentOrigin);\n          }\n\n          return resolve(new ChildAPI(_this5));\n        }\n\n        return reject('Handshake Reply Failed');\n      };\n\n      _this5.child.addEventListener('message', shake, false);\n    });\n  };\n\n  return Model;\n}();\n\nexport default Postmate;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nexports.__esModule = true;\nvar TimeoutError = /** @class */ (function (_super) {\n    __extends(TimeoutError, _super);\n    function TimeoutError(message, timeout) {\n        var params = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            params[_i - 2] = arguments[_i];\n        }\n        var _this = \n        // Pass remaining arguments (including vendor specific ones) to parent constructor\n        _super.call(this, message) || this;\n        // Maintains proper stack trace for where our error was thrown (only available on V8)\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(_this, TimeoutError);\n        }\n        _this.name = 'TimeoutError';\n        _this.timeout = timeout;\n        return _this;\n    }\n    return TimeoutError;\n}(Error));\nexports.TimeoutError = TimeoutError;\nfunction async_with_timeout(fn, timeout) {\n    var _this = this;\n    if (timeout === void 0) { timeout = 2000; }\n    return new Promise(function (f, r) { return __awaiter(_this, void 0, void 0, function () {\n        var to_id, result, err_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    to_id = setTimeout(function () {\n                        r(new TimeoutError(\"Waited for \" + (timeout / 1000) + \" seconds\", timeout));\n                    }, timeout);\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, 4, 5]);\n                    return [4 /*yield*/, fn()];\n                case 2:\n                    result = _a.sent();\n                    f(result);\n                    return [3 /*break*/, 5];\n                case 3:\n                    err_1 = _a.sent();\n                    r(err_1);\n                    return [3 /*break*/, 5];\n                case 4:\n                    clearTimeout(to_id);\n                    return [7 /*endfinally*/];\n                case 5: return [2 /*return*/];\n            }\n        });\n    }); });\n}\nexports[\"default\"] = async_with_timeout;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nvar postmate_1 = __importDefault(require(\"postmate\"));\nvar async_with_timeout_1 = __importDefault(require(\"./async_with_timeout\"));\nvar async_with_timeout_2 = require(\"./async_with_timeout\");\n/**\n * @module COMB\n *\n * @description\n * Parent window\n * ```html\n * <script type=\"text/javascript\" src=\"./holo_hosting_comb.js\"></script>\n * <script type=\"text/javascript\">\n * (async () => {\n *     const child = await comb.connect( url );\n *\n *     await child.set(\"mode\", mode );\n *\n *     let response = await child.run(\"signIn\");\n * })();\n * </script>\n * ```\n *\n * Child frame\n * ```html\n * <script type=\"text/javascript\" src=\"./holo_hosting_comb.js\"></script>\n * <script type=\"text/javascript\">\n * (async () => {\n *     const parent = comb.listen({\n *         \"signIn\": async function ( ...args ) {\n *             if ( this.mode === DEVELOP )\n *                 ...\n *             else\n *                 ...\n *             return response;\n *         },\n *     });\n * })();\n * </script>\n * ```\n *\n */\nvar COMB = {\n    /**\n     * Turn on debugging and set the logging level.  If 'debug' is not called, the default log level\n     * is 'error'.\n     *\n     * @function debug\n     *\n     * @param {string} level\t\t- Log level (default: \"debug\", options: \"error\", \"warn\", \"info\", \"debug\", \"trace\")\n     *\n     * @example\n     * COMB.debug( \"info\" );\n     */\n    debug: function (level) {\n        if (level === void 0) { level = 'debug'; }\n        postmate_1[\"default\"].debug = true;\n    },\n    /**\n     * Insert an iframe (pointing at the given URL) into the `document.body` and wait for COMB to\n     * connect.\n     *\n     * @async\n     * @function connect\n     *\n     * @param {string} url\t\t- URL that is used as 'src' for the iframe\n     *\n     * @return {ChildAPI} Connection to child frame\n     *\n     * @example\n     * const child = await COMB.connect( \"http://localhost:8002\" );\n     */\n    connect: function (url, timeout, signalCb) {\n        return __awaiter(this, void 0, void 0, function () {\n            var child;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        child = new ChildAPI(url, timeout, signalCb);\n                        return [4 /*yield*/, child.connect()];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/, child];\n                }\n            });\n        });\n    },\n    /**\n     * Listen to 'postMessage' requests and wait for a parent window to connect.\n     *\n     * @async\n     * @function listen\n     *\n     * @param {object} methods\t\t- Functions that are available for the parent to call.\n     *\n     * @return {ParentAPI} Connection to parent window\n     *\n     * @example\n     * const parent = await COMB.listen({\n     *     \"hello\": async function () {\n     *         return \"Hello world\";\n     *     }\n     * });\n     */\n    listen: function (methods) {\n        return __awaiter(this, void 0, void 0, function () {\n            var parent;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        parent = new ParentAPI(methods);\n                        return [4 /*yield*/, parent.connect()];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/, parent];\n                }\n            });\n        });\n    }\n};\nexports.COMB = COMB;\nvar ChildAPI = /** @class */ (function () {\n    /**\n     * Initialize a child frame using the given URL.\n     *\n     * @class ChildAPI\n     *\n     * @param {string} url - URL that is used as 'src' for the iframe\n     *\n     * @prop {string} url         - iFrame URL\n     * @prop {number} msg_count   - Incrementing message ID\n     * @prop {object} responses   - Dictionary of request Promises waiting for their responses\n     * @prop {object} msg_bus     - Postmate instance\n     * @prop {promise} handshake  - Promise that is waiting for connection confirmation\n     * @prop {string} class_name  - iFrame's unique class name\n     * @prop {boolean} loaded     - Indicates if iFrame successfully loaded\n     * @prop {any} signalCb       - A callback that's run when we receive a signal\n     *\n     * @example\n     * const child = new ChildAPI( url );\n     * await child.connect();\n     *\n     * await child.set(\"mode\", mode );\n     * let response = await child.run(\"signIn\");\n     */\n    function ChildAPI(url, timeout, signalCb) {\n        var _this = this;\n        if (timeout === void 0) { timeout = 5000; }\n        this.url = url;\n        this.msg_count = 0;\n        this.responses = {};\n        this.loaded = false;\n        this.signalCb = signalCb;\n        this.class_name = \"comb-frame-\" + ChildAPI.frame_count++;\n        this.handshake = async_with_timeout_1[\"default\"](function () { return __awaiter(_this, void 0, void 0, function () {\n            var handshake, iframe;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        handshake = new postmate_1[\"default\"]({\n                            \"container\": document.body,\n                            \"url\": this.url,\n                            \"classListArray\": [this.class_name]\n                        });\n                        iframe = document.querySelector('iframe.' + this.class_name);\n                        // log.debug(\"Listening for iFrame load event\", iframe );\n                        iframe['contentWindow'].addEventListener(\"domcontentloaded\", function () {\n                            // log.debug(\"iFrame content has loaded\");\n                            _this.loaded = true;\n                        });\n                        return [4 /*yield*/, handshake];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        }); }, timeout);\n    }\n    /**\n     * Wait for handshake to complete and then attach response listener.\n     *\n     * @async\n     *\n     * @return {this}\n     *\n     * @example\n     * const child = new ChildAPI( url );\n     * await child.connect();\n     */\n    ChildAPI.prototype.connect = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var child, err_1;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.handshake];\n                    case 1:\n                        child = _a.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        err_1 = _a.sent();\n                        if (err_1.name === \"TimeoutError\") {\n                            if (this.loaded) {\n                                // log.error(\"iFrame loaded but could not communicate with COMB\");\n                                throw new async_with_timeout_2.TimeoutError(\"Failed to complete COMB handshake\", err_1.timeout);\n                            }\n                            else {\n                                // log.error(\"iFrame did not trigger load event\");\n                                throw new async_with_timeout_2.TimeoutError(\"Failed to load iFrame\", err_1.timeout);\n                            }\n                        }\n                        else\n                            throw err_1;\n                        return [3 /*break*/, 3];\n                    case 3:\n                        // log.info(\"Finished handshake\");\n                        child.on('response', function (data) {\n                            var k = data[0], v = data[1];\n                            // log.info(\"Received response for msg_id:\", k );\n                            var _a = _this.responses[k], f = _a[0], r = _a[1];\n                            if (v instanceof Error)\n                                r(v);\n                            else\n                                f(v);\n                            delete _this.responses[k];\n                        });\n                        if (this.signalCb) {\n                            child.on('signal', this.signalCb);\n                        }\n                        this.msg_bus = child;\n                        return [2 /*return*/, this];\n                }\n            });\n        });\n    };\n    /**\n     * Internal method that wraps requests in a timeout.\n     *\n     * @async\n     * @private\n     *\n     * @param {string} method   - Internally consistent Postmate method\n     * @param {string} name     - Function name or property name\n     * @param {*} data          - Variable input that is handled by child API\n     *\n     * @return {*} Response from child\n     */\n    ChildAPI.prototype.request = function (method, name, data, timeout) {\n        var _this = this;\n        if (timeout === void 0) { timeout = 2000; }\n        var msg_id = this.msg_count++;\n        this.msg_bus.call(method, [msg_id, name, data]);\n        // log.info(\"Sent request with msg_id:\", msg_id );\n        return async_with_timeout_1[\"default\"](function () { return __awaiter(_this, void 0, void 0, function () {\n            var request;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        request = new Promise(function (f, r) {\n                            _this.responses[msg_id] = [f, r];\n                        });\n                        return [4 /*yield*/, request];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        }); }, timeout);\n    };\n    /**\n     * Set a property on the child instance and wait for the confirmation. Properties set that way\n     * can be accessed as properties of `this` in the functions passed via listen() to the parentAPI.\n     *\n     * Essentially, it is a shortcut to remember some state instead of having to write a method to\n     * remember some state.  Example `child.set(\"development_mode\", true)` vs\n     * `child.call(\"setDevelopmentMode\", true)`.  The latter requires you to define\n     * `setDevelopmentMode` on the child model where the former does not require any\n     * pre-configuration.\n     *\n     * @async\n     *\n     * @param {string} key  - Property name\n     * @param {*} value     - Property value\n     *\n     * @return {boolean} Success status\n     *\n     * @example\n     * let success = await child.set( \"key\", \"value\" );\n     */\n    ChildAPI.prototype.set = function (key, value) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.request(\"prop\", key, value)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    /**\n     * Call an exposed function on the child instance and wait for the response.\n     *\n     * @async\n     *\n     * @param {string} method\t\t- Name of exposed function to call\n     * @param {...*} args\t\t- Arguments that are passed to function\n     *\n     * @return {*}\n     *\n     * @example\n     * let response = await child.run( \"some_method\", \"argument 1\", 2, 3 );\n     */\n    ChildAPI.prototype.run = function (method) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.request(\"exec\", method, args)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    ChildAPI.prototype.call = function (method) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.request(\"exec\", method, args, 84000000)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    ChildAPI.frame_count = 0;\n    return ChildAPI;\n}());\nvar ParentAPI = /** @class */ (function () {\n    /**\n     * Initialize a listening instance and set available methods.\n     *\n     * @class ParentAPI\n     *\n     * @param {object} methods    - Functions that are available for the parent to call.\n     * @param {object} properties - Properties to memorize in the instance for later use, optional\n     *\n     * @prop {promise} listener   - Promise that is waiting for parent to connect\n     * @prop {object} msg_bus     - Postmate instance\n     * @prop {object} methods     - Method storage\n     * @prop {object} properties  - Set properties storage\n     *\n     * @example\n     * const parent = new ParentAPI({\n     *     \"hello\": async function () {\n     *         return \"Hello world\";\n     *     }\n     * });\n     * await parent.connect();\n     */\n    function ParentAPI(methods, properties) {\n        var _this = this;\n        if (properties === void 0) { properties = {}; }\n        this.methods = methods;\n        this.properties = properties;\n        this.listener = new postmate_1[\"default\"].Model({\n            \"exec\": function (data) { return __awaiter(_this, void 0, void 0, function () {\n                var msg_id, method, args, fn, resp;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            msg_id = data[0], method = data[1], args = data[2];\n                            fn = this.methods[method];\n                            if (fn === undefined) {\n                                // log.error(\"Method does not exist\", method );\n                                return [2 /*return*/, this.msg_bus.emit(\"response\", [msg_id, new Error(\"Method '\" + method + \"' does not exist\")])];\n                            }\n                            if (typeof fn !== \"function\") {\n                                // log.error(\"Method is not a function: type\", typeof fn );\n                                return [2 /*return*/, this.msg_bus.emit(\"response\", [msg_id, new Error(\"Method '\" + method + \"' is not a function. Found type '\" + typeof fn + \"'\")])];\n                            }\n                            return [4 /*yield*/, fn.apply(this.properties, args)];\n                        case 1:\n                            resp = _a.sent();\n                            this.msg_bus.emit(\"response\", [msg_id, resp]);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            \"prop\": function (data) { return __awaiter(_this, void 0, void 0, function () {\n                var msg_id, key, value;\n                return __generator(this, function (_a) {\n                    msg_id = data[0], key = data[1], value = data[2];\n                    this.properties[key] = value;\n                    this.msg_bus.emit(\"response\", [msg_id, true]);\n                    return [2 /*return*/];\n                });\n            }); }\n        });\n    }\n    /**\n     * Wait for parent to connect.\n     *\n     * @async\n     *\n     * @return {this}\n     *\n     * @example\n     * const parent = new ParentAPI({\n     *     \"hello\": async function () {\n     *         return \"Hello world\";\n     *     }\n     * });\n     * await parent.connect();\n     */\n    ParentAPI.prototype.connect = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _a = this;\n                        return [4 /*yield*/, this.listener];\n                    case 1:\n                        _a.msg_bus = _b.sent();\n                        return [2 /*return*/, this];\n                }\n            });\n        });\n    };\n    /**\n   * Send holochain conductor signal to parent.\n   *\n   * @async\n   *\n   * @param {object} signal\t\t- The signal\n   *\n   * @example\n   * const parent = new ParentAPI({\n   *     \"hello\": async function () {\n   *         return \"Hello world\";\n   *     }\n   * });\n   * await parent.sendSignal(signal);\n   */\n    ParentAPI.prototype.sendSignal = function (signal) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                this.msg_bus.emit('signal', signal);\n                return [2 /*return*/];\n            });\n        });\n    };\n    return ParentAPI;\n}());\n","'use strict';\n\nvar domain;\n\n// This constructor is used to store event handlers. Instantiating this is\n// faster than explicitly calling `Object.create(null)` to get a \"clean\" empty\n// object (tested with v8 v4.9).\nfunction EventHandlers() {}\nEventHandlers.prototype = Object.create(null);\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nexport default EventEmitter;\nexport {EventEmitter};\n\n// nodejs oddity\n// require('events') === require('events').EventEmitter\nEventEmitter.EventEmitter = EventEmitter\n\nEventEmitter.usingDomains = false;\n\nEventEmitter.prototype.domain = undefined;\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\nEventEmitter.init = function() {\n  this.domain = null;\n  if (EventEmitter.usingDomains) {\n    // if there is an active domain, then attach to it.\n    if (domain.active && !(this instanceof domain.Domain)) {\n      this.domain = domain.active;\n    }\n  }\n\n  if (!this._events || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = new EventHandlers();\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || isNaN(n))\n    throw new TypeError('\"n\" argument must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\n// These standalone emit* functions are used to optimize calling of event\n// handlers for fast cases because emit() itself often has a variable number of\n// arguments and can be deoptimized because of that. These functions always have\n// the same number of arguments and thus do not get deoptimized, so the code\n// inside them can execute faster.\nfunction emitNone(handler, isFn, self) {\n  if (isFn)\n    handler.call(self);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self);\n  }\n}\nfunction emitOne(handler, isFn, self, arg1) {\n  if (isFn)\n    handler.call(self, arg1);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1);\n  }\n}\nfunction emitTwo(handler, isFn, self, arg1, arg2) {\n  if (isFn)\n    handler.call(self, arg1, arg2);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2);\n  }\n}\nfunction emitThree(handler, isFn, self, arg1, arg2, arg3) {\n  if (isFn)\n    handler.call(self, arg1, arg2, arg3);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2, arg3);\n  }\n}\n\nfunction emitMany(handler, isFn, self, args) {\n  if (isFn)\n    handler.apply(self, args);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].apply(self, args);\n  }\n}\n\nEventEmitter.prototype.emit = function emit(type) {\n  var er, handler, len, args, i, events, domain;\n  var needDomainExit = false;\n  var doError = (type === 'error');\n\n  events = this._events;\n  if (events)\n    doError = (doError && events.error == null);\n  else if (!doError)\n    return false;\n\n  domain = this.domain;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    er = arguments[1];\n    if (domain) {\n      if (!er)\n        er = new Error('Uncaught, unspecified \"error\" event');\n      er.domainEmitter = this;\n      er.domain = domain;\n      er.domainThrown = false;\n      domain.emit('error', er);\n    } else if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      // At least give some kind of context to the user\n      var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n      err.context = er;\n      throw err;\n    }\n    return false;\n  }\n\n  handler = events[type];\n\n  if (!handler)\n    return false;\n\n  var isFn = typeof handler === 'function';\n  len = arguments.length;\n  switch (len) {\n    // fast cases\n    case 1:\n      emitNone(handler, isFn, this);\n      break;\n    case 2:\n      emitOne(handler, isFn, this, arguments[1]);\n      break;\n    case 3:\n      emitTwo(handler, isFn, this, arguments[1], arguments[2]);\n      break;\n    case 4:\n      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);\n      break;\n    // slower\n    default:\n      args = new Array(len - 1);\n      for (i = 1; i < len; i++)\n        args[i - 1] = arguments[i];\n      emitMany(handler, isFn, this, args);\n  }\n\n  if (needDomainExit)\n    domain.exit();\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n\n  events = target._events;\n  if (!events) {\n    events = target._events = new EventHandlers();\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (!existing) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] = prepend ? [listener, existing] :\n                                          [existing, listener];\n    } else {\n      // If we've already got an array, just append.\n      if (prepend) {\n        existing.unshift(listener);\n      } else {\n        existing.push(listener);\n      }\n    }\n\n    // Check for listener leak\n    if (!existing.warned) {\n      m = $getMaxListeners(target);\n      if (m && m > 0 && existing.length > m) {\n        existing.warned = true;\n        var w = new Error('Possible EventEmitter memory leak detected. ' +\n                            existing.length + ' ' + type + ' listeners added. ' +\n                            'Use emitter.setMaxListeners() to increase limit');\n        w.name = 'MaxListenersExceededWarning';\n        w.emitter = target;\n        w.type = type;\n        w.count = existing.length;\n        emitWarning(w);\n      }\n    }\n  }\n\n  return target;\n}\nfunction emitWarning(e) {\n  typeof console.warn === 'function' ? console.warn(e) : console.log(e);\n}\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction _onceWrap(target, type, listener) {\n  var fired = false;\n  function g() {\n    target.removeListener(type, g);\n    if (!fired) {\n      fired = true;\n      listener.apply(target, arguments);\n    }\n  }\n  g.listener = listener;\n  return g;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      list = events[type];\n      if (!list)\n        return this;\n\n      if (list === listener || (list.listener && list.listener === listener)) {\n        if (--this._eventsCount === 0)\n          this._events = new EventHandlers();\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length; i-- > 0;) {\n          if (list[i] === listener ||\n              (list[i].listener && list[i].listener === listener)) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (list.length === 1) {\n          list[0] = undefined;\n          if (--this._eventsCount === 0) {\n            this._events = new EventHandlers();\n            return this;\n          } else {\n            delete events[type];\n          }\n        } else {\n          spliceOne(list, position);\n        }\n\n        if (events.removeListener)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events;\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (!events.removeListener) {\n        if (arguments.length === 0) {\n          this._events = new EventHandlers();\n          this._eventsCount = 0;\n        } else if (events[type]) {\n          if (--this._eventsCount === 0)\n            this._events = new EventHandlers();\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        for (var i = 0, key; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = new EventHandlers();\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners) {\n        // LIFO order\n        do {\n          this.removeListener(type, listeners[listeners.length - 1]);\n        } while (listeners[0]);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  var evlistener;\n  var ret;\n  var events = this._events;\n\n  if (!events)\n    ret = [];\n  else {\n    evlistener = events[type];\n    if (!evlistener)\n      ret = [];\n    else if (typeof evlistener === 'function')\n      ret = [evlistener.listener || evlistener];\n    else\n      ret = unwrapListeners(evlistener);\n  }\n\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];\n};\n\n// About 1.5x faster than the two-arg version of Array#splice().\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)\n    list[i] = list[k];\n  list.pop();\n}\n\nfunction arrayClone(arr, i) {\n  var copy = new Array(i);\n  while (i--)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","const TESTING = global.COMB !== undefined;\n\nconst COMB = global.COMB || require('@holo-host/comb').COMB;\n\nconst { EventEmitter } = require('events');\n\nfunction makeUrlAbsolute (url) {\n  return new URL(url, window.location).href\n}\n\nclass Connection extends EventEmitter {\n\n  constructor(url, signalCb, branding) {\n    super();\n\n    const hostname = window.location.hostname;\n    this.chaperone_url = new URL(url || `http://${hostname}:24273`);\n    if (branding !== undefined) {\n      if (branding.logo_url !== undefined) {\n        this.chaperone_url.searchParams.set(\"logo_url\", makeUrlAbsolute(branding.logo_url))\n      }\n      if (branding.app_name !== undefined) {\n        this.chaperone_url.searchParams.set(\"app_name\", branding.app_name)\n      }\n      if (branding.info_link !== undefined) {\n        this.chaperone_url.searchParams.set(\"info_link\", branding.info_link)\n      }\n      if (branding.publisher_name !== undefined) {\n        this.chaperone_url.searchParams.set(\"publisher_name\", branding.publisher_name)\n      }\n    }\n\n    this.waiting = [];\n    this.child = null;\n    this.signalCb = signalCb\n    this.connecting = this.connect();\n  }\n\n  ready() {\n    return new Promise((resolve, reject) => {\n      this.connecting.catch(reject)\n      this.child !== null\n        ? resolve()\n        : this.waiting.push(resolve);\n    });\n  }\n\n  async connect() {\n    try {\n      this.child = await COMB.connect(this.chaperone_url.href, 5000, this.signalCb);\n    } catch (err) {\n      if (err.name === \"TimeoutError\")\n        console.log(\"Chaperone did not load properly. Is it running?\");\n      throw err;\n    }\n\n    let f;\n    while (f = this.waiting.shift()) {\n      f();\n    }\n\n    if (TESTING)\n      return;\n\n    // Alerts:\n    //   signin\t\t- emitted when the user completes a successful sign-in\n    //   signup\t\t- emitted when the user completes a successful sign-up\n    //   signout\t\t- emitted when the user competes a successful sign-out\n    //   canceled\t\t- emitted when the user purposefully exits sign-in/up\n    //   connected\t\t- emitted when the connection is opened\n    //   disconnected\t- emitted when the connection is closed\n    this.child.msg_bus.on(\"alert\", (event, ...args) => {\n      this.emit(event);\n    });\n\n    this.iframe = document.getElementsByClassName(\"comb-frame-0\")[0];\n    this.iframe.setAttribute('allowtransparency', 'true');\n\n    const style = this.iframe.style;\n    style.zIndex = \"99999999\";\n    style.width = \"100%\";\n    style.height = \"100%\";\n    style.position = \"absolute\";\n    style.top = \"0\";\n    style.left = \"0\";\n    style.display = \"none\";\n  }\n\n  async context() {\n    return Connection.HOSTED_ANONYMOUS;\n  }\n\n  async zomeCall(...args) {\n    const response = await this.child.call(\"zomeCall\", ...args);\n    return response;\n  }\n\n  async appInfo(...args) {\n    const response = await this.child.call(\"appInfo\", ...args);\n    return response;\n  }\n\n  async signUp() {\n    this.iframe.style.display = \"block\";\n    const result = await this.child.call(\"signUp\");\n    this.iframe.style.display = \"none\";\n    return result;\n  }\n\n  async signIn() {\n    this.iframe.style.display = \"block\";\n    const result = await this.child.call(\"signIn\");\n    this.iframe.style.display = \"none\";\n    return result;\n  }\n\n  async signOut() {\n    return await this.child.run(\"signOut\");\n  }\n\n  async holoInfo() {\n    return await this.child.run(\"holoInfo\");\n  }\n}\n\nConnection.AUTONOMOUS = 1;\nConnection.HOSTED_ANONYMOUS = 2;\nConnection.HOSTED_AGENT = 3;\n\nmodule.exports = {\n  Connection,\n};\n","export var AppStatusFilter;\n(function (AppStatusFilter) {\n    AppStatusFilter[\"Active\"] = \"active\";\n    AppStatusFilter[\"Inactive\"] = \"inactive\";\n})(AppStatusFilter || (AppStatusFilter = {}));\n;\n//# sourceMappingURL=admin.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport Websocket from \"isomorphic-ws\";\nimport { encode, decode } from \"@msgpack/msgpack\";\n/**\n * A Websocket client which can make requests and receive responses,\n * as well as send and receive signals\n *\n * Uses Holochain's websocket WireMessage for communication.\n */\nexport class WsClient {\n    constructor(socket, signalCb) {\n        this.socket = socket;\n        this.pendingRequests = {};\n        this.index = 0;\n        // TODO: allow adding signal handlers later\n        this.alreadyWarnedNoSignalCb = false;\n        socket.onmessage = (encodedMsg) => __awaiter(this, void 0, void 0, function* () {\n            let data = encodedMsg.data;\n            // If data is not a buffer (nodejs), it will be a blob (browser)\n            if (typeof Buffer === \"undefined\" || !Buffer.isBuffer(data)) {\n                data = yield data.arrayBuffer();\n            }\n            const msg = decode(data);\n            if (msg.type === \"Signal\") {\n                if (signalCb) {\n                    const decodedMessage = decode(msg.data);\n                    // Note: holochain currently returns signals as an array of two values: cellId and the serialized signal payload\n                    // and this array is nested within the App key within the returned message.\n                    const decodedCellId = decodedMessage.App[0];\n                    // Note:In order to return readible content to the UI, the signal payload must also be decoded.\n                    const decodedPayload = signalTransform(decodedMessage.App[1]);\n                    // Return a uniform format to UI (ie: { type, data } - the same format as with callZome and appInfo...)\n                    const signal = {\n                        type: msg.type,\n                        data: { cellId: decodedCellId, payload: decodedPayload },\n                    };\n                    signalCb(signal);\n                }\n                else {\n                    if (!this.alreadyWarnedNoSignalCb)\n                        console.log(`Received signal but no signal callback was set in constructor`);\n                    this.alreadyWarnedNoSignalCb = true;\n                }\n            }\n            else if (msg.type === \"Response\") {\n                this.handleResponse(msg);\n            }\n            else {\n                console.error(`Got unrecognized Websocket message type: ${msg.type}`);\n            }\n        });\n    }\n    emitSignal(data) {\n        const encodedMsg = encode({\n            type: \"Signal\",\n            data: encode(data),\n        });\n        this.socket.send(encodedMsg);\n    }\n    request(data) {\n        let id = this.index;\n        this.index += 1;\n        const encodedMsg = encode({\n            id,\n            type: \"Request\",\n            data: encode(data),\n        });\n        const promise = new Promise((fulfill, reject) => {\n            this.pendingRequests[id] = { fulfill, reject };\n        });\n        if (this.socket.readyState === this.socket.OPEN) {\n            this.socket.send(encodedMsg);\n        }\n        else {\n            return Promise.reject(new Error(`Socket is not open`));\n        }\n        return promise;\n    }\n    handleResponse(msg) {\n        const id = msg.id;\n        if (this.pendingRequests[id]) {\n            // resolve response\n            if (msg.data === null || msg.data === undefined) {\n                this.pendingRequests[id].reject(new Error(`Response canceled by responder`));\n            }\n            else {\n                this.pendingRequests[id].fulfill(decode(msg.data));\n            }\n        }\n        else {\n            console.error(`Got response with no matching request. id=${id}`);\n        }\n    }\n    close() {\n        this.socket.close();\n        return this.awaitClose();\n    }\n    awaitClose() {\n        return new Promise((resolve) => this.socket.on(\"close\", resolve));\n    }\n    static connect(url, signalCb) {\n        return new Promise((resolve, reject) => {\n            const socket = new Websocket(url);\n            // make sure that there are no uncaught connection\n            // errors because that causes nodejs thread to crash\n            // with uncaught exception\n            socket.onerror = (e) => {\n                reject(new Error(`could not connect to holochain conductor, please check that a conductor service is running and available at ${url}`));\n            };\n            socket.onopen = () => {\n                resolve(new WsClient(socket, signalCb));\n            };\n        });\n    }\n}\nconst signalTransform = (res) => {\n    return decode(res);\n};\n//# sourceMappingURL=client.js.map","const ERROR_TYPE = 'error';\nexport const DEFAULT_TIMEOUT = 15000;\nexport const catchError = (res) => {\n    return res.type === ERROR_TYPE\n        ? Promise.reject(res)\n        : Promise.resolve(res);\n};\nexport const promiseTimeout = (promise, tag, ms) => {\n    let id;\n    let timeout = new Promise((resolve, reject) => {\n        id = setTimeout(() => {\n            clearTimeout(id);\n            reject(new Error(`Timed out in ${ms}ms: ${tag}`));\n        }, ms);\n    });\n    return new Promise((res, rej) => {\n        Promise.race([\n            promise,\n            timeout\n        ]).then((a) => {\n            clearTimeout(id);\n            return res(a);\n        })\n            .catch(e => {\n            return rej(e);\n        });\n    });\n};\n//# sourceMappingURL=common.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/**\n * Take a Requester function which deals with tagged requests and responses,\n * and return a Requester which deals only with the inner data types, also\n * with the optional Transformer applied to further modify the input and output.\n */\nexport const requesterTransformer = (requester, tag, transform = identityTransformer) => ((req, timeout) => __awaiter(void 0, void 0, void 0, function* () {\n    const input = { type: tag, data: transform.input(req) };\n    const response = yield requester(input, timeout);\n    const output = transform.output(response.data);\n    return output;\n}));\nconst identity = x => x;\nconst identityTransformer = {\n    input: identity,\n    output: identity,\n};\n//# sourceMappingURL=common.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/**\n * Defines AppWebsocket, an easy-to-use websocket implementation of the\n * Conductor API for apps\n *\n *    const client = AppWebsocket.connect(\n *      'ws://localhost:9000',\n *      signal => console.log('got a signal:', signal)\n *    )\n *\n *    client.callZome({...})  // TODO: show what's in here\n *      .then(() => {\n *        console.log('DNA successfully installed')\n *      })\n *      .catch(err => {\n *        console.error('problem installing DNA:', err)\n *      })\n */\nimport { encode, decode } from '@msgpack/msgpack';\nimport { WsClient } from './client';\nimport { catchError, promiseTimeout, DEFAULT_TIMEOUT } from './common';\nimport { requesterTransformer } from '../api/common';\nexport class AppWebsocket {\n    constructor(client, defaultTimeout) {\n        this._requester = (tag, transformer) => requesterTransformer((req, timeout) => promiseTimeout(this.client.request(req), tag, timeout || this.defaultTimeout).then(catchError), tag, transformer);\n        this.appInfo = this._requester('app_info');\n        this.callZome = this._requester('zome_call_invocation', callZomeTransform);\n        this.client = client;\n        this.defaultTimeout = defaultTimeout === undefined ? DEFAULT_TIMEOUT : defaultTimeout;\n    }\n    static connect(url, defaultTimeout, signalCb) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const wsClient = yield WsClient.connect(url, signalCb);\n            return new AppWebsocket(wsClient, defaultTimeout);\n        });\n    }\n}\nconst callZomeTransform = {\n    input: (req) => {\n        return Object.assign(Object.assign({}, req), { payload: encode(req.payload) });\n    },\n    output: (res) => {\n        return decode(res);\n    }\n};\n//# sourceMappingURL=app.js.map","import { Connection } from '@holo-host/web-sdk';\nimport * as ConductorApi from '@holochain/conductor-api';\n\nclass HoloClient {\n    constructor(connection, cellData, branding) {\n        this.connection = connection;\n        this.cellData = cellData;\n        this.branding = branding;\n    }\n    get cellId() {\n        return this.cellData.cell_id;\n    }\n    async callZome(zomeName, fnName, payload) {\n        const result = await this.connection.zomeCall(this.cellData.cell_nick, zomeName, fnName, payload);\n        if (result && result.type === \"error\") {\n            throw new Error(result.payload.message);\n        }\n        return result;\n    }\n    async addSignalHandler(signalHandler) {\n        new Connection(this.connection.chaperone_url.origin, signalHandler, this.branding);\n        return {\n            unsubscribe: () => {\n                // TODO: disconnect connection\n            },\n        };\n    }\n}\n\nclass HolochainClient {\n    constructor(appWebsocket, cellData) {\n        this.appWebsocket = appWebsocket;\n        this.cellData = cellData;\n    }\n    get cellId() {\n        return this.cellData.cell_id;\n    }\n    callZome(zomeName, fnName, payload) {\n        return this.appWebsocket.callZome({\n            cap: null,\n            cell_id: this.cellId,\n            zome_name: zomeName,\n            fn_name: fnName,\n            payload: payload,\n            provenance: this.cellId[1],\n        });\n    }\n    async addSignalHandler(signalHandler) {\n        const appWs = await ConductorApi.AppWebsocket.connect(this.appWebsocket.client.socket.url, 15000, signalHandler);\n        return {\n            unsubscribe: () => {\n                appWs.client.close();\n            },\n        };\n    }\n}\n\nexport { HoloClient, HolochainClient };\n//# sourceMappingURL=index.js.map\n","import { AdminWebsocket, AppWebsocket } from '@holochain/conductor-api';\nimport { HolochainClient } from '@holochain-open-dev/cell-client';\nimport { createSynStore } from '@syn/store';\n\n// definition of how to apply a delta to the content\n// if the delta is destructive also returns what was\n// destroyed for use by undo\nfunction applyDelta(content, delta) {\n  console.log(content, delta);\n  switch (delta.type) {\n    case 'Title': {\n      const deleted = content.title;\n      content.title = delta.value;\n      return content;\n    }\n    case 'Add': {\n      const [loc, text] = delta.value;\n      console.log(content.body.slice(0, loc) + text + content.body.slice(loc));\n      content.body =\n        content.body.slice(0, loc) + text + content.body.slice(loc);\n      return content;\n    }\n    case 'Delete': {\n      const [start, end] = delta.value;\n      const deleted = content.body.slice(start, end);\n      content.body = content.body.slice(0, start) + content.body.slice(end);\n      return content;\n    }\n    case 'Meta': {\n      const [tag, loc] = delta.value.setLoc;\n      const deleted = [tag, content.meta[tag]];\n      content.meta[tag] = loc;\n      return content;\n    }\n  }\n}\n\n// definition of how to undo a change, returns a delta that will undo the change\nfunction undo(change) {\n  const delta = change.delta;\n  switch (delta.type) {\n    case 'Title':\n      return { type: 'Title', value: change.deleted };\n      break;\n    case 'Add':\n      const [loc, text] = delta.value;\n      return { type: 'Delete', value: [loc, loc + text.length] };\n      break;\n    case 'Delete':\n      const [start, end] = delta.value;\n      return { type: 'Add', value: [start, change.deleted] };\n      break;\n    case 'Meta':\n      return { type: 'Meta', value: { setLoc: change.deleted } };\n  }\n} \n\nexport async function createStore() {\n  const appWebsocket = await AppWebsocket.connect(\n    `ws://localhost:${process.env.HC_PORT}`\n  );\n\n  const cellData = await appWebsocket.appInfo({\n    installed_app_id: 'syn',\n  });\n\n  const client = new HolochainClient(appWebsocket, cellData.cell_data[0]);\n\n  return createSynStore(client, { title: '', body: '', meta: {} }, applyDelta);\n}\n","<script>\n  import Editor from './Editor.svelte';\n  import Title from './Title.svelte';\n  import Debug from './Debug.svelte';\n  import History from './History.svelte';\n  import { content, scribeStr } from './stores.js';\n  import { SynContext, SynFolks } from '@syn/elements';\n  import { createStore } from './syn';\n  import { setContext } from 'svelte';\n\n  $: disconnected = false;\n\n  // definition of how to convert a change to text for the history renderer\n  function changeToText(change) {\n    let delta = change.delta;\n    let detail;\n    switch (delta.type) {\n      case 'Add':\n        detail = `${delta.value[1]}@${delta.value[0]}`;\n        break;\n      case 'Delete':\n        detail = `${change.deleted}@${delta.value[0]}`;\n        break;\n      case 'Title':\n        detail = `${change.deleted}->${delta.value}`;\n        break;\n      case 'Meta':\n        detail = '';\n    }\n    return `${delta.type}:\\n${detail}`;\n  }\n\n  $: noscribe = $scribeStr === '';\n  let syn;\n\n  // The debug drawer's ability to resized and hidden\n  let resizeable;\n  let resizeHandle;\n  const minDrawerSize = 0;\n  const maxDrawerSize = document.documentElement.clientHeight - 30 - 10;\n  const initResizeable = resizeableEl => {\n    resizeableEl.style.setProperty('--max-height', `${maxDrawerSize}px`);\n    resizeableEl.style.setProperty('--min-height', `${minDrawerSize}px`);\n  };\n\n  const setDrawerHeight = height => {\n    document.documentElement.style.setProperty(\n      '--resizeable-height',\n      `${height}px`\n    );\n  };\n  const getDrawerHeight = () => {\n    const pxHeight = getComputedStyle(resizeable).getPropertyValue(\n      '--resizeable-height'\n    );\n    return parseInt(pxHeight, 10);\n  };\n\n  const startDragging = event => {\n    event.preventDefault();\n    const host = resizeable;\n    const startingDrawerHeight = getDrawerHeight();\n    const yOffset = event.pageY;\n\n    const mouseDragHandler = moveEvent => {\n      moveEvent.preventDefault();\n      const primaryButtonPressed = moveEvent.buttons === 1;\n      if (!primaryButtonPressed) {\n        setDrawerHeight(\n          Math.min(Math.max(getDrawerHeight(), minDrawerSize), maxDrawerSize)\n        );\n        window.removeEventListener('pointermove', mouseDragHandler);\n        return;\n      }\n      setDrawerHeight(\n        Math.min(\n          Math.max(\n            yOffset - moveEvent.pageY + startingDrawerHeight,\n            minDrawerSize\n          ),\n          maxDrawerSize\n        )\n      );\n    };\n    const remove = window.addEventListener('pointermove', mouseDragHandler);\n  };\n\n  let drawerHidden = false;\n  const hideDrawer = () => {\n    drawerHidden = true;\n  };\n  const showDrawer = () => {\n    drawerHidden = false;\n  };\n\n  let tabShown = false;\n  const showTab = () => {\n    tabShown = true;\n  };\n  const hideTab = () => {\n    tabShown = false;\n  };\n\n  let synStore;\n  createStore().then(store => {\n    store.newSession().then(()=>{\n\n      synStore = store;\n    });\n  });\n  $: synStore;\n\n  customElements.define('syn-context', SynContext);\n  customElements.define('syn-folks', SynFolks);\n\n  setContext('store', {\n    getStore: () => synStore,\n  });\n</script>\n\n<svelte:head>\n  <script\n    src=\"https://kit.fontawesome.com/80d72fa568.js\"\n    crossorigin=\"anonymous\"></script>\n</svelte:head>\n\n{#if synStore}\n  <div class=\"toolbar\">\n    <h1>SynText</h1>\n    <div class:noscribe>\n      <Title\n        on:requestChange={event =>\n          synStore.activeSession.requestChange([event.detail])}\n      />\n    </div>\n  </div>\n  <main>\n    <div class:noscribe>\n      <Editor on:requestChange={event => syn.requestChange(event.detail)} />\n    </div>\n  </main>\n\n  <div class=\"folks-tray\">\n    <syn-context store={synStore}>\n      <syn-folks />\n    </syn-context>\n  </div>\n\n  <div\n    class=\"tab\"\n    class:shown={tabShown}\n    class:drawer-hidden={drawerHidden}\n    on:mouseenter={showTab}\n    on:mouseleave={hideTab}\n  >\n    <div\n      class=\"tab-inner\"\n      class:shown={tabShown}\n      on:click={drawerHidden ? showDrawer() : hideDrawer()}\n    >\n      <i\n        class:drawer-hidden={drawerHidden}\n        class=\"tab-icon fas {drawerHidden\n          ? 'fa-chevron-up'\n          : 'fa-chevron-down'}\"\n      />\n    </div>\n  </div>\n  <div\n    class=\"debug-drawer\"\n    bind:this={resizeable}\n    use:initResizeable\n    on:mouseenter={showTab}\n    on:mouseleave={hideTab}\n    class:hidden={drawerHidden}\n  >\n    <div class=\"handle\" bind:this={resizeHandle} on:mousedown={startDragging} />\n    <div class=\"debug-content\">\n      <History changeToTextFn={changeToText} />\n      <Debug />\n    </div>\n  </div>\n{/if}\n\n<style>\n  main {\n    padding: 1em;\n    background: hsla(100, 20%, 50%, 0.2);\n    grid-column: 1 / 2;\n  }\n\n  .toolbar {\n    background: hsla(19, 20%, 50%, 0.2);\n    padding: 2rem;\n    grid-column: 1 / 2;\n  }\n\n  .folks-tray {\n    min-width: calc((var(--folks-padding) * 2) + var(--folk-hex-width));\n    width: auto;\n    background: hsla(255, 20%, 50%, 0.2);\n    grid-column: 2 / 3;\n    grid-row: 1/4;\n  }\n\n  :global(:root) {\n    --resizeable-height: 200px;\n    --tab-width: 60px;\n  }\n\n  .debug-drawer {\n    width: 100%;\n    box-sizing: border-box;\n    height: var(--resizeable-height);\n    min-height: var(--min-height);\n    max-height: var(--max-height);\n    background: hsla(180, 30%, 85%, 1);\n    position: absolute;\n    bottom: 0;\n    text-align: left;\n    grid-column: 1 / 2;\n    overflow: hidden;\n    z-index: 90;\n  }\n\n  .hidden {\n    height: 0;\n    min-height: 0;\n  }\n\n  .handle {\n    height: 1px;\n    width: 100%;\n    background-color: hsla(180, 15%, 65%, 1);\n    z-index: 100;\n  }\n\n  .handle::after {\n    content: '';\n    height: 9px;\n    position: absolute;\n    left: 0;\n    right: 0;\n    margin-bottom: -4px;\n    background-color: transparent;\n    cursor: ns-resize;\n    z-index: 101;\n  }\n\n  /* tab styling reverse-engineered from Atom */\n  .tab {\n    z-index: 130;\n    position: absolute;\n    width: var(--tab-width);\n    height: calc(var(--tab-width) / 2);\n    left: calc(50% - (var(--tab-width) / 2));\n    bottom: var(--resizeable-height);\n    overflow: hidden;\n    margin-bottom: -2px;\n    border-top-left-radius: calc(var(--tab-width) / 2);\n    border-top-right-radius: calc(var(--tab-width) / 2);\n\n    pointer-events: none;\n  }\n\n  .tab-inner {\n    position: absolute;\n    box-sizing: border-box; /* borders included in size */\n    width: var(--tab-width);\n    height: var(--tab-width);\n    background: hsla(180, 30%, 85%);\n    border: 1px solid hsla(180, 20%, 65%, 1);\n    color: hsla(180, 20%, 50%, 1); /* color of chevron */\n    border-radius: calc(var(--tab-width) / 2);\n    cursor: pointer;\n    text-align: center;\n\n    top: calc(var(--tab-width) / 2);\n    transition: transform 0.2s ease-out 0.2s;\n  }\n\n  .tab.shown {\n    pointer-events: all;\n  }\n\n  .tab-inner.shown {\n    transform: translateY(-50%);\n    transition: transform 0.2s ease-out 0s;\n  }\n\n  /* allow the tab to pop up when drawer is hidden */\n  .tab.drawer-hidden {\n    bottom: 0;\n    pointer-events: all;\n  }\n\n  .tab-icon {\n    margin-top: 9px;\n  }\n\n  .debug-content {\n    padding: 1rem;\n    word-wrap: break-word;\n    height: 100%;\n    overflow-y: scroll;\n    box-sizing: border-box;\n    z-index: 90;\n  }\n\n  body {\n    font-family: system-ui, sans-serif;\n  }\n\n  h1 {\n    color: #ff3e00;\n    text-transform: uppercase;\n    font-size: 4em;\n    font-weight: 100;\n    margin: auto;\n  }\n\n  @media (min-width: 640px) {\n    main {\n      max-width: none;\n    }\n  }\n</style>\n","import App from './App.svelte'\n\nconst app = new App({\n\ttarget: document.body,\n\tprops: {\n\t}\n});\n\nexport default app\n"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","src_url_equal_anchor","current_component","subscribe","store","callbacks","unsub","unsubscribe","get_store_value","value","_","component_subscribe","component","callback","$$","on_destroy","push","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","element","name","document","createElement","text","data","createTextNode","space","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","removeAttribute","getAttribute","setAttribute","set_custom_element_data","prop","set_data","wholeText","set_input_value","input","toggle_class","toggle","classList","set_current_component","get_current_component","Error","createEventDispatcher","type","detail","bubbles","e","createEvent","initCustomEvent","custom_event","slice","call","getContext","key","context","get","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","schedule_update","then","flush","add_render_callback","flushing","seen_callbacks","Set","i","length","update","pop","has","add","clear","fragment","before_update","dirty","p","ctx","after_update","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","delete","transition_out","o","d","globals","window","globalThis","global","create_component","mount_component","customElement","on_mount","m","new_on_destroy","map","filter","destroy_component","detaching","init","instance","create_fragment","not_equal","props","append_styles","parent_component","bound","on_disconnect","Map","skip_bound","root","ready","ret","rest","fill","make_dirty","hydrate","nodes","Array","from","childNodes","children","l","intro","SvelteComponent","$destroy","this","$on","index","indexOf","splice","$set","$$props","obj","$$set","keys","subscriber_queue","readable","start","writable","stop","subscribers","set","new_value","run_queue","subscriber","invalidate","size","derived","stores","initial_value","single","isArray","stores_array","auto","inited","values","pending","cleanup","sync","result","unsubscribers","session","connection","scribeStr","requestedChanges","recordedChanges","committedChanges","nextIndex","g","done","ShadowRoot","prototype","y","h","HTMLElement","customElements","define","n","WeakMap","q","t","CustomElementRegistry","toLowerCase","j","DOMException","attributeChangedCallback","observedAttributes","u","connectedCallback","disconnectedCallback","adoptedCallback","v","s","Symbol","iterator","next","w","upgrade","x","apply","arguments","whenDefined","promise","constructor","TypeError","Reflect","construct","setPrototypeOf","getRootNode","f","k","C","z","getPrototypeOf","hasAttribute","isConnected","A","Element","attachShadow","B","D","getOwnPropertyDescriptor","defineProperty","assign","configurable","self","appliedClassMixins","ShadyCSS","nativeShadow","Document","CSSStyleSheet","_$cssResult$","cssText","styleSheet","replaceSync","toString","reduce","S","adoptedStyleSheets","textContent","cssRules","ScopedElementsMixin","mixin","superclass","scopedElements","shadowRootOptions","__shadowRootOptions","elementStyles","__elementStyles","styles","_args","super","renderOptions","undefined","registry","__registry","createRenderRoot","entries","tagName","klass","mode","creationScope","adoptStyles","defineScopedElement","getScopedTagName","superClass","wasMixinPreviouslyApplied","mixedClass","toAttribute","Boolean","JSON","stringify","fromAttribute","Number","parse","String","converter","reflect","hasChanged","_$Et","isUpdatePending","hasUpdated","_$Ei","addInitializer","finalize","elementProperties","_$Eh","_$Eu","createProperty","state","noAccessor","hasOwnProperty","getPropertyDescriptor","requestUpdate","enumerable","getPropertyOptions","finalized","properties","getOwnPropertyNames","getOwnPropertySymbols","finalizeStyles","flat","reverse","unshift","_$Ev","enableUpdating","_$AL","_$Ep","addController","_$Em","renderRoot","hostConnected","removeController","shadowRoot","hostDisconnected","_$AK","_$Eg","_$ES","_$EC","reject","performUpdate","shouldUpdate","willUpdate","hostUpdate","_$E_","_$AE","hostUpdated","firstUpdated","updated","updateComplete","getUpdateComplete","reactiveElementPlatformSupport","ReactiveElement","reactiveElementVersions","trustedTypes","createPolicy","createHTML","Math","random","createComment","$","T","_$litType$","strings","for","V","createTreeWalker","M","parts","lastIndex","exec","test","RegExp","startsWith","E","el","currentNode","content","firstChild","remove","nextNode","nodeType","hasAttributes","getAttributeNames","endsWith","split","ctor","I","L","R","H","emptyScript","innerHTML","N","_$Cl","_$Cu","_$litDirective$","_$AO","_$AT","_$AS","_$AN","_$AD","_$AM","_$AU","importNode","nextSibling","_$AI","_$C_","_$AA","_$AB","startNode","endNode","_$AH","_$AR","previousSibling","_$AC","_$AP","setConnected","P","capture","once","passive","handleEvent","host","litHtmlPlatformSupport","litHtmlVersions","_$Dt","renderBefore","render","_$litPart$","_$litElement$","litElementHydrateSupport","LitElement","litElementPlatformSupport","litElementVersions","kind","descriptor","finisher","placement","originalKey","initializer","Event","composed","multiple","initialValue","_$Ct","_$Ci","updateContext","setValue","addCallback","clearCallbacks","onContextRequest","stopPropagation","provided","setTimeout","dispatchEvent","dispose","StoreController","_unsubscribe","DynamicStore","getStore","resubscribe","_previousStore","synContext","createContext","synSessionContext","__decorate","decorators","desc","decorate","SynSession","_a","html","provide","synStore","sessionStore","sessionHash","css","property","contextProvided","SynContext","cv","_activeSession","activeSession","_b","hash","replace","style","ct","includes","removeProperty","setProperty","join","st","CSSifyHSL","hslArray","SynFolk","isScribe","classMap","folk","scribe","inSession","styleMap","colors","primary","hexagon","pubKey","sharedStyles","HeaderType","DHTOpType","DetailsType","ChainStatus","EntryDhtStatus","SynFolks","_folks","folks","syn","myPubKey","myColors","lastSeen","Date","now","info","RegisterAgentActivity","StoreEntry","StoreElement","RegisterUpdatedContent","RegisterUpdatedElement","RegisterDeletedEntryHeader","RegisterDeletedBy","RegisterAddLink","RegisterRemoveLink","_hasbtoa","btoa","_hasBuffer","Buffer","b64chs","TextDecoder","TextEncoder","_fromCC","tab","fromCharCode","bind","_mkUriSafe","Uint8Array","src","m0","btoaPolyfill","bin","u32","c0","c1","c2","asc","pad","charCodeAt","substring","_btoa","_fromUint8Array","u8a","strs","subarray","fromUint8Array","urlsafe","gBase64","ValidationStatus","UINT32_MAX","setInt64","view","offset","high","floor","low","setUint32","getInt64","getInt32","getUint32","TEXT_ENCODING_AVAILABLE","process","env","utf8Count","str","strLength","byteLength","pos","extra","sharedTextEncoder","TEXT_ENCODER_THRESHOLD","utf8EncodeTE","encodeInto","output","outputOffset","encode","utf8DecodeJs","bytes","inputOffset","end","units","byte1","byte2","byte3","unit","sharedTextDecoder","TEXT_DECODER_THRESHOLD","extendStatics","ExtData","__extends","__proto__","__","DecodeError","_super","message","_this","proto","timestampExtension","object","msec","sec","nsec","nsecInSec","rv","DataView","buffer","secHigh","secLow","encodeTimeSpecToTimestamp","getTime","decode","timeSpec","byteOffset","nsec30AndSecHigh2","decodeTimestampToTimeSpec","ExtensionCodec","builtInEncoders","builtInDecoders","encoders","decoders","register","tryToEncode","encodeExt","decodeExt","defaultCodec","ensureUint8Array","ArrayBuffer","isView","Encoder","extensionCodec","maxDepth","initialBufferSize","sortKeys","forceFloat32","ignoreUndefined","forceIntegerToFloat","getUint8Array","reinitializeState","doEncode","depth","encodeNil","encodeBoolean","encodeNumber","encodeString","encodeObject","ensureBufferSizeToWrite","sizeToWrite","requiredSize","resizeBuffer","newSize","newBuffer","newBytes","newView","writeU8","isSafeInteger","writeU16","writeU32","writeU64","writeI8","writeI16","writeI32","writeI64","writeF32","writeF64","writeStringHeader","utf8EncodeJs","ext","encodeExtension","encodeArray","encodeBinary","encodeMap","writeU8a","_i","object_1","item","countWithoutUndefined","count","keys_1","sort","keys_2","setUint8","setInt8","setUint16","setInt16","setInt32","setFloat32","setFloat64","setUint64","defaultEncodeOptions","prettyByte","byte","abs","padStart","CachedKeyDecoder","maxKeyLength","maxLengthPerKey","hit","miss","caches","canBeCached","find","FIND_CHUNK","records_1","record","recordBytes","records","cachedValue","slicedCopyOfBytes","__awaiter","thisArg","_arguments","generator","fulfilled","step","rejected","__generator","body","label","sent","trys","ops","verb","throw","return","op","__asyncValues","asyncIterator","__values","settle","__await","__asyncGenerator","resume","fulfill","shift","EMPTY_VIEW","EMPTY_BYTES","DataViewIndexOutOfBoundsError","getInt8","MORE_DATA","sharedCachedKeyDecoder","Decoder","maxStrLength","maxBinLength","maxArrayLength","maxMapLength","maxExtLength","keyDecoder","totalPos","headByte","stack","setBuffer","bufferView","createDataView","appendBuffer","hasRemaining","remainingData","newData","createExtraByteError","posToShow","RangeError","doDecodeSync","decodeMulti","decodeAsync","stream","stream_1","stream_1_1","e_1","decoded","e_1_1","_c","error","decodeArrayStream","decodeMultiAsync","decodeStream","isArrayHeaderRequired","arrayItemsLeft","stream_2","stream_2_1","e_2","e_3_1","e_3","readArraySize","complete","DECODE","readHeadByte","pushMapState","pushArrayState","decodeUtf8String","readF32","readF64","readU8","readU16","readU32","readU64","readI8","readI16","readI32","readI64","lookU8","lookU16","lookU32","decodeBinary","decodeExtension","array","position","keyType","readCount","headerOffset","stateIsMapKey","stringBytes","utf8DecodeTD","headOffset","extType","getUint8","getUint16","getInt16","getFloat32","getFloat64","defaultDecodeOptions","freeSelf","freeGlobal","Function","objectProto","nativeObjectToString","symToStringTag","toStringTag","baseGetTag","isOwn","tag","unmasked","getRawTag","objectToString","isObjectLike","isObject","identity","isFunction","uid","maskSrcKey","coreJsData","IE_PROTO","funcToString","toSource","func","reIsHostCtor","funcProto","reIsNative","baseIsNative","getNative","getValue","objectCreate","args","copyArray","source","nativeNow","lastCalled","string","stamp","remaining","reIsUint","isIndex","baseAssignValue","eq","other","assignValue","objValue","copyObject","customizer","isNew","newValue","nativeMax","max","baseRest","setToString","transform","otherArgs","overRest","isLength","isArrayLike","isPrototype","Ctor","baseIsArguments","propertyIsEnumerable","freeExports","exports","freeModule","module","isBuffer","typedArrayTags","baseUnary","freeProcess","types","require","binding","nodeIsTypedArray","nodeUtil","isTypedArray","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","iteratee","baseTimes","overArg","arg","nativeKeys","baseKeys","baseKeysIn","nativeKeysIn","isProto","keysIn","Hash","entry","assocIndexOf","__data__","nativeCreate","ListCache","getMapData","MapCache","arrayPush","objectCtorString","Stack","pairs","LARGE_ARRAY_SIZE","allocUnsafe","cloneBuffer","isDeep","copy","stubArray","nativeGetSymbols","predicate","resIndex","arrayFilter","symbol","getSymbols","getPrototype","baseGetAllKeys","keysFunc","symbolsFunc","getAllKeys","getAllKeysIn","getSymbolsIn","mapTag","promiseTag","setTag","weakMapTag","dataViewTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ctorString","cloneArrayBuffer","arrayBuffer","reFlags","symbolProto","symbolValueOf","valueOf","cloneTypedArray","typedArray","initCloneByTag","regexp","dataView","cloneDataView","initCloneObject","baseCreate","nodeIsMap","isMap","nodeIsSet","isSet","argsTag","funcTag","objectTag","cloneableTags","baseClone","bitmask","isFlat","isFull","initCloneArray","isFunc","copySymbolsIn","baseAssignIn","copySymbols","baseAssign","stacked","subValue","arrayEach","SetCache","arraySome","equalArrays","equalFunc","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","mapToArray","setToArray","arrayTag","baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","convert","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","objLength","objStacked","skipCtor","objCtor","othCtor","equalObjects","baseIsEqual","fromRight","iterable","assignMergeValue","safeGet","baseMergeDeep","srcIndex","mergeFunc","srcValue","isCommon","isTyped","isPlainObject","toPlainObject","baseMerge","baseFor","assigner","SynMessageType","sources","guard","isIterateeCall","allMessageTypes","SyncReq","SyncResp","ChangeReq","ChangeNotice","CommitNotice","Heartbeat","FolkLore","deepDecodeUint8Arrays","SynClient","cellClient","handleSignal","zomeName","addSignalHandler","signal","console","log","cellId","payload","close","putSnapshot","callZome","getSnapshot","snapshotHash","commit","commitInput","changes","encodeChangeBundle","hashContent","getSession","sessionInfo","decodeSessionInfo","newSession","newSessionInput","getSessions","getFolks","sendFolkLore","sendFolkLoreInput","sendSyncRequest","syncRequestInput","sendSyncResponse","syncResponseInput","missedCommits","encodeCommit","uncommittedChanges","sendChangeRequest","changeRequestInput","deltas","sendChange","sendChangeInput","sendHeartbeat","heartbeatInput","fnName","commits","decodeCommit","snapshot","amIScribe","synState","selectScribe","joinedSessions","selectSession","selectLastCommitTime","selectLatestCommit","createdAt","commitHash","selectLatestCommitHash","commitHashes","selectLatestCommittedContentHash","latestCommit","newContentHash","selectCurrentSessionIndex","sessionWorkspace","atSessionIndex","selectFolksInSession","getFolkColors","hexColor","hexString","arrayBufferToHex","hsl","min","rgbToHsl","parseInt","substr","selection","lookingSelection","lookingCursor","putJustSeenFolks","orderCommits","initialContentHash","byPreviousContentHash","previousContentHash","orderedCommits","contentHash","applyCommits","initialContent","applyDeltaFn","applyChangeBundle","changeBundle","delta","buildCommitFromUncommitted","lastCommitHash","previousCommitHashes","meta","appSpecific","witnesses","putNewCommit","newCommitHash","newSessionIndex","authors","async","commitChanges","workspace","client","currentContent","participants","sessionSnapshot","triggerCommitIfNecessary","uncommittedChangesCount","config","commitStrategy","CommitEveryNDeltas","putDeltas","author","atFolkIndex","previousSessionIndex","authorChanges","sessionChanges","handleFolkLore","folklore","gone","goneFolks","goneFolk","putGoneFolks","notifyGoneFolks","outOfSessionTimeout","updateGoneFolks","joinSession","orderedCommitHashes","myFolkIndex","prerequestContent","lastSessionIndexSeen","activeSessionHash","folkRequestChange","CLONE_DEEP_FLAG","newRequestedChanges","atDate","currentSessionIndex","checkRequestedChanges","requestTimeout","handleChangeNotice","warn","newFolkChanges","folkChanges","myChanges","leftRequestedChanges","requestedChange","clearRequested","requestSyncInput","latestSeenSessionIndex","selectAllCommits","selectMissedCommits","syncState","uncommittedDeltaIndex","selectMissedUncommittedChanges","participant","handleSyncRequest","stateForSync","missedCommitHashes","missedCommitHash","lastSeenIndex","merge","commitArray","handleSyncResponse","changeRequest","handleChangeRequest","commitNotice","latestCommittedContentHash","committedDeltasCount","handleCommitNotice","fromFolk","handleHeartbeat","SyncStrategy","AppStatusFilter","heartbeat","requestChange","scribeRequestChange","buildSessionStore","leave","createSynStore","fullConfig","hearbeatInterval","CommitEveryNMs","syncStrategy","BlockOnConflict","Base64","snapshots","initialState","cancel","intervals","heartbeatInterval","setInterval","checkRequestInterval","commitInterval","latestCommitTime","clearInterval","initBackgroundTasks","getAllSessions","fromSnapshot","unnest","arr","subscribe_cleanup","getLoc","$content","editor","cursor","addText","$session","loc","myTag","tagLoc","setLoc","editor_content1","editor_content2","$connection","getSelection","focusOffset","focusNode","parentElement","lastChild","title","titleBeingTyped","titleEl","untitled","titleHover","editingTitle","saveTitle","focus","Dna","contentHashStr","status","iterations","requestedH","recordedH","committedH","changeToTextFn","changesToEntriesList","entriesList","historyEntries","entryElem","getElementsByClassName","scrollIntoView","$requestedChanges","$recordedChanges","$committedChanges","ws","WebSocket","MozWebSocket","TEXT_ENCODING","STR_SIZE_MAX","TEXT_DECODER","DEFAULT_MAX_LENGTH","concated","WsClient","socket","signalCb","pendingRequests","alreadyWarnedNoSignalCb","onmessage","encodedMsg","msg","decodedMessage","decodedCellId","App","decodedPayload","signalTransform","handleResponse","emitSignal","send","request","id","readyState","OPEN","awaitClose","on","connect","url","Websocket","onerror","onopen","res","catchError","identityTransformer","AppWebsocket","defaultTimeout","_requester","transformer","requester","req","timeout","response","requesterTransformer","ms","clearTimeout","rej","race","catch","promiseTimeout","appInfo","callZomeTransform","wsClient","messageType","_messageId","_console","Postmate","debug","messageTypes","handshake","emit","reply","sanitize","allowedOrigin","origin","postmate","ParentAPI","parent","frame","child","childOrigin","events","listener","_ref","_proto","_this2","transact","postMessage","eventName","destroy","ChildAPI","_this3","model","parentOrigin","_e$data","unwrappedContext","resolveValue","_ref2","_ref2$container","container","_ref2$classListArray","classListArray","contentWindow","contentDocument","parentWindow","sendHandshake","responseInterval","_this4","href","protocol","location","port","hostname","resolveOrigin","attempt","doSend","loaded","attachEvent","onload","Model","sendHandshakeReply","_this5","shake","defaults","TimeoutError","params","captureStackTrace","to_id","err_1","__importDefault","mod","__esModule","default","postmate_1","require$$0","async_with_timeout_1","require$$1","async_with_timeout_2","COMB","level","methods","msg_count","responses","class_name","frame_count","querySelector","msg_bus","method","msg_id","resp","sendSignal","EventHandlers","EventEmitter","$getMaxListeners","that","_maxListeners","defaultMaxListeners","emitNone","isFn","len","listeners","arrayClone","emitOne","arg1","emitTwo","arg2","emitThree","arg3","emitMany","_addListener","prepend","existing","_events","newListener","_eventsCount","warned","emitter","emitWarning","_onceWrap","fired","removeListener","listenerCount","evlistener","usingDomains","domain","active","setMaxListeners","isNaN","getMaxListeners","er","doError","err","domainEmitter","domainThrown","addListener","prependListener","prependOnceListener","list","originalListener","spliceOne","removeAllListeners","unwrapListeners","eventNames","ownKeys","TESTING","Connection","branding","chaperone_url","URL","logo_url","searchParams","makeUrlAbsolute","app_name","info_link","publisher_name","waiting","connecting","iframe","zIndex","width","height","top","left","display","HOSTED_ANONYMOUS","zomeCall","signUp","signIn","signOut","holoInfo","AUTONOMOUS","HOSTED_AGENT","HolochainClient","appWebsocket","cellData","cell_id","cap","zome_name","fn_name","provenance","signalHandler","appWs","ConductorApi.AppWebsocket","applyDelta","changeToText","action_result","element_src","change","deleted","resizeable","resizeHandle","maxDrawerSize","documentElement","clientHeight","setDrawerHeight","getDrawerHeight","pxHeight","getComputedStyle","getPropertyValue","drawerHidden","tabShown","installed_app_id","cell_data","createStore","noscribe","$scribeStr","resizeableEl","preventDefault","startingDrawerHeight","yOffset","pageY","mouseDragHandler","moveEvent","buttons"],"mappings":"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"}